<div class="card" *ngIf="poll">
  <div class="card-header">
    {{ poll.title.text }}<br />
  </div>
  <div class="card-body">
    <h5 class="card-title">{{ poll.question.text }}</h5>
    <div class="card-text" *ngIf="view === 'question'">
      <em *ngIf="voted.hasVoted">You have already voted!</em>
      <ws-standard-poll *ngIf="poll.type === 'standard'" [poll]="poll" [voted]="voted" [initialSelection]="selection"
        (optionSelected)="selected($event)">
      </ws-standard-poll>
      <ws-weighted-poll *ngIf="poll.type === 'weighted'" [poll]="poll" [voted]="voted" [initialSelection]="selection"
      (optionSelected)="selected($event)">
    </ws-weighted-poll>
    </div>
    <div class="card-text" *ngIf="view === 'result'">
      <ws-poll-result-graph *ngIf="results" [poll]="poll" [results]="results"></ws-poll-result-graph>
    </div>
    <hr />

    <button [disabled]="hasVotesSelected()" *ngIf="voted && !voted.hasVoted && view === 'question'" class="btn btn-success" href="#"
      (click)="vote(); false;"><i class="fa fa-check"></i>&nbsp; Vote</button>&nbsp;
    <button *ngIf="voted && voted.hasVoted && view === 'question' && poll.allowingReVote" class="btn btn-warning" href="#"
      (click)="unvote(); false;"><i class="fa fa-close"></i>&nbsp; Clear Vote</button>&nbsp;
    <button *ngIf="viewResultsState()" class="btn btn-primary" href="#" (click)="changeView('result'); false;"><i
        class="fa fa-area-chart"></i>&nbsp; View Results</button>
    <button *ngIf="view === 'result'" class="btn btn-primary" href="#" (click)="changeView('question'); false;"><i
        class="fa fa-question-circle"></i>&nbsp; View Choices</button>
  </div>
</div>
