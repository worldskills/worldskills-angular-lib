!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@angular/core"),require("rxjs"),require("@angular/common"),require("@angular/platform-browser"),require("angular-oauth2-oidc"),require("@angular/router"),require("@ng-bootstrap/ng-bootstrap"),require("@angular/forms"),require("@ng-select/ng-select"),require("uuid"),require("@angular/common/http"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("worldskills-angular-lib",["@angular/core","rxjs","@angular/common","@angular/platform-browser","angular-oauth2-oidc","@angular/router","@ng-bootstrap/ng-bootstrap","@angular/forms","@ng-select/ng-select","uuid","@angular/common/http","rxjs/operators"],t):(e=e||self)["worldskills-angular-lib"]=t(e.ng.core,e.rxjs,e.ng.common,e.ng.platformBrowser,e.angularOauth2Oidc,e.ng.router,e.ngBootstrap,e.ng.forms,e.ngSelect,e.uuid,e.ng.common.http,e.rxjs.operators)}(this,(function(e,t,n,r,o,i,a,l,s,c,u,p){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function d(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */(null==t&&n.path)}},n.exports),n.exports}var f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function h(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var v=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function g(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function S(e){return this instanceof S?(this.v=e,this):new S(e)}var x=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};var w=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return m},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},__generator:h,__createBinding:v,__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||v(t,e,n)},__values:g,__read:y,__spread:b,__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)r[o]=i[a];return r},__await:S,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||l(e,t)}))})}function l(e,t){try{(n=o[e](t)).value instanceof S?Promise.resolve(n.value.v).then(s,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function s(e){l("next",e)}function c(e){l("throw",e)}function u(e,t){e(t),i.shift(),i.length&&l(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:"return"===r}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=g(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&v(t,e,n);return x(t,e),t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),_=d((function(n,r){Object.defineProperty(r,"__esModule",{value:!0}),r.WorldskillsAngularLibService=void 0;var o=e,i=function(){this.appConfigSubject=new t.BehaviorSubject({notAuthorizedRoute:["/not-authorized"]}),this.httpConfigSubject=new t.BehaviorSubject({encoderUriPatterns:[],authUriPatterns:[]}),this.serviceConfigSubject=new t.BehaviorSubject({appCode:[],apiEndpoint:""}),this.authConfigSubject=new t.BehaviorSubject({})};r.WorldskillsAngularLibService=i,i.ɵfac=function(e){return new(e||i)},i.ɵprov=o.ɵɵdefineInjectable({token:i,factory:i.ɵfac,providedIn:"root"})})),E=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WorldskillsAngularLibComponent=void 0;var r=e,o=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();n.WorldskillsAngularLibComponent=o,o.ɵfac=function(e){return new(e||o)},o.ɵcmp=r.ɵɵdefineComponent({type:o,selectors:[["ws-worldskills-angular-lib"]],decls:2,vars:0,template:function(e,t){1&e&&(r.ɵɵelementStart(0,"p"),r.ɵɵtext(1," worldskills-angular-lib works! "),r.ɵɵelementEnd())},encapsulation:2})})),C=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AlertService=void 0;var r=e,o=function(){function e(){this.alerts=[]}return e.prototype.remove=function(e){var t=this.alerts.findIndex((function(t){return t.id===e}));-1!==t&&this.alerts.splice(t,1)},e.prototype.setAlert=function(e,t,n,r,o){n=n||"",r=r||"",o=o||!1,this.alerts.push({id:e,type:t,title:n,message:r,closable:o})},e}();n.AlertService=o,o.ɵfac=function(e){return new(e||o)},o.ɵprov=r.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"})})),O=d((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AlertComponent=void 0;var o=e;function i(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"button",6),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext(3).dismiss()})),o.ɵɵelementStart(1,"span",7),o.ɵɵtext(2,"×"),o.ɵɵelementEnd(),o.ɵɵelementEnd()}}function a(e,t){if(1&e&&(o.ɵɵelementStart(0,"h4",5),o.ɵɵtext(1),o.ɵɵtemplate(2,i,3,0,"button",4),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(2);o.ɵɵadvance(1),o.ɵɵtextInterpolate1(" ",n.alert.title," "),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.canClose())}}function l(e,t){if(1&e&&(o.ɵɵelementStart(0,"span"),o.ɵɵtext(1),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(2);o.ɵɵadvance(1),o.ɵɵtextInterpolate(n.alert.message)}}function s(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"button",6),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).dismiss()})),o.ɵɵelementStart(1,"span",7),o.ɵɵtext(2,"×"),o.ɵɵelementEnd(),o.ɵɵelementEnd()}}function c(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",1),o.ɵɵtemplate(1,a,3,2,"h4",2),o.ɵɵtemplate(2,l,2,1,"span",3),o.ɵɵtemplate(3,s,3,0,"button",4),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵclassMapInterpolate1("alert ",n.alert.type,"  alert-dismissible"),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.hasTitle()),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.hasMessage()),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.canClose()&&!n.hasTitle())}}var u=function(){function e(e){this.alertService=e}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(){},e.prototype.hasMessage=function(){return this.alert.message&&this.alert.message.length>0},e.prototype.hasTitle=function(){return this.alert.title&&this.alert.title.length>0},e.prototype.canClose=function(){return this.alert.closable},e.prototype.dismiss=function(){this.alertService.remove(this.alert.id)},e}();r.AlertComponent=u,u.ɵfac=function(e){return new(e||u)(o.ɵɵdirectiveInject(C.AlertService))},u.ɵcmp=o.ɵɵdefineComponent({type:u,selectors:[["ws-alert"]],inputs:{alert:"alert"},features:[o.ɵɵNgOnChangesFeature],decls:1,vars:1,consts:[["role","alert",3,"class",4,"ngIf"],["role","alert"],["class","alert-heading",4,"ngIf"],[4,"ngIf"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[1,"alert-heading"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,t){1&e&&o.ɵɵtemplate(0,c,4,6,"div",0),2&e&&o.ɵɵproperty("ngIf",t.alert)},directives:[n.NgIf],styles:[""]})})),k=d((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AlertsComponent=void 0;var o=e;function i(e,t){if(1&e&&o.ɵɵelement(0,"ws-alert",3),2&e){var n=t.$implicit;o.ɵɵproperty("alert",n)}}function a(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",1),o.ɵɵtemplate(1,i,1,1,"ws-alert",2),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",n.alertService.alerts)}}var l=function(){function e(e){this.alertService=e}return e.prototype.ngOnInit=function(){},Object.defineProperty(e.prototype,"hasAlerts",{get:function(){return this.alertService.alerts.length>0},enumerable:!1,configurable:!0}),e}();r.AlertsComponent=l,l.ɵfac=function(e){return new(e||l)(o.ɵɵdirectiveInject(C.AlertService))},l.ɵcmp=o.ɵɵdefineComponent({type:l,selectors:[["ws-alerts"]],decls:1,vars:1,consts:[["class","alerts",4,"ngIf"],[1,"alerts"],[3,"alert",4,"ngFor","ngForOf"],[3,"alert"]],template:function(e,t){1&e&&o.ɵɵtemplate(0,a,2,1,"div",0),2&e&&o.ɵɵproperty("ngIf",t.hasAlerts)},directives:[n.NgIf,n.NgForOf,O.AlertComponent],styles:[""]})})),T=d((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PuppeteerBannerComponent=void 0;var o=e;function i(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",1),o.ɵɵtext(1),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(1),o.ɵɵtextInterpolate4(" ",n.currentUser.puppeteer.first_name," ",n.currentUser.puppeteer.last_name," logged in as ",n.currentUser.firstName," ",n.currentUser.lastName,"\n")}}var a=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();r.PuppeteerBannerComponent=a,a.ɵfac=function(e){return new(e||a)},a.ɵcmp=o.ɵɵdefineComponent({type:a,selectors:[["ws-puppeteer-banner"]],inputs:{currentUser:"currentUser"},decls:1,vars:1,consts:[["style","background-color: #D51067; padding: 10px 20px; color: #fff; text-align: center;",4,"ngIf"],[2,"background-color","#D51067","padding","10px 20px","color","#fff","text-align","center"]],template:function(e,t){1&e&&o.ɵɵtemplate(0,i,2,4,"div",0),2&e&&o.ɵɵproperty("ngIf",t.currentUser&&t.currentUser.puppeteer)},directives:[n.NgIf],styles:[""]})})),I=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StagingBannerComponent=void 0;var r=e,o=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();n.StagingBannerComponent=o,o.ɵfac=function(e){return new(e||o)},o.ɵcmp=r.ɵɵdefineComponent({type:o,selectors:[["ws-staging-banner"]],decls:2,vars:0,consts:[[2,"background-color","#f0ad4e","padding","10px 20px","color","#fff","text-align","center"]],template:function(e,t){1&e&&(r.ɵɵelementStart(0,"div",0),r.ɵɵtext(1,"This is the staging environment. Changes in this environment might get overwritten."),r.ɵɵelementEnd())},styles:[""]})})),M=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayUtil=void 0;var n=function(){function e(){}return e.pushMany=function(e,t){return t.forEach((function(t){return e.push(t)})),e},e.dedupePrimitive=function(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t},e.isArray=function(e){return"[object Array]"===toString.call(e)},e}();t.ArrayUtil=n})),P=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GenericUtil=void 0;var n=function(){function e(){}return e.isNullOrUndefined=function(e){return null==e},e.getValueOrDefault=function(t,n){return e.isNullOrUndefined(t)?n:t},e}();t.GenericUtil=n})),j=d((function(n,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BreadcrumbsService=void 0;var o=e,i=function(){function e(){this.breadcrumbs=[],this.replacements=[],this.breadcrumbsSubject=new t.BehaviorSubject([])}return e.prototype.build=function(e,t){var n=this;if(void 0===t&&(t=""),e.outlet===this.targetOutlet){var r=e.snapshot.url.map((function(e){return e.path})).join("/");if(t=t+"/"+r,this.isAtHome=r===this.homeItemRoute.replace("/",""),e.snapshot.data.hasOwnProperty("breadcrumb")){var o={key:e.snapshot.data.breadcrumb.key,label:e.snapshot.data.breadcrumb.label,params:e.snapshot.params,url:t},i=this.replacements.findIndex((function(e){return e.key===o.label}));-1!==i&&(o.label=this.replacements[i].value),this.breadcrumbs.push(o),this.breadcrumbsSubject.next(this.breadcrumbs)}if(0===e.children.length)return;e.children.forEach((function(e){n.build(e,t)}))}},e.prototype.createOrUpdateReplacement=function(e,t){var n=this.replacements.findIndex((function(t){return t.key===e}));if(-1===n){var r={key:e,value:t};this.replacements.push(r),n=this.replacements.findIndex((function(t){return t.key===e}))}else this.replacements[n].value=t;return n},e.prototype.replaceLabel=function(e,t){var n=this;this.createOrUpdateReplacement(e,t);P.GenericUtil.isNullOrUndefined(this.breadcrumbs)||0!==this.breadcrumbs.length&&(this.breadcrumbs.forEach((function(r,o){r.key===e&&(n.breadcrumbs[o].label=t)})),this.breadcrumbsSubject.next(this.breadcrumbs))},e.prototype.remove=function(e){var t=this.breadcrumbs.findIndex((function(t){return t.key===e}));-1!==t&&(this.breadcrumbs.splice(t,1),this.breadcrumbsSubject.next(this.breadcrumbs))},e.prototype.add=function(e){-1===this.breadcrumbs.findIndex((function(t){return t.key===e.key}))?(this.breadcrumbs.push(e),this.breadcrumbsSubject.next(this.breadcrumbs)):t.throwError('key "'+e.key+'" already exists')},e}();r.BreadcrumbsService=i,i.ɵfac=function(e){return new(e||i)},i.ɵprov=o.ɵɵdefineInjectable({token:i,factory:i.ɵfac,providedIn:"root"})})),D=d((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BreadcrumbsComponent=void 0;var o=e,a=i;function l(e,t){if(1&e&&(o.ɵɵelementStart(0,"li",5),o.ɵɵelementStart(1,"a",6),o.ɵɵtext(2),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(2);o.ɵɵadvance(1),o.ɵɵpropertyInterpolate("href",n.homeItemRoute,o.ɵɵsanitizeUrl),o.ɵɵadvance(1),o.ɵɵtextInterpolate(n.homeItemText)}}function s(e,t){if(1&e&&(o.ɵɵelementStart(0,"li",5),o.ɵɵtext(1),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(2);o.ɵɵadvance(1),o.ɵɵtextInterpolate1(" ",n.homeItemText," ")}}var c=function(e,t){return[e,t]};function u(e,t){if(1&e&&(o.ɵɵelementStart(0,"a",9),o.ɵɵtext(1),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext().$implicit;o.ɵɵproperty("routerLink",o.ɵɵpureFunction2(2,c,n.url,n.params)),o.ɵɵadvance(1),o.ɵɵtextInterpolate1(" ",n.label," ")}}function p(e,t){if(1&e&&(o.ɵɵelementStart(0,"span"),o.ɵɵtext(1),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext().$implicit;o.ɵɵadvance(1),o.ɵɵtextInterpolate1(" ",n.label," ")}}function d(e,t){if(1&e&&(o.ɵɵelementStart(0,"li"),o.ɵɵtemplate(1,u,2,5,"a",7),o.ɵɵtemplate(2,p,2,1,"span",8),o.ɵɵelementEnd()),2&e){var n=t.last;o.ɵɵclassMapInterpolate1("breadcrumb-item ",n?"active":"",""),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",!n),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n)}}function f(e,t){if(1&e&&(o.ɵɵelementStart(0,"nav",1),o.ɵɵelementStart(1,"ol",2),o.ɵɵtemplate(2,l,3,2,"li",3),o.ɵɵtemplate(3,s,2,1,"li",3),o.ɵɵtemplate(4,d,3,5,"li",4),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(2),o.ɵɵproperty("ngIf",n.showHomeItem&&!n.isAtHome),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.showHomeItem&&n.isAtHome),o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",n.breadcrumbs)}}var m=function(){function e(e,t,n){this.service=e,this.router=t,this.route=n}return e.prototype.ngOnInit=function(){var e=this;this.replacementSubscription=this.service.breadcrumbsSubject.subscribe((function(t){e.breadcrumbs=[],M.ArrayUtil.pushMany(e.breadcrumbs,t)})),this.isAtHome=!1,this.service.homeItemRoute=this.homeItemRoute,this.service.targetOutlet="primary",this.service.build(this.route.root),this.rebuildSubscription=this.router.events.subscribe((function(t){t instanceof i.NavigationEnd&&(e.service.build(e.route.root),e.isAtHome=e.service.isAtHome)}))},e.prototype.ngOnChanges=function(){},e.prototype.ngOnDestroy=function(){this.replacementSubscription&&this.replacementSubscription.unsubscribe(),this.rebuildSubscription&&this.rebuildSubscription.unsubscribe()},e}();r.BreadcrumbsComponent=m,m.ɵfac=function(e){return new(e||m)(o.ɵɵdirectiveInject(j.BreadcrumbsService),o.ɵɵdirectiveInject(a.Router),o.ɵɵdirectiveInject(a.ActivatedRoute))},m.ɵcmp=o.ɵɵdefineComponent({type:m,selectors:[["ws-breadcrumbs"]],inputs:{showHomeItem:"showHomeItem",homeItemRoute:"homeItemRoute",homeItemText:"homeItemText"},features:[o.ɵɵNgOnChangesFeature],decls:1,vars:1,consts:[["aria-label","breadcrumb",4,"ngIf"],["aria-label","breadcrumb"],[1,"breadcrumb"],["class","breadcrumb-item",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[3,"href"],[3,"routerLink",4,"ngIf"],[4,"ngIf"],[3,"routerLink"]],template:function(e,t){1&e&&o.ɵɵtemplate(0,f,5,3,"nav",0),2&e&&o.ɵɵproperty("ngIf",t.breadcrumbs)},directives:[n.NgIf,n.NgForOf],styles:[""]})})),F=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WordmarkComponent=void 0;var r=e,o=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();n.WordmarkComponent=o,o.ɵfac=function(e){return new(e||o)},o.ɵcmp=r.ɵɵdefineComponent({type:o,selectors:[["ws-wordmark"]],decls:14,vars:0,consts:[["width","115px","height","22px","viewBox","0 0 220 42","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",0,"xml","space","preserve",0,"xmlns","serif","http://www.serif.com/","aria-label","WorldSkills",1,"d-inline-block","align-baseline",2,"fill-rule","evenodd","clip-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","1.41421"],["d","M52.271,39.434c-5.36,0 -8.958,-4.397 -8.958,-10.943c0,-6.546 3.598,-10.945 8.958,-10.945c5.358,0 8.959,4.399 8.959,10.945c0,6.546 -3.601,10.943 -8.959,10.943Zm0,-24.453c-9.152,0 -12.397,7.275 -12.397,13.51c0,6.233 3.245,13.509 12.397,13.509c9.151,0 12.398,-7.276 12.398,-13.509c0,-6.235 -3.247,-13.51 -12.398,-13.51Z",2,"fill","#fff","fill-rule","nonzero"],["d","M70.618,19.724l0,-4.232l-2.916,0l0.003,25.798l3.122,0l0,-12.745l-0.006,-0.165c0.006,-4.753 1.352,-10.434 7.767,-10.434l0.975,0.046l0.012,-0.101l0.156,-3.009l-0.363,-0.002c-4.333,0 -7.269,1.636 -8.75,4.844Z",2,"fill","#fff","fill-rule","nonzero"],["d","M134.06,20.521c-2.152,-0.71 -3.726,-1.121 -6.297,-1.121c-1.89,0 -4.145,0.664 -4.145,2.906c0,4.179 12.225,1.529 12.225,11.001c0,6.116 -5.614,8.562 -11.333,8.562c-2.68,0 -5.407,-0.457 -7.977,-1.119l0.419,-5.607c2.203,1.069 4.512,1.733 6.924,1.733c1.788,0 4.62,-0.664 4.62,-3.209c0,-5.146 -12.226,-1.632 -12.226,-11.107c0,-5.653 5.09,-8.153 10.599,-8.153c3.306,0 5.46,0.512 7.662,0.97l-0.471,5.144Z",2,"fill","#fff","fill-rule","nonzero"],["x","166.803","y","15.051","width","7.034","height","26.239",2,"fill","#fff","fill-rule","nonzero"],["d","M217.817,20.521c-2.151,-0.71 -3.725,-1.121 -6.296,-1.121c-1.892,0 -4.146,0.664 -4.146,2.906c0,4.179 12.225,1.529 12.225,11.001c0,6.116 -5.613,8.562 -11.333,8.562c-2.678,0 -5.405,-0.457 -7.977,-1.119l0.42,-5.607c2.203,1.069 4.513,1.733 6.926,1.733c1.785,0 4.619,-0.664 4.619,-3.209c0,-5.146 -12.227,-1.632 -12.227,-11.107c0,-5.653 5.09,-8.153 10.602,-8.153c3.305,0 5.454,0.512 7.659,0.97l-0.472,5.144Z",2,"fill","#fff","fill-rule","nonzero"],["d","M153.067,26.813l9.962,-11.762l-8.292,0l-8.394,10.497l-0.106,0l0,-24.614l-7.032,2.147l0,38.209l7.032,0l0,-12.737l0.106,0l9.027,12.737l8.919,0l-11.222,-14.477Z",2,"fill","#fff","fill-rule","nonzero"],["d","M101.041,39.334c-7.234,0 -8.017,-7.652 -8.017,-10.942c0,-3.292 0.783,-10.943 8.017,-10.943c5.537,0 8.017,5.495 8.017,10.943c0,5.447 -2.48,10.942 -8.017,10.942Zm11.012,-36.961l-2.995,0.917l0,15.951c-0.652,-1.091 -3.088,-4.428 -8.543,-4.362c-9.031,0.115 -10.927,7.409 -10.927,13.513c0,8.332 4.187,13.512 10.929,13.512c4.014,0 6.73,-1.48 8.541,-4.615l0,4.001l3.121,0l0,-38.956l-0.126,0.039Z",2,"fill","#fff","fill-rule","nonzero"],["d","M85.984,2.376l-2.997,0.912l0,38.003l3.123,0l0,-38.956l-0.126,0.041Z",2,"fill","#fff","fill-rule","nonzero"],["d","M178.373,3.081l0,38.209l7.031,0l0,-40.357l-7.031,2.148Z",2,"fill","#fff","fill-rule","nonzero"],["d","M189.455,3.081l-0.004,0l0,38.209l7.034,0l0,-40.357l-7.03,2.148Z",2,"fill","#fff","fill-rule","nonzero"],["d","M174.384,5.257c0,-2.165 -1.756,-3.917 -3.917,-3.917c-2.161,0 -3.915,1.752 -3.915,3.917c0,2.163 1.754,3.917 3.915,3.917c2.161,0 3.917,-1.754 3.917,-3.917Z",2,"fill","#fff","fill-rule","nonzero"],["d","M3.352,15.492l-3.352,0l0.042,0.128c0.16,0.487 8.402,25.375 8.48,25.603l0.022,0.067l3.856,0c0,0 7.249,-22.333 7.292,-22.468l0.239,0c0.045,0.135 7.294,22.468 7.294,22.468l3.858,0l8.753,-25.798l-3.113,0c0,0 -7.354,22.333 -7.4,22.466l-0.238,0c-0.042,-0.133 -7.082,-22.466 -7.082,-22.466l-3.857,0c0,0 -7.407,22.333 -7.453,22.466l-0.237,0c-0.042,-0.136 -7.032,-22.466 -7.032,-22.466l-0.072,0Z",2,"fill","#fff","fill-rule","nonzero"]],template:function(e,t){1&e&&(r.ɵɵnamespaceSVG(),r.ɵɵelementStart(0,"svg",0),r.ɵɵelementStart(1,"g"),r.ɵɵelement(2,"path",1),r.ɵɵelement(3,"path",2),r.ɵɵelement(4,"path",3),r.ɵɵelement(5,"rect",4),r.ɵɵelement(6,"path",5),r.ɵɵelement(7,"path",6),r.ɵɵelement(8,"path",7),r.ɵɵelement(9,"path",8),r.ɵɵelement(10,"path",9),r.ɵɵelement(11,"path",10),r.ɵɵelement(12,"path",11),r.ɵɵelement(13,"path",12),r.ɵɵelementEnd(),r.ɵɵelementEnd())},styles:[""]})})),R=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MenuAccessPipe=void 0;var r=e,o=function(){function e(){}return e.prototype.transform=function(e,t,n){return null==e?[]:e.filter((function(e){var r,o;if(null==e)return!1;if(e.hidden)return!1;if(e.requireLogin&&!t)return!1;if(0===e.requiredRoles.length)return!0;var i=!1,a=function(e){if(i=-1!==n.findIndex((function(t){return t===e})))return"break"};try{for(var l=g(e.requiredRoles),s=l.next();!s.done;s=l.next()){if("break"===a(s.value))break}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return i}))},e}();n.MenuAccessPipe=o,o.ɵfac=function(e){return new(e||o)},o.ɵpipe=r.ɵɵdefinePipe({name:"wsMenuAccesssFilter",type:o,pure:!0})})),A=d((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HeaderComponent=void 0;var o=e,l=function(e,t){return[e,t]};function s(e,t){if(1&e&&(o.ɵɵelementStart(0,"li"),o.ɵɵelementStart(1,"a",10),o.ɵɵtext(2),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e){var n=t.$implicit,r=o.ɵɵnextContext();o.ɵɵclassMapInterpolate1("nav-item ",r.isRouteActive(n.url)?"active":"",""),o.ɵɵadvance(1),o.ɵɵproperty("routerLink",o.ɵɵpureFunction2(5,l,n.url,n.params)),o.ɵɵadvance(1),o.ɵɵtextInterpolate1(" ",n.label," ")}}function c(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"div",11),o.ɵɵelementStart(1,"button",12),o.ɵɵtext(2),o.ɵɵelementEnd(),o.ɵɵelementStart(3,"div",13),o.ɵɵelementStart(4,"a",14),o.ɵɵtext(5),o.ɵɵelementEnd(),o.ɵɵelement(6,"div",15),o.ɵɵelementStart(7,"a",16),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext().logout(),!1})),o.ɵɵtext(8,"Logout"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var r=o.ɵɵnextContext();o.ɵɵadvance(2),o.ɵɵtextInterpolate1(" ",r.getInitials()," "),o.ɵɵadvance(3),o.ɵɵtextInterpolate2("",r.currentUser.firstName," ",r.currentUser.lastName,"")}}function u(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"a",17),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext().login(),!1})),o.ɵɵtext(1,"Log in"),o.ɵɵelementEnd()}}var p=function(){function t(t){this.router=t,this.logoutClick=new e.EventEmitter,this.loginClick=new e.EventEmitter,this.appName="Application",this.isLoggedIn=!1,this.showLoginAndLogoutButtons=!1,this.menuItems=[],this.currentUser=null}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(){},t.prototype.userRoles=function(){return void 0===this.currentUser||null===this.currentUser||void 0===this.currentUser.roles||null===this.currentUser.roles?[]:this.currentUser.roles.map((function(e){return e.name}))},t.prototype.isRouteActive=function(e){return e===this.router.url},t.prototype.login=function(){this.loginClick.emit()},t.prototype.logout=function(){this.logoutClick.emit()},t.prototype.getInitials=function(){var e="";return this.currentUser&&(this.currentUser.first_name&&(e=this.currentUser.first_name.substr(0,1)),this.currentUser.last_name&&(e+=this.currentUser.last_name.substr(0,1))),e.toUpperCase()},t}();r.HeaderComponent=p,p.ɵfac=function(e){return new(e||p)(o.ɵɵdirectiveInject(i.Router))},p.ɵcmp=o.ɵɵdefineComponent({type:p,selectors:[["ws-header"]],inputs:{appName:"appName",isLoggedIn:"isLoggedIn",showLoginAndLogoutButtons:"showLoginAndLogoutButtons",menuItems:"menuItems",currentUser:"currentUser"},outputs:{logoutClick:"logoutClick",loginClick:"loginClick"},features:[o.ɵɵNgOnChangesFeature],decls:14,vars:8,consts:[[1,"navbar","navbar-expand-md","ws-navbar-main","ws-navbar-stripe","wsmember-navbar-main","wsmember-bg-pink"],[1,"container"],["href","#",1,"navbar-brand"],[1,"ml-1","text-white"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","collapsed"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[3,"class",4,"ngFor","ngForOf"],["class","dropdown ml-2",4,"ngIf"],["class","btn btn-light btn-sm ml-2 wsi-login",3,"click",4,"ngIf"],[1,"nav-link",3,"routerLink"],[1,"dropdown","ml-2"],["type","button","data-toggle","dropdown",1,"btn","btn-white","rounded-pill"],[1,"dropdown-menu","dropdown-menu-right"],["href","#","tabindex","-1",1,"dropdown-item","disabled"],[1,"dropdown-divider"],["href","#",1,"dropdown-item",3,"click"],[1,"btn","btn-light","btn-sm","ml-2","wsi-login",3,"click"]],template:function(e,t){1&e&&(o.ɵɵelementStart(0,"nav",0),o.ɵɵelementStart(1,"div",1),o.ɵɵelementStart(2,"a",2),o.ɵɵelement(3,"ws-wordmark"),o.ɵɵelementStart(4,"span",3),o.ɵɵtext(5),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(6,"button",4),o.ɵɵtext(7," Menu "),o.ɵɵelementEnd(),o.ɵɵelementStart(8,"div",5),o.ɵɵelementStart(9,"ul",6),o.ɵɵtemplate(10,s,3,8,"li",7),o.ɵɵpipe(11,"wsMenuAccesssFilter"),o.ɵɵelementEnd(),o.ɵɵtemplate(12,c,9,3,"div",8),o.ɵɵtemplate(13,u,2,0,"a",9),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e&&(o.ɵɵadvance(5),o.ɵɵtextInterpolate(t.appName),o.ɵɵadvance(5),o.ɵɵproperty("ngForOf",o.ɵɵpipeBind3(11,4,t.menuItems,t.isLoggedIn,t.userRoles())),o.ɵɵadvance(2),o.ɵɵproperty("ngIf",t.showLoginAndLogoutButtons&&t.isLoggedIn),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",t.showLoginAndLogoutButtons&&!t.isLoggedIn))},directives:[a.NgbNavbar,F.WordmarkComponent,n.NgForOf,n.NgIf],pipes:[R.MenuAccessPipe],styles:[""]})})),L=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LogoComponent=void 0;var r=e,o=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();n.LogoComponent=o,o.ɵfac=function(e){return new(e||o)},o.ɵcmp=r.ɵɵdefineComponent({type:o,selectors:[["ws-logo"]],decls:22,vars:0,consts:[["width","110px","height","65px","viewBox","0 0 220 129","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",0,"xml","space","preserve",0,"xmlns","serif","http://www.serif.com/","aria-label","WorldSkills",2,"fill-rule","evenodd","clip-rule","evenodd","stroke-linejoin","round","stroke-miterlimit","1.41421"],["d","M52.271,126.434c-5.36,0 -8.958,-4.395 -8.958,-10.942c0,-6.547 3.598,-10.944 8.958,-10.944c5.358,0 8.959,4.397 8.959,10.944c0,6.547 -3.601,10.942 -8.959,10.942Zm0,-24.453c-9.152,0 -12.397,7.276 -12.397,13.511c0,6.232 3.245,13.509 12.397,13.509c9.151,0 12.398,-7.277 12.398,-13.509c0,-6.235 -3.247,-13.511 -12.398,-13.511Z",2,"fill","#fff","fill-rule","nonzero"],["d","M70.618,106.725l0,-4.232l-2.916,0l0.003,25.798l3.122,0l0,-12.745l-0.006,-0.165c0.006,-4.753 1.352,-10.434 7.767,-10.434l0.975,0.046l0.012,-0.101l0.156,-3.009l-0.363,-0.002c-4.333,0 -7.269,1.636 -8.75,4.844Z",2,"fill","#fff","fill-rule","nonzero"],["d","M134.06,107.522c-2.152,-0.71 -3.726,-1.121 -6.297,-1.121c-1.89,0 -4.145,0.664 -4.145,2.905c0,4.18 12.225,1.53 12.225,11.001c0,6.117 -5.614,8.564 -11.333,8.564c-2.68,0 -5.407,-0.457 -7.977,-1.12l0.419,-5.607c2.203,1.069 4.512,1.733 6.924,1.733c1.788,0 4.62,-0.664 4.62,-3.209c0,-5.146 -12.226,-1.631 -12.226,-11.107c0,-5.653 5.09,-8.153 10.599,-8.153c3.306,0 5.46,0.512 7.662,0.97l-0.471,5.144Z",2,"fill","#fff","fill-rule","nonzero"],["x","166.803","y","102.052","width","7.034","height","26.24",2,"fill","#fff","fill-rule","nonzero"],["d","M217.817,107.522c-2.151,-0.71 -3.725,-1.121 -6.296,-1.121c-1.892,0 -4.146,0.664 -4.146,2.905c0,4.18 12.225,1.53 12.225,11.001c0,6.117 -5.613,8.564 -11.333,8.564c-2.678,0 -5.405,-0.457 -7.977,-1.12l0.42,-5.607c2.203,1.069 4.513,1.733 6.926,1.733c1.785,0 4.619,-0.664 4.619,-3.209c0,-5.146 -12.227,-1.631 -12.227,-11.107c0,-5.653 5.09,-8.153 10.602,-8.153c3.305,0 5.454,0.512 7.659,0.97l-0.472,5.144Z",2,"fill","#fff","fill-rule","nonzero"],["d","M153.067,113.813l9.962,-11.761l-8.292,0l-8.394,10.497l-0.106,0l0,-24.615l-7.032,2.148l0,38.21l7.032,0l0,-12.738l0.106,0l9.027,12.738l8.919,0l-11.222,-14.479Z",2,"fill","#fff","fill-rule","nonzero"],["d","M101.041,126.336c-7.234,0 -8.017,-7.653 -8.017,-10.943c0,-3.292 0.783,-10.944 8.017,-10.944c5.537,0 8.017,5.495 8.017,10.944c0,5.448 -2.48,10.943 -8.017,10.943Zm11.012,-36.962l-2.995,0.917l0,15.95c-0.652,-1.091 -3.088,-4.428 -8.543,-4.36c-9.031,0.114 -10.927,7.409 -10.927,13.512c0,8.332 4.187,13.511 10.929,13.511c4.014,0 6.73,-1.479 8.541,-4.613l0,4.001l3.121,0l0,-38.957l-0.126,0.039Z",2,"fill","#fff","fill-rule","nonzero"],["d","M85.984,89.376l-2.997,0.913l0,38.003l3.123,0l0,-38.957l-0.126,0.041Z",2,"fill","#fff","fill-rule","nonzero"],["d","M178.373,90.082l0,38.21l7.031,0l0,-40.359l-7.031,2.149Z",2,"fill","#fff","fill-rule","nonzero"],["d","M189.455,90.082l-0.004,0l0,38.21l7.034,0l0,-40.359l-7.03,2.149Z",2,"fill","#fff","fill-rule","nonzero"],["d","M174.384,92.257c0,-2.165 -1.756,-3.917 -3.917,-3.917c-2.161,0 -3.915,1.752 -3.915,3.917c0,2.163 1.754,3.917 3.915,3.917c2.161,0 3.917,-1.754 3.917,-3.917Z",2,"fill","#fff","fill-rule","nonzero"],["d","M3.352,102.493l-3.352,0l0.042,0.129c0.16,0.486 8.402,25.375 8.48,25.601l0.022,0.069l3.856,0c0,0 7.249,-22.333 7.292,-22.469l0.239,0c0.045,0.136 7.294,22.469 7.294,22.469l3.858,0l8.753,-25.799l-3.113,0c0,0 -7.354,22.334 -7.4,22.467l-0.238,0c-0.042,-0.134 -7.082,-22.467 -7.082,-22.467l-3.857,0c0,0 -7.407,22.334 -7.453,22.467l-0.237,0c-0.042,-0.137 -7.032,-22.467 -7.032,-22.467l-0.072,0Z",2,"fill","#fff","fill-rule","nonzero"],["d","M160.498,44.986c0,0 12.347,-2.186 16.389,-12.002c0,0 71.891,14.725 29.452,53.074c0,0 15.749,-14.828 6.953,-26.691c0,0 4.909,14.726 -14.316,24.645c0,0 41.695,-29.617 -38.478,-39.026Z",2,"fill","#fff","fill-rule","nonzero"],["d","M199.888,39.615c5.028,2.487 8.548,4.931 10.604,6.536c0.905,-25.738 -17.55,-40.127 -17.55,-40.127c-0.536,1.65 -2.147,3.49 -4.448,4.333c-2.301,0.844 -3.682,3.605 -3.682,3.605c9.019,7.501 13.351,16.659 15.076,25.653Z",2,"fill","#fff","fill-rule","nonzero"],["d","M174.979,34.807c1.089,-1.627 1.394,-2.744 1.394,-2.744c4.752,0.844 9.016,1.957 12.814,3.202c-7.877,-22.459 -22.526,-34.751 -22.526,-34.751c-0.409,1.177 -4.704,3.324 -7.619,4.603c-2.914,1.278 -2.147,6.698 -2.147,6.698c8.01,6.619 13.838,14.721 18.084,22.992Z",2,"fill","#fff","fill-rule","nonzero"],["d","M205.115,59.685c-0.991,11.081 -7.571,22.845 -7.571,22.845c4.646,-7.067 7.822,-13.702 9.875,-19.884c-0.576,-1.045 -1.354,-2.031 -2.304,-2.961Z",2,"fill","#fff","fill-rule","nonzero"],["d","M204.253,58.898c-1.084,-0.931 -2.337,-1.804 -3.726,-2.621c-1.154,11.922 -5.13,20.884 -5.13,20.884c2.3,-2.608 4.064,-6.826 4.064,-6.826c0.077,2.991 -2.378,8.897 -2.378,8.897c4.222,-6.783 6.242,-15.026 7.17,-20.334Z",2,"fill","#fff","fill-rule","nonzero"],["d","M179.302,82.112c-2.556,-1.377 -6.263,-2.842 -13.881,-8.742c5.766,4.341 15.394,7.115 15.394,7.115c-21.256,-10.789 -25.89,-20.57 -25.89,-20.57c-2.046,-0.066 -3.279,1.232 -4.089,1.677c-0.811,0.444 -3.021,0.406 -3.021,0.406c8.101,13.061 31.487,20.114 31.487,20.114Z",2,"fill","#fff","fill-rule","nonzero"],["d","M169.793,46.953c-7.062,-1.17 -12.249,-1.622 -12.249,-1.622c2.823,-0.709 5.225,-1.571 7.279,-2.509c-9.939,-7.239 -19.842,-9.021 -19.842,-9.021c0,0 -1.841,0.613 -2.097,3.682c-0.254,3.067 -2.607,3.477 -2.607,3.477c37.121,9.919 42.694,40.495 42.694,40.495c-2.531,-13.805 -7.9,-22.625 -7.9,-22.625c5.676,5.829 9.587,20.632 9.587,20.632c-1.259,-15.301 -7.604,-25.618 -14.865,-32.509Z",2,"fill","#fff","fill-rule","nonzero"],["d","M180.901,49.165c5.345,16.489 5.446,30.449 5.446,30.449c3.955,-7.668 2.914,-25.309 2.914,-25.309c3.681,7.209 3.221,26.844 3.221,26.844c1.888,-10.318 1.961,-19.753 0.878,-28.245c-3.92,-1.502 -8.228,-2.736 -12.459,-3.739Z",2,"fill","#fff","fill-rule","nonzero"]],template:function(e,t){1&e&&(r.ɵɵnamespaceSVG(),r.ɵɵelementStart(0,"svg",0),r.ɵɵelementStart(1,"g"),r.ɵɵelement(2,"path",1),r.ɵɵelement(3,"path",2),r.ɵɵelement(4,"path",3),r.ɵɵelement(5,"rect",4),r.ɵɵelement(6,"path",5),r.ɵɵelement(7,"path",6),r.ɵɵelement(8,"path",7),r.ɵɵelement(9,"path",8),r.ɵɵelement(10,"path",9),r.ɵɵelement(11,"path",10),r.ɵɵelement(12,"path",11),r.ɵɵelement(13,"path",12),r.ɵɵelement(14,"path",13),r.ɵɵelement(15,"path",14),r.ɵɵelement(16,"path",15),r.ɵɵelement(17,"path",16),r.ɵɵelement(18,"path",17),r.ɵɵelement(19,"path",18),r.ɵɵelement(20,"path",19),r.ɵɵelement(21,"path",20),r.ɵɵelementEnd(),r.ɵɵelementEnd())},styles:[""]})})),N=d((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.FooterComponent=void 0;var o=e,i=["#col1DefaultTemplate"],a=["#col6DefaultTemplate"],l=["#colDefaultTemplate"];function s(e,t){1&e&&(o.ɵɵelementStart(0,"h1"),o.ɵɵelementStart(1,"a",16),o.ɵɵtext(2,"myWorldSkills"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(3,"ul"),o.ɵɵelementStart(4,"li"),o.ɵɵelementStart(5,"a",17),o.ɵɵtext(6,"Who-is-Who"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(7,"li"),o.ɵɵelementStart(8,"a",18),o.ɵɵtext(9,"Glossary"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(10,"li"),o.ɵɵelementStart(11,"a",19),o.ɵɵtext(12,"Registrations"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(13,"li"),o.ɵɵelementStart(14,"a",20),o.ɵɵtext(15,"Forums"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(16,"li"),o.ɵɵelementStart(17,"a",21),o.ɵɵtext(18,"Infrastructure Lists"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(19,"li"),o.ɵɵelementStart(20,"a",22),o.ɵɵtext(21,"Skill Management"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd())}function c(e,t){1&e&&(o.ɵɵelementStart(0,"div",23),o.ɵɵelementStart(1,"a",24),o.ɵɵelement(2,"ws-logo",25),o.ɵɵelementEnd(),o.ɵɵelementEnd())}function u(e,t){}function p(e,t){1&e&&o.ɵɵelementContainer(0)}function d(e,t){1&e&&o.ɵɵelementContainer(0)}function f(e,t){1&e&&o.ɵɵelementContainer(0)}function m(e,t){1&e&&o.ɵɵelementContainer(0)}function h(e,t){1&e&&o.ɵɵelementContainer(0)}function v(e,t){1&e&&o.ɵɵelementContainer(0)}function g(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"a",31),o.ɵɵlistener("click",(function(){o.ɵɵrestoreView(n);var e=t.$implicit;return o.ɵɵnextContext(2).changeLanguage(e),!1})),o.ɵɵtext(1),o.ɵɵelementEnd()}if(2&e){var r=t.$implicit,i=o.ɵɵnextContext(2);o.ɵɵclassProp("active",i.isLanguageSelected(r)),o.ɵɵadvance(1),o.ɵɵtextInterpolate1(" ",r.name," ")}}function y(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",26),o.ɵɵelementStart(1,"div",27),o.ɵɵelementStart(2,"button",28),o.ɵɵtext(3," Language "),o.ɵɵelementEnd(),o.ɵɵelementStart(4,"div",29),o.ɵɵtemplate(5,g,2,3,"a",30),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(5),o.ɵɵproperty("ngForOf",n.languages)}}var b=function(){function t(){this.logoutClick=new e.EventEmitter,this.loginClick=new e.EventEmitter,this.languageChange=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.date=new Date},t.prototype.login=function(){this.loginClick.emit()},t.prototype.logout=function(){this.logoutClick.emit()},t.prototype.changeLanguage=function(e){this.selectedLanguage=e,this.languageChange.emit(e)},t.prototype.isLanguageSelected=function(e){return P.GenericUtil.isNullOrUndefined(this.selectedLanguage)?"en"===e.code:e.code===this.selectedLanguage.code},t}();r.FooterComponent=b,b.ɵfac=function(e){return new(e||b)},b.ɵcmp=o.ɵɵdefineComponent({type:b,selectors:[["ws-footer"]],viewQuery:function(e,t){var n;(1&e&&(o.ɵɵviewQuery(i,!0),o.ɵɵviewQuery(a,!0),o.ɵɵviewQuery(l,!0)),2&e)&&(o.ɵɵqueryRefresh(n=o.ɵɵloadQuery())&&(t.col1DefaultTemplate=n.first),o.ɵɵqueryRefresh(n=o.ɵɵloadQuery())&&(t.col6DefaultTemplate=n.first),o.ɵɵqueryRefresh(n=o.ɵɵloadQuery())&&(t.colDefaultTemplate=n.first))},inputs:{languages:"languages",selectedLanguage:"selectedLanguage",isLoggedIn:"isLoggedIn",currentUser:"currentUser",col1Template:"col1Template",col2Template:"col2Template",col3Template:"col3Template",col4Template:"col4Template",col5Template:"col5Template",col6Template:"col6Template"},outputs:{logoutClick:"logoutClick",loginClick:"loginClick",languageChange:"languageChange"},decls:38,vars:11,consts:[["col1DefaultTemplate",""],["col6DefaultTemplate",""],["colDefaultTemplate",""],[1,"ws-page-footer"],[1,"container"],[1,"ws-page-footer-row"],[1,"ws-page-footer-col-sm"],[4,"ngTemplateOutlet"],[1,"ws-page-footer-row","pb-3"],[1,"ws-page-footer-col-lg"],[1,"list-inline","mt-2"],[1,"list-inline-item"],["href","https://worldskills.org/site/privacy/","target","_blank"],["href","https://worldskills.org/site/terms/","target","_blank"],["href","https://worldskills.org/site/contact/","target","_blank"],["class","btn-toolbar justify-content-end",4,"ngIf"],["href","https://worldskills.org/internal/","target","_blank"],["href","https://worldskills.org/internal/wiw/","target","_blank"],["href","https://glossary.worldskills.org/","target","_blank"],["href","https://registrations.worldskills.org/","target","_blank"],["href","https://forums.worldskills.org/","target","_blank"],["href","https://il.worldskills.org/","target","_blank"],["href","https://skill-management.worldskills.org/","target","_blank"],[1,"text-right","mt-5"],["href","https://worldskills.org/","target","_blank"],["mode","default"],[1,"btn-toolbar","justify-content-end"],[1,"btn-group","btn-group-sm","dropup"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-light","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-right"],["class","dropdown-item","href","#",3,"active","click",4,"ngFor","ngForOf"],["href","#",1,"dropdown-item",3,"click"]],template:function(e,t){if(1&e&&(o.ɵɵtemplate(0,s,22,0,"ng-template",null,0,o.ɵɵtemplateRefExtractor),o.ɵɵtemplate(2,c,3,0,"ng-template",null,1,o.ɵɵtemplateRefExtractor),o.ɵɵtemplate(4,u,0,0,"ng-template",null,2,o.ɵɵtemplateRefExtractor),o.ɵɵelementStart(6,"footer",3),o.ɵɵelementStart(7,"div",4),o.ɵɵelementStart(8,"div",5),o.ɵɵelementStart(9,"aside",6),o.ɵɵtemplate(10,p,1,0,"ng-container",7),o.ɵɵelementEnd(),o.ɵɵelementStart(11,"aside",6),o.ɵɵtemplate(12,d,1,0,"ng-container",7),o.ɵɵelementEnd(),o.ɵɵelementStart(13,"aside",6),o.ɵɵtemplate(14,f,1,0,"ng-container",7),o.ɵɵelementEnd(),o.ɵɵelementStart(15,"aside",6),o.ɵɵtemplate(16,m,1,0,"ng-container",7),o.ɵɵelementEnd(),o.ɵɵelementStart(17,"aside",6),o.ɵɵtemplate(18,h,1,0,"ng-container",7),o.ɵɵelementEnd(),o.ɵɵelementStart(19,"aside",6),o.ɵɵtemplate(20,v,1,0,"ng-container",7),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(21,"div",8),o.ɵɵelementStart(22,"div",9),o.ɵɵelementStart(23,"ul",10),o.ɵɵelementStart(24,"li",11),o.ɵɵtext(25),o.ɵɵpipe(26,"date"),o.ɵɵelementEnd(),o.ɵɵelementStart(27,"li",11),o.ɵɵelementStart(28,"a",12),o.ɵɵtext(29,"Privacy"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(30,"li",11),o.ɵɵelementStart(31,"a",13),o.ɵɵtext(32,"Terms"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(33,"li",11),o.ɵɵelementStart(34,"a",14),o.ɵɵtext(35,"Contact"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(36,"div",9),o.ɵɵtemplate(37,y,6,1,"div",15),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e){var n=o.ɵɵreference(1),r=o.ɵɵreference(3),i=o.ɵɵreference(5);o.ɵɵadvance(10),o.ɵɵproperty("ngTemplateOutlet",t.col1Template?t.col1Template:n),o.ɵɵadvance(2),o.ɵɵproperty("ngTemplateOutlet",t.col2Template?t.col2Template:i),o.ɵɵadvance(2),o.ɵɵproperty("ngTemplateOutlet",t.col3Template?t.col3Template:i),o.ɵɵadvance(2),o.ɵɵproperty("ngTemplateOutlet",t.col4Template?t.col4Template:i),o.ɵɵadvance(2),o.ɵɵproperty("ngTemplateOutlet",t.col5Template?t.col5Template:i),o.ɵɵadvance(2),o.ɵɵproperty("ngTemplateOutlet",t.col6Template?t.col6Template:r),o.ɵɵadvance(5),o.ɵɵtextInterpolate1("© ",o.ɵɵpipeBind2(26,8,t.date,"yyyy")," WorldSkills International"),o.ɵɵadvance(12),o.ɵɵproperty("ngIf",t.languages)}},directives:[n.NgTemplateOutlet,n.NgIf,L.LogoComponent,n.NgForOf],pipes:[n.DatePipe],styles:[""]})})),V=d((function(e,t){
/**
	     * @license
	     * Copyright Google LLC All Rights Reserved.
	     *
	     * Use of this source code is governed by an MIT-style license that can be
	     * found in the LICENSE file at https://angular.io/license
	     */
Object.defineProperty(t,"__esModule",{value:!0}),t.isDate=t.isoStringToDate=t.toDate=t.formatDate=t.ISO8601_DATE_REGEX=void 0,t.ISO8601_DATE_REGEX=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;var r,o,i,a={},l=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function s(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function c(e,t,n,r,o){void 0===n&&(n="-");var i="";(e<0||o&&e<=0)&&(o?e=1-e:(e=-e,i=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),i+a}function u(e,t,r,i,a){return void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),function(l,s){var u,p=function(e,t){switch(e){case o.FullYear:return t.getFullYear();case o.Month:return t.getMonth();case o.Date:return t.getDate();case o.Hours:return t.getHours();case o.Minutes:return t.getMinutes();case o.Seconds:return t.getSeconds();case o.FractionalSeconds:return t.getMilliseconds();case o.Day:return t.getDay();default:throw new Error('Unknown DateType value "'+e+'".')}}(e,l);if((r>0||p>-r)&&(p+=r),e===o.Hours)0===p&&-12===r&&(p=12);else if(e===o.FractionalSeconds)return u=t,c(p,3).substr(0,u);var d=n.getLocaleNumberSymbol(s,n.NumberSymbol.MinusSign);return c(p,t,d,i,a)}}function p(e,t,r,o){return void 0===r&&(r=n.FormStyle.Format),void 0===o&&(o=!1),function(a,l){return function(e,t,r,o,a,l){switch(r){case i.Months:return n.getLocaleMonthNames(t,a,o)[e.getMonth()];case i.Days:return n.getLocaleDayNames(t,a,o)[e.getDay()];case i.DayPeriods:var s=e.getHours(),c=e.getMinutes();if(l){var u=n.getLocaleExtraDayPeriodRules(t),p=n.getLocaleExtraDayPeriods(t,a,o),d=u.findIndex((function(e){if(Array.isArray(e)){var t=y(e,2),n=t[0],r=t[1],o=s>=n.hours&&c>=n.minutes,i=s<r.hours||s===r.hours&&c<r.minutes;if(n.hours<r.hours){if(o&&i)return!0}else if(o||i)return!0}else if(e.hours===s&&e.minutes===c)return!0;return!1}));if(-1!==d)return p[d]}return n.getLocaleDayPeriods(t,a,o)[s<12?0:1];case i.Eras:return n.getLocaleEraNames(t,o)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+r)}}(a,l,e,t,r,o)}}function d(e){return function(t,o,i){var a=-1*i,l=n.getLocaleNumberSymbol(o,n.NumberSymbol.MinusSign),s=a>0?Math.floor(a/60):Math.ceil(a/60);switch(e){case r.Short:return(a>=0?"+":"")+c(s,2,l)+c(Math.abs(a%60),2,l);case r.ShortGMT:return"GMT"+(a>=0?"+":"")+c(s,1,l);case r.Long:return"GMT"+(a>=0?"+":"")+c(s,2,l)+":"+c(Math.abs(a%60),2,l);case r.Extended:return 0===i?"Z":(a>=0?"+":"")+c(s,2,l)+":"+c(Math.abs(a%60),2,l);default:throw new Error('Unknown zone width "'+e+'"')}}}!function(e){e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended"}(r||(r={})),function(e){e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day"}(o||(o={})),function(e){e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras"}(i||(i={})),t.formatDate=function(e,t,c,g){var y=v(e);t=function e(t,r){var o=n.getLocaleId(t);if(a[o]=a[o]||{},a[o][r])return a[o][r];var i="";switch(r){case"shortDate":i=n.getLocaleDateFormat(t,n.FormatWidth.Short);break;case"mediumDate":i=n.getLocaleDateFormat(t,n.FormatWidth.Medium);break;case"longDate":i=n.getLocaleDateFormat(t,n.FormatWidth.Long);break;case"fullDate":i=n.getLocaleDateFormat(t,n.FormatWidth.Full);break;case"shortTime":i=n.getLocaleTimeFormat(t,n.FormatWidth.Short);break;case"mediumTime":i=n.getLocaleTimeFormat(t,n.FormatWidth.Medium);break;case"longTime":i=n.getLocaleTimeFormat(t,n.FormatWidth.Long);break;case"fullTime":i=n.getLocaleTimeFormat(t,n.FormatWidth.Full);break;case"short":var l=e(t,"shortTime"),c=e(t,"shortDate");i=s(n.getLocaleDateTimeFormat(t,n.FormatWidth.Short),[l,c]);break;case"medium":var u=e(t,"mediumTime"),p=e(t,"mediumDate");i=s(n.getLocaleDateTimeFormat(t,n.FormatWidth.Medium),[u,p]);break;case"long":var d=e(t,"longTime"),f=e(t,"longDate");i=s(n.getLocaleDateTimeFormat(t,n.FormatWidth.Long),[d,f]);break;case"full":var m=e(t,"fullTime"),h=e(t,"fullDate");i=s(n.getLocaleDateTimeFormat(t,n.FormatWidth.Full),[m,h])}i&&(a[o][r]=i);return i}(c,t)||t;for(var b,S=[];t;){if(!(b=l.exec(t))){S.push(t);break}var x=(S=S.concat(b.slice(1))).pop();if(!x)break;t=x}var w=y.getTimezoneOffset();g&&(w=h(g,w),y=function(e,t,n){var r=n?-1:1,o=e.getTimezoneOffset(),i=h(t,o);return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(i-o))}(y,g,!0));var _="";return S.forEach((function(e){var t=function(e){if(m[e])return m[e];var t;switch(e){case"G":case"GG":case"GGG":t=p(i.Eras,n.TranslationWidth.Abbreviated);break;case"GGGG":t=p(i.Eras,n.TranslationWidth.Wide);break;case"GGGGG":t=p(i.Eras,n.TranslationWidth.Narrow);break;case"y":t=u(o.FullYear,1,0,!1,!0);break;case"yy":t=u(o.FullYear,2,0,!0,!0);break;case"yyy":t=u(o.FullYear,3,0,!1,!0);break;case"yyyy":t=u(o.FullYear,4,0,!1,!0);break;case"M":case"L":t=u(o.Month,1,1);break;case"MM":case"LL":t=u(o.Month,2,1);break;case"MMM":t=p(i.Months,n.TranslationWidth.Abbreviated);break;case"MMMM":t=p(i.Months,n.TranslationWidth.Wide);break;case"MMMMM":t=p(i.Months,n.TranslationWidth.Narrow);break;case"LLL":t=p(i.Months,n.TranslationWidth.Abbreviated,n.FormStyle.Standalone);break;case"LLLL":t=p(i.Months,n.TranslationWidth.Wide,n.FormStyle.Standalone);break;case"LLLLL":t=p(i.Months,n.TranslationWidth.Narrow,n.FormStyle.Standalone);break;case"w":t=f(1);break;case"ww":t=f(2);break;case"W":t=f(1,!0);break;case"d":t=u(o.Date,1);break;case"dd":t=u(o.Date,2);break;case"E":case"EE":case"EEE":t=p(i.Days,n.TranslationWidth.Abbreviated);break;case"EEEE":t=p(i.Days,n.TranslationWidth.Wide);break;case"EEEEE":t=p(i.Days,n.TranslationWidth.Narrow);break;case"EEEEEE":t=p(i.Days,n.TranslationWidth.Short);break;case"a":case"aa":case"aaa":t=p(i.DayPeriods,n.TranslationWidth.Abbreviated);break;case"aaaa":t=p(i.DayPeriods,n.TranslationWidth.Wide);break;case"aaaaa":t=p(i.DayPeriods,n.TranslationWidth.Narrow);break;case"b":case"bb":case"bbb":t=p(i.DayPeriods,n.TranslationWidth.Abbreviated,n.FormStyle.Standalone,!0);break;case"bbbb":t=p(i.DayPeriods,n.TranslationWidth.Wide,n.FormStyle.Standalone,!0);break;case"bbbbb":t=p(i.DayPeriods,n.TranslationWidth.Narrow,n.FormStyle.Standalone,!0);break;case"B":case"BB":case"BBB":t=p(i.DayPeriods,n.TranslationWidth.Abbreviated,n.FormStyle.Format,!0);break;case"BBBB":t=p(i.DayPeriods,n.TranslationWidth.Wide,n.FormStyle.Format,!0);break;case"BBBBB":t=p(i.DayPeriods,n.TranslationWidth.Narrow,n.FormStyle.Format,!0);break;case"h":t=u(o.Hours,1,-12);break;case"hh":t=u(o.Hours,2,-12);break;case"H":t=u(o.Hours,1);break;case"HH":t=u(o.Hours,2);break;case"m":t=u(o.Minutes,1);break;case"mm":t=u(o.Minutes,2);break;case"s":t=u(o.Seconds,1);break;case"ss":t=u(o.Seconds,2);break;case"S":t=u(o.FractionalSeconds,1);break;case"SS":t=u(o.FractionalSeconds,2);break;case"SSS":t=u(o.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=d(r.Short);break;case"ZZZZZ":t=d(r.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=d(r.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=d(r.Long);break;default:return null}return m[e]=t,t}(e);_+=t?t(y,c,w):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),_};function f(e,t){return void 0===t&&(t=!1),function(r,o){var i,a,l;if(t){var s=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,u=r.getDate();i=1+Math.floor((u+s)/7)}else{var p=(a=r.getFullYear(),l=new Date(a,0,1).getDay(),new Date(a,0,1+(l<=4?4:11)-l)),d=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}(r).getTime()-p.getTime();i=1+Math.round(d/6048e5)}return c(i,e,n.getLocaleNumberSymbol(o,n.NumberSymbol.MinusSign))}}var m={};function h(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function v(e){if(b(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=y(e.split("-").map((function(e){return+e})),3),o=r[0],i=r[1],a=r[2];return new Date(o,i-1,a)}var l;if(l=e.match(t.ISO8601_DATE_REGEX))return g(l)}var s=new Date(e);if(!b(s))throw new Error('Unable to convert "'+e+'" into a date');return s}function g(e){var t=new Date(0),n=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,l=Number(e[5]||0)-r,s=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return i.call(t,a,l,s,c),t}function b(e){return e instanceof Date&&!isNaN(e.valueOf())}t.toDate=v,t.isoStringToDate=g,t.isDate=b})),U=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DateRangeComponent=void 0;var r=e,o=a;function i(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"span",15),r.ɵɵlistener("mouseenter",(function(){r.ɵɵrestoreView(n);var e=t.$implicit;return r.ɵɵnextContext().hoveredDate=e}))("mouseleave",(function(){return r.ɵɵrestoreView(n),r.ɵɵnextContext().hoveredDate=null})),r.ɵɵtext(1),r.ɵɵelementEnd()}if(2&e){var o=t.$implicit,i=t.focused,a=r.ɵɵnextContext();r.ɵɵclassProp("focused",i)("range",a.isRange(o))("faded",a.isHovered(o)||a.isInside(o)),r.ɵɵadvance(1),r.ɵɵtextInterpolate1(" ",o.day," ")}}var s=function(){function t(t,n){this.calendar=t,this.formatter=n,this.disabled=!1,this.hoveredDate=null,this.change=new e.EventEmitter,this.onChange=function(e){},this.onTouched=function(){}}return Object.defineProperty(t.prototype,"opacity",{get:function(){return this.disabled?.25:1},enumerable:!1,configurable:!0}),t.prototype.onDateSelection=function(e){this.fromDate||this.toDate?this.fromDate&&!this.toDate&&e&&e.after(this.fromDate)?this.toDate=e:(this.toDate=null,this.fromDate=e):this.fromDate=e,this.fromDate&&this.toDate&&(this.value||(this.value={start:new Date,end:new Date}),this.value.start=new Date(this.fromDate.year,this.fromDate.month-1,this.fromDate.day),this.value.end=new Date(this.toDate.year,this.toDate.month-1,this.toDate.day),this.writeValue(this.value))},t.prototype.isHovered=function(e){return this.fromDate&&!this.toDate&&this.hoveredDate&&e.after(this.fromDate)&&e.before(this.hoveredDate)},t.prototype.isInside=function(e){return this.toDate&&e.after(this.fromDate)&&e.before(this.toDate)},t.prototype.isRange=function(e){return e.equals(this.fromDate)||this.toDate&&e.equals(this.toDate)||this.isInside(e)||this.isHovered(e)},t.prototype.validateInput=function(e,t){var n=this.formatter.parse(t);return n&&this.calendar.isValid(a.NgbDate.from(n))?a.NgbDate.from(n):e},t.prototype.writeValue=function(e){e&&!this.disabled&&(this.fromDate=this.toNgbDate(e.start),this.toDate=this.toNgbDate(e.end),this.value=e,this.onChange(e),this.change.emit(e))},t.prototype.toNgbDate=function(e){return e=V.toDate(e),new a.NgbDate(e.getFullYear(),e.getMonth()+1,e.getDate())},t.prototype.registerOnChange=function(e){this.onChange=e},t.prototype.registerOnTouched=function(e){this.onTouched=e},t.prototype.setDisabledState=function(e){this.disabled=e},t}();n.DateRangeComponent=s,s.ɵfac=function(e){return new(e||s)(r.ɵɵdirectiveInject(o.NgbCalendar),r.ɵɵdirectiveInject(o.NgbDateParserFormatter))},s.ɵcmp=r.ɵɵdefineComponent({type:s,selectors:[["ws-date-range"]],hostVars:2,hostBindings:function(e,t){2&e&&r.ɵɵstyleProp("opacity",t.opacity)},inputs:{disabled:"disabled"},outputs:{change:"change"},features:[r.ɵɵProvidersFeature([{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return s})),multi:!0}])],decls:21,vars:6,consts:[[1,"form-inline"],[1,"form-group"],[1,"input-group","hidden-group"],["name","datepicker","ngbDatepicker","","outsideDays","hidden",1,"form-control",3,"autoClose","displayMonths","dayTemplate","startDate","dateSelect"],["datepicker","ngbDatepicker"],["t",""],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dpFromDate",1,"form-control",3,"value","input"],["dpFromDate",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"click"],["aria-hidden","true",1,"fa","fa-calendar"],[1,"form-group","ml-2"],["placeholder","yyyy-mm-dd","name","dpToDate",1,"form-control",3,"value","input"],["dpToDate",""],[1,"custom-day",3,"mouseenter","mouseleave"]],template:function(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"div",0),r.ɵɵelementStart(1,"div",1),r.ɵɵelementStart(2,"div",2),r.ɵɵelementStart(3,"input",3,4),r.ɵɵlistener("dateSelect",(function(e){return t.onDateSelection(e)})),r.ɵɵelementEnd(),r.ɵɵtemplate(5,i,2,7,"ng-template",null,5,r.ɵɵtemplateRefExtractor),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(7,"div",1),r.ɵɵelementStart(8,"div",6),r.ɵɵelementStart(9,"input",7,8),r.ɵɵlistener("input",(function(){r.ɵɵrestoreView(n);var e=r.ɵɵreference(10);return t.fromDate=t.validateInput(t.fromDate,e.value)})),r.ɵɵelementEnd(),r.ɵɵelementStart(11,"div",9),r.ɵɵelementStart(12,"button",10),r.ɵɵlistener("click",(function(){return r.ɵɵrestoreView(n),r.ɵɵreference(4).toggle()})),r.ɵɵelement(13,"i",11),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(14,"div",12),r.ɵɵelementStart(15,"div",6),r.ɵɵelementStart(16,"input",13,14),r.ɵɵlistener("input",(function(){r.ɵɵrestoreView(n);var e=r.ɵɵreference(17);return t.toDate=t.validateInput(t.toDate,e.value)})),r.ɵɵelementEnd(),r.ɵɵelementStart(18,"div",9),r.ɵɵelementStart(19,"button",10),r.ɵɵlistener("click",(function(){return r.ɵɵrestoreView(n),r.ɵɵreference(4).toggle()})),r.ɵɵelement(20,"i",11),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd()}if(2&e){var o=r.ɵɵreference(6);r.ɵɵadvance(3),r.ɵɵproperty("autoClose","outside")("displayMonths",2)("dayTemplate",o)("startDate",t.fromDate),r.ɵɵadvance(6),r.ɵɵproperty("value",t.formatter.format(t.fromDate)),r.ɵɵadvance(7),r.ɵɵproperty("value",t.formatter.format(t.toDate))}},directives:[o.NgbInputDatepicker],styles:[""]})})),W=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Datetime=void 0;var n=function(){function e(e){Object.assign(this,e)}return e.asToday=function(){var t=new Date;return new e({year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),timeZoneOffset:t.getTimezoneOffset()})},e.fromLocalString=function(t){var n,r=(t=t.trim()).split(" ");if(r.length>0){var o=[],i=[];r[0].indexOf("/")>-1&&(o=r[0].split("/")),r.length>1&&(i=r[1].split(":")),n=0===i.length?new Date(o[2].substr(0,4)+"-"+o[1]+"-"+o[0]):new Date(o[2].substr(0,4)+"-"+o[1]+"-"+o[0]+" "+i.join(":"))}else n=new Date(t);var a=!isNaN(n.valueOf());return t&&a?new e({year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate(),hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),timeZoneOffset:n.getTimezoneOffset()}):null},e.prototype.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.prototype.toString=function(){if(this.isInteger(this.year)&&this.isInteger(this.month)&&this.isInteger(this.day)){var e=this.year.toString().padStart(2,"0"),t=this.month.toString().padStart(2,"0"),n=this.day.toString().padStart(2,"0");this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.timeZoneOffset||(this.timeZoneOffset=(new Date).getTimezoneOffset());var r=this.hour.toString().padStart(2,"0"),o=this.minute.toString().padStart(2,"0"),i=this.second.toString().padStart(2,"0"),a=-this.timeZoneOffset,l=a>=0?"+":"-",s=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return s(e)+"-"+s(t)+"-"+s(n)+"T"+s(r)+":"+s(o)+":"+s(i)+l+s(a/60)+":"+s(a%60)}return null},e}();t.Datetime=n})),B=d((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DatetimePickerComponent=void 0;var o=e,i=a,s=l,c=n,u=["popOver"];function p(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"div"),o.ɵɵelementStart(1,"ngb-datepicker",8,9),o.ɵɵlistener("ngModelChange",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).onDateChange(e)})),o.ɵɵelementEnd(),o.ɵɵelementStart(3,"button",10),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).toggleDateTimeState()})),o.ɵɵelement(4,"i",11),o.ɵɵelementEnd(),o.ɵɵelementStart(5,"button",12),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).onAccept()})),o.ɵɵelement(6,"i",13),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var r=o.ɵɵnextContext(2),i=o.ɵɵreference(9);o.ɵɵadvance(1),o.ɵɵproperty("ngModel",r.value),o.ɵɵadvance(2),o.ɵɵproperty("disabled",!(null!=r.value&&r.value.day))("ngbPopover",i)}}function d(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"div"),o.ɵɵelementStart(1,"button",12),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).toggleDateTimeState()})),o.ɵɵelement(2,"i",4),o.ɵɵelementEnd(),o.ɵɵelementStart(3,"button",12),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).onAccept()})),o.ɵɵelement(4,"i",13),o.ɵɵelementEnd(),o.ɵɵelementStart(5,"div",14),o.ɵɵelementStart(6,"ngb-timepicker",15,16),o.ɵɵlistener("ngModelChange",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).onTimeChange(e)})),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var r=o.ɵɵnextContext(2);o.ɵɵadvance(6),o.ɵɵproperty("ngModel",r.value)("seconds",r.seconds)("hourStep",r.hourStep)("minuteStep",r.minuteStep)("secondStep",r.secondStep)}}function f(e,t){if(1&e&&(o.ɵɵelementStart(0,"div"),o.ɵɵtemplate(1,p,7,3,"div",7),o.ɵɵtemplate(2,d,8,5,"div",7),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(1),o.ɵɵproperty("ngIf",!n.showTimePickerToggle),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.showTimePickerToggle)}}function m(e,t){1&e&&o.ɵɵtext(0," timepicker here!\n")}var h=function(){function t(t){this.config=t,this.disabled=!1,this.inputDatetimeFormat="dd/MM/yyyy HH:mm",this.hourStep=1,this.minuteStep=1,this.secondStep=30,this.seconds=!1,this.showTimePickerToggle=!1,this.change=new e.EventEmitter,this.onChange=function(e){},this.onTouched=function(){},t.autoClose="outside",t.placement="auto"}return Object.defineProperty(t.prototype,"opacity",{get:function(){return this.disabled?.25:1},enumerable:!1,configurable:!0}),t.prototype.writeValue=function(e){e&&!this.disabled?(this.model=this.toNgbDate(new Date(e.toString())),this.value=e,this.onChange(e),this.change.emit(e)):(this.value=W.Datetime.asToday(),this.change.emit(e))},t.prototype.registerOnChange=function(e){this.onChange=e},t.prototype.registerOnTouched=function(e){this.onTouched=e},t.prototype.setDisabledState=function(e){this.disabled=e},t.prototype.onInputChange=function(e){var t=e.target.value,n=W.Datetime.fromLocalString(t);n?this.writeValue(n):""===t.trim()&&this.writeValue(new W.Datetime)},t.prototype.toggleDateTimeState=function(){this.showTimePickerToggle=!this.showTimePickerToggle},t.prototype.onDateChange=function(e){this.value||(this.value=new W.Datetime),this.value.year=e.year,this.value.month=e.month,this.value.day=e.day,this.writeValue(this.value)},t.prototype.onTimeChange=function(e){this.value.hour=e.hour,this.value.minute=e.minute,this.value.second=e.second,this.writeValue(this.value)},t.prototype.onAccept=function(){this.popover.isOpen()&&this.popover.close()},t.prototype.inputBlur=function(e){this.onTouched()},t.prototype.toNgbDate=function(e){return e=V.toDate(e),new a.NgbDate(e.getFullYear(),e.getMonth()+1,e.getDate())},t}();r.DatetimePickerComponent=h,h.ɵfac=function(e){return new(e||h)(o.ɵɵdirectiveInject(i.NgbPopoverConfig))},h.ɵcmp=o.ɵɵdefineComponent({type:h,selectors:[["ws-datetime-picker"]],viewQuery:function(e,t){var n;(1&e&&o.ɵɵviewQuery(u,!0),2&e)&&(o.ɵɵqueryRefresh(n=o.ɵɵloadQuery())&&(t.popover=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&o.ɵɵstyleProp("opacity",t.opacity)},inputs:{disabled:"disabled",inputDatetimeFormat:"inputDatetimeFormat",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",seconds:"seconds"},outputs:{change:"change"},features:[o.ɵɵProvidersFeature([n.DatePipe,{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return h})),multi:!0}])],decls:10,vars:8,consts:[[1,"input-group","mr-2"],[1,"form-control","form-control-sm",3,"ngModel","disabled","placeholder","blur","change"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"ngbPopover","disabled"],[1,"fa","fa-calendar"],["calendarContent",""],["timePickerContent",""],[4,"ngIf"],["name","datepicker",3,"ngModel","ngModelChange"],["dp",""],["type","button",1,"btn","btn-block","btn-outline-secondary",3,"disabled","ngbPopover","click"],[1,"fa","fa-clock-o"],["type","button",1,"btn","btn-block","btn-outline-secondary",3,"click"],[1,"fa","fa-check"],[1,"mt-auto"],["name","timepicker",3,"ngModel","seconds","hourStep","minuteStep","secondStep","ngModelChange"],["tp",""]],template:function(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",0),o.ɵɵelementStart(1,"input",1),o.ɵɵlistener("blur",(function(e){return t.inputBlur(e)}))("change",(function(e){return t.onInputChange(e)})),o.ɵɵpipe(2,"date"),o.ɵɵelementEnd(),o.ɵɵelementStart(3,"div",2),o.ɵɵelementStart(4,"button",3),o.ɵɵelement(5,"i",4),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵtemplate(6,f,3,2,"ng-template",null,5,o.ɵɵtemplateRefExtractor),o.ɵɵtemplate(8,m,1,0,"ng-template",null,6,o.ɵɵtemplateRefExtractor)),2&e){var n=o.ɵɵreference(7);o.ɵɵadvance(1),o.ɵɵproperty("ngModel",o.ɵɵpipeBind2(2,5,t.value.toString(),t.inputDatetimeFormat))("disabled",t.disabled)("placeholder",t.inputDatetimeFormat),o.ɵɵadvance(3),o.ɵɵproperty("ngbPopover",n)("disabled",t.disabled)}},directives:[s.DefaultValueAccessor,s.NgControlStatus,s.NgModel,i.NgbPopover,c.NgIf,i.NgbDatepicker,i.NgbTimepicker],pipes:[c.DatePipe],styles:[""]})})),H=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SortPipe=void 0;var r=e,o=function(){function e(){}return e.prototype.transform=function(e,t,n){return t=null==t?"asc":t,e.sort((function(e,r){var o=null==n?e:e[n],i=null==n?r:r[n];return o===i?0:"desc"===t?o<i?1:-1:o<i?-1:1}))},e}();n.SortPipe=o,o.ɵfac=function(e){return new(e||o)},o.ɵpipe=r.ɵɵdefinePipe({name:"wsSort",type:o,pure:!0})})),z=d((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PollResultComponent=void 0;var o=e;function i(e,t){if(1&e&&(o.ɵɵelementStart(0,"p"),o.ɵɵelementStart(1,"strong"),o.ɵɵtext(2),o.ɵɵelementEnd(),o.ɵɵelement(3,"br"),o.ɵɵelementStart(4,"ngb-progressbar",2),o.ɵɵtext(5),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e){var n=t.$implicit,r=o.ɵɵnextContext(2);o.ɵɵadvance(2),o.ɵɵtextInterpolate(n.text.text),o.ɵɵadvance(2),o.ɵɵproperty("showValue",!1)("value",r.countVotes(n))("max",r.max),o.ɵɵadvance(1),o.ɵɵtextInterpolate1(" ",r.countVotes(n),"")}}function l(e,t){if(1&e&&(o.ɵɵelementStart(0,"div"),o.ɵɵtemplate(1,i,6,5,"p",1),o.ɵɵpipe(2,"wsSort"),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",o.ɵɵpipeBind3(2,1,n.poll.options,"asc","id"))}}var s=function(){function e(){}return e.prototype.ngOnInit=function(){this.init()},e.prototype.ngOnChanges=function(){this.init()},e.prototype.init=function(){this.max=this.results.map((function(e){return e.count})).reduce((function(e,t){return e+t}),0)},e.prototype.countVotes=function(e){if(!this.poll||!this.results)return 0;if(0===this.max)return 0;var t=this.results.find((function(t){return t.option.id===e.id}));return t?t.count:0},e}();r.PollResultComponent=s,s.ɵfac=function(e){return new(e||s)},s.ɵcmp=o.ɵɵdefineComponent({type:s,selectors:[["ws-poll-result"]],inputs:{poll:"poll",results:"results"},features:[o.ɵɵNgOnChangesFeature],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["type","success",3,"showValue","value","max"]],template:function(e,t){1&e&&o.ɵɵtemplate(0,l,3,5,"div",0),2&e&&o.ɵɵproperty("ngIf",t.results)},directives:[n.NgIf,n.NgForOf,a.NgbProgressbar],pipes:[H.SortPipe],styles:[""]})})),q=d((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.StandardPollComponent=void 0;var o=e,i=function(e){return{active:e}};function a(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"li",2),o.ɵɵelementStart(1,"div",3),o.ɵɵelementStart(2,"label",4),o.ɵɵelementStart(3,"input",5),o.ɵɵlistener("ngModelChange",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext().selection.optionId=e}))("click",(function(){o.ɵɵrestoreView(n);var e=t.$implicit;return o.ɵɵnextContext().onOptionSelect(e)})),o.ɵɵelementEnd(),o.ɵɵtext(4),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var r=t.$implicit,a=o.ɵɵnextContext();o.ɵɵproperty("ngClass",o.ɵɵpureFunction1(6,i,a.voted.hasVoted&&a.isSelected(r))),o.ɵɵadvance(3),o.ɵɵproperty("disabled",a.voted.hasVoted)("checked",a.isSelected(r))("value",r.id)("ngModel",a.selection.optionId),o.ɵɵadvance(1),o.ɵɵtextInterpolate1("",r.text.text," ")}}var s=function(){function t(){this.optionSelected=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.init()},t.prototype.ngOnChanges=function(){this.init()},t.prototype.init=function(){this.initialSelection&&this.initialSelection.length>0?this.selection=this.initialSelection[0]:this.loadDefaultSelection()},t.prototype.loadDefaultSelection=function(){this.selection={rank:1,optionId:null}},t.prototype.isSelected=function(e){return!!this.selection&&this.selection.optionId===e.id},t.prototype.onOptionSelect=function(e){var t={rank:1,optionId:e.id};this.optionSelected.emit([t])},t}();r.StandardPollComponent=s,s.ɵfac=function(e){return new(e||s)},s.ɵcmp=o.ɵɵdefineComponent({type:s,selectors:[["ws-standard-poll"]],inputs:{poll:"poll",voted:"voted",initialSelection:"initialSelection"},outputs:{optionSelected:"optionSelected"},features:[o.ɵɵNgOnChangesFeature],decls:3,vars:5,consts:[[1,"list-group"],["class","list-group-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"list-group-item",3,"ngClass"],[1,"form-check"],[1,"form-check-label"],["type","radio","name","questions",1,"form-check-input",3,"disabled","checked","value","ngModel","ngModelChange","click"]],template:function(e,t){1&e&&(o.ɵɵelementStart(0,"ul",0),o.ɵɵtemplate(1,a,5,8,"li",1),o.ɵɵpipe(2,"wsSort"),o.ɵɵelementEnd()),2&e&&(o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",o.ɵɵpipeBind3(2,1,t.poll.options,"asc","id")))},directives:[n.NgForOf,n.NgClass,l.RadioControlValueAccessor,l.DefaultValueAccessor,l.NgControlStatus,l.NgModel],pipes:[H.SortPipe],styles:[""]})})),Z=d((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.WeightedPollComponent=void 0;var o=e;function i(e,t){if(1&e&&(o.ɵɵelementStart(0,"option",6),o.ɵɵtext(1),o.ɵɵelementEnd()),2&e){var n=t.$implicit;o.ɵɵpropertyInterpolate("value",n.id),o.ɵɵadvance(1),o.ɵɵtextInterpolate(n.text.text)}}function a(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"li",2),o.ɵɵelementStart(1,"select",3),o.ɵɵlistener("ngModelChange",(function(e){o.ɵɵrestoreView(n);var r=t.$implicit;return o.ɵɵnextContext().models[r]=e}))("change",(function(e){o.ɵɵrestoreView(n);var r=t.$implicit;return o.ɵɵnextContext().change(e,r)})),o.ɵɵelementStart(2,"option",4),o.ɵɵtext(3),o.ɵɵelementEnd(),o.ɵɵtemplate(4,i,2,2,"option",5),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var r=t.$implicit,a=o.ɵɵnextContext();o.ɵɵadvance(1),o.ɵɵproperty("ngModel",a.models[r])("disabled",a.voted.hasVoted),o.ɵɵadvance(2),o.ɵɵtextInterpolate2("",a.numberToWord(r+1)," selection (",a.calcPointsForItem(r)," points)"),o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",a.poll.options)}}var s=function(){function t(){this.optionSelected=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.init()},t.prototype.init=function(){var e=this;this.numSelections=[],this.models=[],this.numSelections=Array(this.poll.numberOfSelections).fill(0).map((function(e,t){return t})),this.numSelections.forEach((function(t){var n=e.initialSelection.find((function(e){return e.rank===t+1}));n?e.models.push(n.optionId.toString()):e.models.push("0")}))},t.prototype.change=function(e,t){if("0"!==e.target.value){var n=this.models.findIndex((function(t){return t===e.target.value}));n!==t&&-1!==n&&(this.models[n]="0")}if(this.hasMaxSelections()){var r=[];this.models.forEach((function(e,t){var n={rank:t+1,optionId:e};r.push(n)})),this.optionSelected.emit(r)}},t.prototype.hasMaxSelections=function(){return 0===this.models.filter((function(e){return"0"===e})).length},t.prototype.numberToWord=function(e){if(e<0)return null;return["zero","first","second","third","fourth","fifth","sixth","seventh","eight","ninth","tenth"][e]},t.prototype.calcPointsForItem=function(e){return this.poll.numberOfSelections-e},t.prototype.isSelected=function(e){return-1!==this.models.findIndex((function(t){return t===String(e)}))},t}();r.WeightedPollComponent=s,s.ɵfac=function(e){return new(e||s)},s.ɵcmp=o.ɵɵdefineComponent({type:s,selectors:[["ws-weighted-poll"]],inputs:{poll:"poll",voted:"voted",initialSelection:"initialSelection"},outputs:{optionSelected:"optionSelected"},decls:2,vars:1,consts:[[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"form-control",3,"ngModel","disabled","ngModelChange","change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(o.ɵɵelementStart(0,"ul",0),o.ɵɵtemplate(1,a,5,5,"li",1),o.ɵɵelementEnd()),2&e&&(o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",t.numSelections))},directives:[n.NgForOf,l.SelectControlValueAccessor,l.NgControlStatus,l.NgModel,l.NgSelectOption,l.ɵangular_packages_forms_forms_x],styles:[""]})})),G=d((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.VoteControlComponent=void 0;var o=e;function i(e,t){}function a(e,t){if(1&e&&(o.ɵɵtext(0),o.ɵɵelement(1,"br"),o.ɵɵelementStart(2,"small",5),o.ɵɵtext(3),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵtextInterpolate1(" ",n.poll.title.text," "),o.ɵɵadvance(3),o.ɵɵtextInterpolate2("Created By: ",n.poll.createdBy.firstName," ",n.poll.createdBy.lastName,"")}}function l(e,t){1&e&&(o.ɵɵelementStart(0,"small",5),o.ɵɵelementStart(1,"strong"),o.ɵɵtext(2,"Starts:"),o.ɵɵelementEnd(),o.ɵɵelementEnd())}function s(e,t){if(1&e&&(o.ɵɵelementStart(0,"small",5),o.ɵɵelementStart(1,"strong"),o.ɵɵtext(2,"Started:"),o.ɵɵelementEnd(),o.ɵɵtemplate(3,l,3,0,"small",6),o.ɵɵtext(4),o.ɵɵpipe(5,"date"),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(2);o.ɵɵadvance(3),o.ɵɵproperty("ngIf","Not yet started"==n.state),o.ɵɵadvance(1),o.ɵɵtextInterpolate1(" ",o.ɵɵpipeBind2(5,2,n.poll.start,"EEEE, MMMM d, y, HH:mm zzzz"),"")}}function c(e,t){1&e&&(o.ɵɵelementStart(0,"small",5),o.ɵɵelementStart(1,"strong"),o.ɵɵtext(2,"Finished:"),o.ɵɵelementEnd(),o.ɵɵelementEnd())}function u(e,t){if(1&e&&(o.ɵɵelementStart(0,"small",5),o.ɵɵelementStart(1,"strong"),o.ɵɵtext(2,"Finishes:"),o.ɵɵelementEnd(),o.ɵɵtemplate(3,c,3,0,"small",6),o.ɵɵtext(4),o.ɵɵpipe(5,"date"),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(2);o.ɵɵadvance(3),o.ɵɵproperty("ngIf","expired"==n.state),o.ɵɵadvance(1),o.ɵɵtextInterpolate1(" ",o.ɵɵpipeBind2(5,2,n.poll.expiry,"EEEE, MMMM d, y, HH:mm zzzz"),"")}}function p(e,t){if(1&e&&(o.ɵɵelementStart(0,"small",5),o.ɵɵelementStart(1,"strong"),o.ɵɵtext(2,"Status:"),o.ɵɵelementEnd(),o.ɵɵtext(3),o.ɵɵelementEnd(),o.ɵɵtext(4," |  "),o.ɵɵtemplate(5,s,6,5,"small",6),o.ɵɵtext(6,"  "),o.ɵɵtemplate(7,u,6,5,"small",6)),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(3),o.ɵɵtextInterpolate1(" ",n.state," "),o.ɵɵadvance(2),o.ɵɵproperty("ngIf","Not yet started"!=n.state),o.ɵɵadvance(2),o.ɵɵproperty("ngIf","expired"!=n.state)}}function d(e,t){if(1&e&&o.ɵɵtext(0),2&e){var n=o.ɵɵnextContext();o.ɵɵtextInterpolate1(" ",n.poll.question.text,"\n")}}function f(e,t){1&e&&o.ɵɵelementContainer(0)}function m(e,t){1&e&&o.ɵɵelementContainer(0)}function h(e,t){1&e&&o.ɵɵelementContainer(0)}function v(e,t){1&e&&(o.ɵɵelementStart(0,"em"),o.ɵɵtext(1,"You have already voted!"),o.ɵɵelementEnd())}function g(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"ws-standard-poll",23),o.ɵɵlistener("optionSelected",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext(3).selected(e)})),o.ɵɵelementEnd()}if(2&e){var r=o.ɵɵnextContext(3);o.ɵɵproperty("poll",r.poll)("voted",r.voted)("initialSelection",r.selection)}}function y(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"ws-weighted-poll",23),o.ɵɵlistener("optionSelected",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext(3).selected(e)})),o.ɵɵelementEnd()}if(2&e){var r=o.ɵɵnextContext(3);o.ɵɵproperty("poll",r.poll)("voted",r.voted)("initialSelection",r.selection)}}function b(e,t){1&e&&o.ɵɵelementContainer(0)}function S(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",20),o.ɵɵtemplate(1,h,1,0,"ng-container",9),o.ɵɵtemplate(2,v,2,0,"em",21),o.ɵɵtemplate(3,g,1,3,"ws-standard-poll",22),o.ɵɵtemplate(4,y,1,3,"ws-weighted-poll",22),o.ɵɵtemplate(5,b,1,0,"ng-container",9),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(2),r=o.ɵɵreference(1);o.ɵɵadvance(1),o.ɵɵproperty("ngTemplateOutlet",n.beforeOptionsTemplate?n.beforeOptionsTemplate:r),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.voted.hasVoted),o.ɵɵadvance(1),o.ɵɵproperty("ngIf","standard"===n.poll.type),o.ɵɵadvance(1),o.ɵɵproperty("ngIf","weighted"===n.poll.type),o.ɵɵadvance(1),o.ɵɵproperty("ngTemplateOutlet",n.afterOptionsTemplate?n.afterOptionsTemplate:r)}}function x(e,t){1&e&&o.ɵɵelementContainer(0)}function w(e,t){if(1&e&&o.ɵɵelement(0,"ws-poll-result",25),2&e){var n=o.ɵɵnextContext(3);o.ɵɵproperty("poll",n.poll)("results",n.results)}}function _(e,t){1&e&&o.ɵɵelementContainer(0)}function E(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",20),o.ɵɵtemplate(1,x,1,0,"ng-container",9),o.ɵɵtemplate(2,w,1,2,"ws-poll-result",24),o.ɵɵtemplate(3,_,1,0,"ng-container",9),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(2),r=o.ɵɵreference(1);o.ɵɵadvance(1),o.ɵɵproperty("ngTemplateOutlet",n.beforeResultTemplate?n.beforeResultTemplate:r),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.results),o.ɵɵadvance(1),o.ɵɵproperty("ngTemplateOutlet",n.afterResultTemplate?n.afterResultTemplate:r)}}function C(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"button",26),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).vote(),!1})),o.ɵɵelement(1,"i",27),o.ɵɵtext(2,"  Vote"),o.ɵɵelementEnd()}if(2&e){var r=o.ɵɵnextContext(2);o.ɵɵproperty("disabled",r.hasVotesSelected())}}function O(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"button",28),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).unvote(),!1})),o.ɵɵelement(1,"i",29),o.ɵɵtext(2,"  Clear Vote"),o.ɵɵelementEnd()}}function k(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"button",30),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).changeView("result"),!1})),o.ɵɵelement(1,"i",31),o.ɵɵtext(2,"  View Results"),o.ɵɵelementEnd()}}function T(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"button",30),o.ɵɵlistener("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).changeView("question"),!1})),o.ɵɵelement(1,"i",32),o.ɵɵtext(2,"  View Choices"),o.ɵɵelementEnd()}}function I(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"button",30),o.ɵɵlistener("click",(function(){o.ɵɵrestoreView(n);var e=o.ɵɵnextContext(2);return e.resetClick(e.poll),!1})),o.ɵɵelement(1,"i",33),o.ɵɵtext(2,"  Reset"),o.ɵɵelementEnd()}}function M(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"button",30),o.ɵɵlistener("click",(function(){o.ɵɵrestoreView(n);var e=o.ɵɵnextContext(2);return e.extendClick(e.poll),!1})),o.ɵɵelement(1,"i",34),o.ɵɵtext(2,"  Extend"),o.ɵɵelementEnd()}}function j(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"button",30),o.ɵɵlistener("click",(function(){o.ɵɵrestoreView(n);var e=o.ɵɵnextContext(2);return e.editClick(e.poll),!1})),o.ɵɵelement(1,"i",35),o.ɵɵtext(2,"  Edit"),o.ɵɵelementEnd()}}function D(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"button",36),o.ɵɵlistener("click",(function(){o.ɵɵrestoreView(n);var e=o.ɵɵnextContext(2);return e.deleteClick(e.poll),!1})),o.ɵɵelement(1,"i",37),o.ɵɵtext(2,"  Delete"),o.ɵɵelementEnd()}}function F(e,t){1&e&&o.ɵɵelementContainer(0)}function R(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",7),o.ɵɵelementStart(1,"div",8),o.ɵɵtemplate(2,f,1,0,"ng-container",9),o.ɵɵelementEnd(),o.ɵɵelementStart(3,"div",10),o.ɵɵelementStart(4,"div",11),o.ɵɵtemplate(5,m,1,0,"ng-container",9),o.ɵɵelementEnd(),o.ɵɵtemplate(6,S,6,5,"div",12),o.ɵɵtemplate(7,E,4,3,"div",12),o.ɵɵelement(8,"hr"),o.ɵɵelementStart(9,"div",13),o.ɵɵtemplate(10,C,3,1,"button",14),o.ɵɵtext(11,"  "),o.ɵɵtemplate(12,O,3,0,"button",15),o.ɵɵtext(13,"  "),o.ɵɵtemplate(14,k,3,0,"button",16),o.ɵɵtext(15,"  "),o.ɵɵtemplate(16,T,3,0,"button",16),o.ɵɵtext(17,"  "),o.ɵɵelementEnd(),o.ɵɵelementStart(18,"div",17),o.ɵɵtemplate(19,I,3,0,"button",16),o.ɵɵtext(20,"  "),o.ɵɵtemplate(21,M,3,0,"button",16),o.ɵɵtext(22,"  "),o.ɵɵtemplate(23,j,3,0,"button",16),o.ɵɵtext(24,"  "),o.ɵɵtemplate(25,D,3,0,"button",18),o.ɵɵtext(26,"  "),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(27,"div",19),o.ɵɵtemplate(28,F,1,0,"ng-container",9),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(),r=o.ɵɵreference(3),i=o.ɵɵreference(7),a=o.ɵɵreference(5);o.ɵɵadvance(2),o.ɵɵproperty("ngTemplateOutlet",n.titleTemplate?n.titleTemplate:r),o.ɵɵadvance(3),o.ɵɵproperty("ngTemplateOutlet",n.questionTemplate?n.questionTemplate:i),o.ɵɵadvance(1),o.ɵɵproperty("ngIf","question"===n.view),o.ɵɵadvance(1),o.ɵɵproperty("ngIf","result"===n.view),o.ɵɵadvance(3),o.ɵɵproperty("ngIf",n.showVoteButton()),o.ɵɵadvance(2),o.ɵɵproperty("ngIf",n.showClearVoteButton()),o.ɵɵadvance(2),o.ɵɵproperty("ngIf",n.viewResultsState()&&"running"===n.state),o.ɵɵadvance(2),o.ɵɵproperty("ngIf","result"===n.view&&"running"===n.state),o.ɵɵadvance(3),o.ɵɵproperty("ngIf",n.showResetButton),o.ɵɵadvance(2),o.ɵɵproperty("ngIf",n.showExtendButton),o.ɵɵadvance(2),o.ɵɵproperty("ngIf",n.showEditButton),o.ɵɵadvance(2),o.ɵɵproperty("ngIf",n.showDeleteButton),o.ɵɵadvance(3),o.ɵɵproperty("ngTemplateOutlet",n.footerTemplate?n.footerTemplate:a)}}var A=function(){function t(){this.edit=new e.EventEmitter,this.extend=new e.EventEmitter,this.reset=new e.EventEmitter,this.delete=new e.EventEmitter,this.viewChange=new e.EventEmitter,this.voteSelected=new e.EventEmitter,this.voteRemoved=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.view="question",this.init()},t.prototype.ngOnChanges=function(){this.init()},t.prototype.init=function(){this.poll&&this.results&&this.voted&&(this.selection=this.voted.votes,this.calculateState())},t.prototype.calculateState=function(){this.state="running";var e=new Date,t=this.parseDate(this.poll.start),n=this.parseDate(this.poll.expiry);return e<t?(this.state="Not yet started",void(this.view="result")):e>n?(this.state="expired",void(this.view="result")):void 0},t.prototype.selected=function(e){this.selection=e},t.prototype.vote=function(){this.voted.hasVoted?alert("You have already voted"):this.voteSelected.emit(this.selection)},t.prototype.unvote=function(){this.voteRemoved.emit(this.selection)},t.prototype.changeView=function(e){this.view=e,this.viewChange.emit(e)},t.prototype.viewResultsState=function(){if("result"===this.view)return!1;if(!this.poll)return!1;if(this.poll.anonymousResults)return!1;var e=(new Date).getTime(),t=this.parseDate(this.poll.expiry).getTime();return!!(this.poll.showingResults||e>t)},t.prototype.parseDate=function(e){return"string"==typeof e?new Date(e):e},t.prototype.hasVotesSelected=function(){return!!P.GenericUtil.isNullOrUndefined(this.selection)||0===this.selection.length},t.prototype.editClick=function(e){this.edit.emit(e)},t.prototype.extendClick=function(e){this.extend.emit(e)},t.prototype.resetClick=function(e){this.reset.emit(e)},t.prototype.deleteClick=function(e){this.delete.emit(e)},t.prototype.showVoteButton=function(){return this.voted&&!this.voted.hasVoted&&"question"===this.view&&"running"===this.state},t.prototype.showClearVoteButton=function(){return this.poll&&this.voted&&this.voted.hasVoted&&"question"===this.view&&this.poll.allowingReVote&&"running"===this.state},t}();r.VoteControlComponent=A,A.ɵfac=function(e){return new(e||A)},A.ɵcmp=o.ɵɵdefineComponent({type:A,selectors:[["ws-vote-control"]],inputs:{showEditButton:"showEditButton",showExtendButton:"showExtendButton",showResetButton:"showResetButton",showDeleteButton:"showDeleteButton",poll:"poll",results:"results",voted:"voted",beforeOptionsTemplate:"beforeOptionsTemplate",afterOptionsTemplate:"afterOptionsTemplate",beforeResultTemplate:"beforeResultTemplate",afterResultTemplate:"afterResultTemplate",titleTemplate:"titleTemplate",footerTemplate:"footerTemplate",questionTemplate:"questionTemplate"},outputs:{edit:"edit",extend:"extend",reset:"reset",delete:"delete",viewChange:"viewChange",voteSelected:"voteSelected",voteRemoved:"voteRemoved"},features:[o.ɵɵNgOnChangesFeature],decls:9,vars:1,consts:[["voteControlEmptyTemplate",""],["voteControlDefaultTitleTemplate",""],["voteControlDefaultFooterTemplate",""],["voteControlDefaultQuestionTemplate",""],["class","card",4,"ngIf"],[1,"text-muted"],["class","text-muted",4,"ngIf"],[1,"card"],[1,"card-header"],[4,"ngTemplateOutlet"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],[1,"pull-left"],["class","btn btn-success","href","#",3,"disabled","click",4,"ngIf"],["class","btn btn-warning","href","#",3,"click",4,"ngIf"],["class","btn btn-primary","href","#",3,"click",4,"ngIf"],[1,"pull-right"],["class","btn btn-danger","href","#",3,"click",4,"ngIf"],[1,"card-footer","text-muted"],[1,"card-text"],[4,"ngIf"],[3,"poll","voted","initialSelection","optionSelected",4,"ngIf"],[3,"poll","voted","initialSelection","optionSelected"],[3,"poll","results",4,"ngIf"],[3,"poll","results"],["href","#",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check"],["href","#",1,"btn","btn-warning",3,"click"],[1,"fa","fa-close"],["href","#",1,"btn","btn-primary",3,"click"],[1,"fa","fa-area-chart"],[1,"fa","fa-question-circle"],[1,"fa","fa-refresh"],[1,"fa","fa-arrows-h"],[1,"fa","fa-edit"],["href","#",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"]],template:function(e,t){1&e&&(o.ɵɵtemplate(0,i,0,0,"ng-template",null,0,o.ɵɵtemplateRefExtractor),o.ɵɵtemplate(2,a,4,3,"ng-template",null,1,o.ɵɵtemplateRefExtractor),o.ɵɵtemplate(4,p,8,3,"ng-template",null,2,o.ɵɵtemplateRefExtractor),o.ɵɵtemplate(6,d,1,1,"ng-template",null,3,o.ɵɵtemplateRefExtractor),o.ɵɵtemplate(8,R,29,13,"div",4)),2&e&&(o.ɵɵadvance(8),o.ɵɵproperty("ngIf",t.poll))},directives:[n.NgIf,n.NgTemplateOutlet,q.StandardPollComponent,Z.WeightedPollComponent,z.PollResultComponent],pipes:[n.DatePipe],styles:[""]})})),Q=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_LABELS=void 0,t.DEFAULT_LABELS={clearAllText:"Clear all",loadingText:"Loading entities...",notFoundText:"No entities found",typeToSearchText:"Type to search",placeholder:"Select entity"}})),Y=d((function(n,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EntityTreeService=void 0;var o=e,i=u,a=function(){function e(e,n){var r=this;this.wsi=e,this.http=n,this.subjects=[],this.subject=new t.BehaviorSubject(null),this.wsi.serviceConfigSubject.subscribe((function(e){r.endpoint=e.apiEndpoint+"/auth/ws_entities"}))}return e.equals=function(e,t){return e.limit===t.limit&&e.offset===t.offset&&e.depth===t.depth&&e.member_of===t.member_of&&e.name===t.name&&e.role===t.role&&e.roleApp===t.roleApp&&e.sort===t.sort},e.prototype.clearCache=function(t){if(void 0===t&&(t=null),null===t)this.subjects=[];else{var n=this.subjects.findIndex((function(n){return e.equals(n.params,t)}));n>=0&&this.subjects.splice(n,1)}},e.prototype.getCachedSubject=function(n,r){void 0===n&&(n={}),void 0===r&&(r=!0);var o=this.subjects.find((function(t){return e.equals(t.params,n)}));if(o)return o.subject;var i={params:n,subject:new t.BehaviorSubject(null)};return this.subjects.push(i),r&&this.list(n),i.subject},e.prototype.list=function(t){var n=this;void 0===t&&(t={});var r=new u.HttpParams;void 0!==t.limit&&(r=r.set("limit",t.limit.toString())),void 0!==t.offset&&(r=r.set("offset",t.offset.toString())),void 0!==t.depth&&(r=r.set("depth",t.depth.toString())),void 0!==t.member_of&&(r=r.set("member_of",t.member_of.toString())),void 0!==t.name&&(r=r.set("name",t.name.toString())),void 0!==t.role&&(r=r.set("role",t.role.toString())),void 0!==t.roleApp&&(r=r.set("roleApp",t.roleApp.toString())),void 0!==t.sort&&(r=r.set("sort",t.sort.toString()));var o=this.http.get(this.endpoint,{params:r}),i=this.subjects.find((function(n){return e.equals(n.params,t)}));return i&&o.subscribe((function(e){return i.subject.next(e)})),o.subscribe((function(e){return n.subject.next(e)})),o},e}();r.EntityTreeService=a,a.ɵfac=function(e){return new(e||a)(o.ɵɵinject(_.WorldskillsAngularLibService),o.ɵɵinject(i.HttpClient))},a.ɵprov=o.ɵɵdefineInjectable({token:a,factory:a.ɵfac,providedIn:"root"})})),$=d((function(r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.EntityTreeSelectComponent=void 0;var i=e,a=["ngSelectComponent"],u=["wrapperControl"],p=["expandControl"],d=["expandAllControl"],f=["collapseControl"],m=["collapseAllControl"],h=["separatorControl"],v=["showingControl"];function g(e,t){}function S(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",12),i.ɵɵtemplate(1,g,0,0,"ng-template",13),i.ɵɵelementEnd()),2&e){var n=t.$implicit;i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",n)}}function x(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"button",14),i.ɵɵlistener("click",(function(e){i.ɵɵrestoreView(n);var r=t.click;return e.preventDefault(),r()})),i.ɵɵtext(1,"Expand"),i.ɵɵelementEnd()}if(2&e){var r=t.enabled;i.ɵɵproperty("disabled",!r)}}function w(e,t){1&e&&(i.ɵɵelementStart(0,"button",15),i.ɵɵlistener("click",(function(){return(0,t.click)()})),i.ɵɵtext(1,"Expand all"),i.ɵɵelementEnd())}function _(e,t){if(1&e&&(i.ɵɵelementStart(0,"button",14),i.ɵɵlistener("click",(function(){return(0,t.click)()})),i.ɵɵtext(1,"Collapse"),i.ɵɵelementEnd()),2&e){var n=t.enabled;i.ɵɵproperty("disabled",!n)}}function E(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"button",15),i.ɵɵlistener("click",(function(e){i.ɵɵrestoreView(n);var r=t.click;return e.preventDefault(),r()})),i.ɵɵtext(1,"Collapse all"),i.ɵɵelementEnd()}}function C(e,t){}function O(e,t){if(1&e&&i.ɵɵtext(0),2&e){var n=t.showing,r=t.total;i.ɵɵtextInterpolate2(" Showing ",n," of ",r,"\n")}}function k(e,t){}function T(e,t){}function I(e,t){}function M(e,t){}function P(e,t){}function j(e,t){}function D(e,t){}var F=function(e,t){return{enabled:e,click:t}},R=function(e){return{click:e}};function A(e,t){if(1&e&&(i.ɵɵtemplate(0,k,0,0,"ng-template",16),i.ɵɵtemplate(1,T,0,0,"ng-template",13),i.ɵɵtemplate(2,I,0,0,"ng-template",16),i.ɵɵtemplate(3,M,0,0,"ng-template",13),i.ɵɵtemplate(4,P,0,0,"ng-template",16),i.ɵɵtemplate(5,j,0,0,"ng-template",13),i.ɵɵtemplate(6,D,0,0,"ng-template",16)),2&e){var n=i.ɵɵnextContext();i.ɵɵproperty("ngTemplateOutlet",n.controls.collapse)("ngTemplateOutletContext",i.ɵɵpureFunction2(11,F,n.currentMarkedEntity&&n.isExpandable(n.currentMarkedEntity)&&n.isExpanded(n.currentMarkedEntity),n.collapseFn(n.currentMarkedEntity))),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",n.controls.separator),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",n.controls.expand)("ngTemplateOutletContext",i.ɵɵpureFunction2(14,F,n.currentMarkedEntity&&n.isExpandable(n.currentMarkedEntity)&&n.isCollapsed(n.currentMarkedEntity),n.expandFn(n.currentMarkedEntity))),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",n.controls.separator),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",n.controls.collapseAll)("ngTemplateOutletContext",i.ɵɵpureFunction1(17,R,n.collapseAllFn())),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",n.controls.separator),i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",n.controls.expandAll)("ngTemplateOutletContext",i.ɵɵpureFunction1(19,R,n.expandAllFn()))}}function L(e,t){}function N(e,t){}var V=function(e,t){return{showing:e,total:t}},U=function(e){return{$implicit:e}};function W(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",25),i.ɵɵelementStart(1,"div"),i.ɵɵtemplate(2,L,0,0,"ng-template",16),i.ɵɵelementEnd(),i.ɵɵelementStart(3,"div"),i.ɵɵtemplate(4,N,0,0,"ng-template",16),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(3),r=i.ɵɵreference(15);i.ɵɵadvance(2),i.ɵɵproperty("ngTemplateOutlet",n.controls.showing)("ngTemplateOutletContext",i.ɵɵpureFunction2(4,V,n.filtered,n.total)),i.ɵɵadvance(2),i.ɵɵproperty("ngTemplateOutlet",n.controls.wrapper)("ngTemplateOutletContext",i.ɵɵpureFunction1(7,U,r))}}function B(e,t){1&e&&(i.ɵɵelementContainerStart(0),i.ɵɵtemplate(1,W,5,9,"ng-template",24),i.ɵɵelementContainerEnd())}function H(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementContainerStart(0),i.ɵɵelementStart(1,"span",26),i.ɵɵlistener("click",(function(){i.ɵɵrestoreView(n);var e=i.ɵɵnextContext(),t=e.item;return(0,e.clear)(t)})),i.ɵɵtext(2,"×"),i.ɵɵelementEnd(),i.ɵɵelementContainerEnd()}}function z(e,t){if(1&e&&(i.ɵɵelementStart(0,"span"),i.ɵɵtext(1),i.ɵɵelementEnd(),i.ɵɵtemplate(2,H,3,0,"ng-container",17)),2&e){var n=t.item,r=i.ɵɵnextContext(2);i.ɵɵclassMap(r.multiple?"px-2":""),i.ɵɵadvance(1),i.ɵɵtextInterpolate(r.showFullPath?n.fullPathName:n.name.text),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",r.multiple)}}function q(e,t){}var Z=function(e,t){return{$implicit:e,depth:t}};function G(e,t){if(1&e&&(i.ɵɵelementContainerStart(0),i.ɵɵtemplate(1,q,0,0,"ng-template",16),i.ɵɵelementContainerEnd()),2&e){var n=t.$implicit,r=i.ɵɵnextContext().depth;i.ɵɵnextContext();var o=i.ɵɵreference(19);i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",o)("ngTemplateOutletContext",i.ɵɵpureFunction2(2,Z,n,r+1))}}var $=function(e,t,n,r,o,i,a,l,s){return{"item-wrapper":!0,"level-0":e,"level-1":t,"level-2":n,"level-3":r,"level-4":o,"level-5":i,"level-6":a,expanded:l,collapsed:s}};function K(e,t){if(1&e&&(i.ɵɵtemplate(0,B,2,0,"ng-container",17),i.ɵɵtemplate(1,z,3,5,"ng-template",18),i.ɵɵelementStart(2,"ng-option",19),i.ɵɵelementStart(3,"div",20),i.ɵɵelementStart(4,"div",21),i.ɵɵelementStart(5,"div",22),i.ɵɵtext(6),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(7,"div",23),i.ɵɵtext(8),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵtemplate(9,G,2,5,"ng-container",11)),2&e){var n=t.$implicit,r=t.depth,o=i.ɵɵnextContext();i.ɵɵproperty("ngIf",o.showControls&&!!o.treeEntities),i.ɵɵadvance(2),i.ɵɵproperty("value",n)("disabled",!n.selectable),i.ɵɵadvance(1),i.ɵɵproperty("id",o.getDomIdentifier("entity-"+n.id))("ngClass",i.ɵɵpureFunctionV(9,$,[0===r,1===r,2===r,3===r,4===r,5===r,6===r,o.isExpandable(n)&&o.isExpanded(n),o.isExpandable(n)&&o.isCollapsed(n)])),i.ɵɵadvance(2),i.ɵɵattribute("data-entity-expander-id",o.getDomIdentifier(n.id)),i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",o.isExpandable(n)&&o.isExpanded(n)?"expanded":o.isExpandable(n)&&o.isCollapsed(n)?"collapsed":""," "),i.ɵɵadvance(2),i.ɵɵtextInterpolate(n.name.text),i.ɵɵadvance(1),i.ɵɵproperty("ngForOf",n.children)}}function J(e,t){}var X=function(e){return{$implicit:e,depth:0}};function ee(e,t){if(1&e&&(i.ɵɵelementContainerStart(0),i.ɵɵtemplate(1,J,0,0,"ng-template",16),i.ɵɵelementContainerEnd()),2&e){var n=t.$implicit;i.ɵɵnextContext();var r=i.ɵɵreference(19);i.ɵɵadvance(1),i.ɵɵproperty("ngTemplateOutlet",r)("ngTemplateOutletContext",i.ɵɵpureFunction1(2,X,n))}}function te(e){return e&&"object"==typeof e&&"type"in e&&"treeEntity"===e.type}var ne=function(){function n(n){var r=this;this.entityTreeService=n,this.labels={},this.controls={},this.entities=null,this.selectableChildren=!0,this.showUnselectableParents=!0,this.showFullPath=!0,this.showControls=!0,this.cache=!0,this.defaultExpand=!1,this.expandedSearch=[],this.flattenedEntities=[],this.flattenedTreeEntities=[],this.lastTerm=" ",this.refreshing=!1,this.update=new t.Subject,this.fetchedTreeEntities=[],this.cachedWriteValueSubject=new t.Subject,this.treeEntitiesSubject=new t.Subject,this.hasFocus=!1,this.loading=!0,this.treeEntities=[],this.expanded=[],this.appendTo=null,this.closeOnSelect=!0,this.clearable=!0,this.clearOnBackspace=!0,this.dropdownPosition="auto",this.markFirst=!0,this.isOpen=void 0,this.maxSelectedItems=void 0,this.hideSelected=!1,this.multiple=!1,this.searchable=!0,this.readonly=!1,this.searchWhileComposing=!0,this.selectOnTab=!1,this.openOnEnter=!0,this.virtualScroll=!1,this.inputAttrs=void 0,this.tabIndex=void 0,this.blur=new e.EventEmitter,this.focus=new e.EventEmitter,this.change=new e.EventEmitter,this.open=new e.EventEmitter,this.close=new e.EventEmitter,this.search=new e.EventEmitter,this.clear=new e.EventEmitter,this.add=new e.EventEmitter,this.remove=new e.EventEmitter,this.scroll=new e.EventEmitter,this.scrollToEnd=new e.EventEmitter,this.entityIdCallback=function(e){return e?e.id:void 0},this.htmlId=c.v4(),this.compareWith=this.compareWith||function(e,t){var n=r.toId(e),o=r.toId(t);return n&&o&&n===o},this.onKeyDown=this.onKeyDown.bind(this),this.onClick=this.onClick.bind(this),this.searchFn=this.searchFn.bind(this)}return Object.defineProperty(n.prototype,"currentMarkedEntity",{get:function(){return this.ngSelectComponent.itemsList.markedItem?this.ngSelectComponent.itemsList.markedItem.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"filtered",{get:function(){return this.getFiltered(this.treeEntities)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"total",{get:function(){return this.ngSelectComponent.itemsList.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"queryParams",{get:function(){return Object.assign({limit:9999,depth:10},this.query)},enumerable:!1,configurable:!0}),n.prototype.ngOnChanges=function(e){"entities"in e&&this.createTreeEntities()},n.prototype.ngOnInit=function(){var e,n=this;this.labels=Object.assign(Object.assign({},Q.DEFAULT_LABELS),this.labels),this.controls=Object.assign({wrapper:this.wrapperControl,expand:this.expandControl,expandAll:this.expandAllControl,collapse:this.collapseControl,collapseAll:this.collapseAllControl,separator:this.separatorControl,showing:this.showingControl},this.controls),e=!1===this.cache?this.entityTreeService.list(this.queryParams):this.entityTreeService.getCachedSubject(this.queryParams),this.writeValueSubscription=t.combineLatest([this.cachedWriteValueSubject,this.treeEntitiesSubject]).subscribe((function(e){var t=y(e,1)[0];return n.ngSelectComponent.writeValue(n.multiple?(t||[]).map((function(e){return n.toTreeEntity(e)})).filter((function(e){return!!e})):n.toTreeEntity(t))})),e.subscribe((function(e){e&&(n.fetchedTreeEntities=e.ws_entity_list.map((function(e){return n.deepCopyEntity(e)})),n.createTreeEntities(),n.loading=!1,n.treeEntitiesSubject.next())})),this.update.subscribe((function(){n.refreshing=!0,n.ngSelectComponent.filter(n.lastTerm),n.refreshing=!1})),document.addEventListener("click",this.onClick,!0),document.addEventListener("keydown",this.onKeyDown,!0)},n.prototype.createTreeEntities=function(){var e=this;this.treeEntities=this.fetchedTreeEntities.map((function(t){return e.deepCopyEntity(t)})),this.flattenedEntities=this.flatten(this.entities||[]),this.setSelectable(this.treeEntities,null===this.entities||this.flattenedEntities.map((function(e){return e.id}))),this.selectableChildren&&this.setSelectableForChildren(this.treeEntities),this.clearUnselectableTrees(this.treeEntities),this.setParentsForEntities(this.treeEntities),this.setPathNamesAndTypes(this.treeEntities),this.showUnselectableParents||(this.treeEntities=this.flattenUnselectableParents(this.treeEntities)),this.flattenedTreeEntities=this.flatten(this.treeEntities),this.defaultExpand&&this.expandAll(this.treeEntities,!1),this.hasFocus&&setTimeout((function(){return e.update.next(null)}))},n.prototype.deepCopyEntity=function(e){var t=this;return Object.assign(Object.assign({},e),{children:e.children.map((function(e){return t.deepCopyEntity(e)}))})},n.prototype.ngOnDestroy=function(){this.writeValueSubscription.unsubscribe(),document.removeEventListener("click",this.onClick,!0),document.removeEventListener("keydown",this.onKeyDown,!0)},n.prototype.isDomIdentifier=function(e){return e.startsWith("_"+this.htmlId)},n.prototype.getDomIdentifier=function(e){return"_"+this.htmlId+"-"+e},n.prototype.stripDomIdentifier=function(e){return e.replace("_"+this.htmlId+"-","")},n.prototype.flatten=function(e){var t=this;return e.reduce((function(e,n){return n.children?b(e,[n],t.flatten(n.children)):b(e,[n])}),[])},n.prototype.setParentsForEntities=function(e){var t=this;e.forEach((function(e){e.children.forEach((function(t){t.parent=e})),t.setParentsForEntities(e.children)}))},n.prototype.setPathNamesAndTypes=function(e){var t=this;e.forEach((function(e){for(var n=[],r=e;r;)n.push(r.name.text),r=r.parent;e.allPaths=n.reverse(),e.fullPathName=e.allPaths.join(" > "),e.allPaths=e.allPaths.map((function(e){return e.toLowerCase()})),e.paths=b(e.allPaths),e.paths.pop(),e.type="treeEntity",t.setPathNamesAndTypes(e.children)}))},n.prototype.setSelectable=function(e,t){var n=this;e.forEach((function(e){e.filtered=!0,e.selectable=!0===t||t.includes(e.id),n.setSelectable(e.children,t)}))},n.prototype.setSelectableForChildren=function(e){var t=this;e.forEach((function(e){e.selectable&&e.children.forEach((function(e){e.selectable=!0})),t.setSelectableForChildren(e.children)}))},n.prototype.clearSafeChildren=function(e){var t=this;return e.children.every((function(e){return!e.selectable&&t.clearSafeChildren(e)}))},n.prototype.clearUnselectableTrees=function(e){for(var t=!0;t;){t=!1;for(var n=0;n<e.length;n++)if(this.clearUnselectableTrees(e[n].children),!e[n].selectable&&this.clearSafeChildren(e[n])){e.splice(n,1),t=!0;break}}},n.prototype.clearUnselectableTree=function(e){return 0!==e.children.length&&!e.children.every((function(e){return!e.selectable}))&&(this.clearUnselectableTrees(e.children),!0)},n.prototype.flattenUnselectableParents=function(e){e=b(e);for(var t=!0;t;){t=!1;for(var n=function(n){if(!e[n].selectable){var r=b(e[n].children);return r.forEach((function(t){t.parent=e[n].parent})),e.splice.apply(e,b([n,1],r)),t=!0,"break"}},r=0;r<e.length;r++){if("break"===n(r))break}}for(r=0;r<e.length;r++)e[r].children=this.flattenUnselectableParents(e[r].children);return e},n.prototype.isExpandable=function(e){return e.children.length>0},n.prototype.expandFn=function(e){var t=this;return function(){return e&&t.expand(e)}},n.prototype.expand=function(e){this.expanded.includes(e.id)||this.expanded.push(e.id),this.update.next(e)},n.prototype.expandAllFn=function(){var e=this;return function(){return e.expandAll(e.treeEntities)}},n.prototype.expandAll=function(e,t){var n=this;void 0===t&&(t=!0),e.forEach((function(e){n.isExpandable(e)&&!n.expanded.includes(e.id)&&n.expanded.push(e.id),n.expandAll(e.children,!1)})),t&&this.update.next(null)},n.prototype.expandArray=function(e){var t=this;e.forEach((function(e){t.expanded.includes(e.id)||t.expanded.push(e.id)})),this.update.next(null)},n.prototype.expandTree=function(e){for(var t=e;t;)this.expanded.includes(t.id)||this.expanded.push(t.id),t=t.parent;this.update.next(null)},n.prototype.expandTrees=function(e){var t=this;e.forEach((function(e){for(var n=e;n;)t.expanded.includes(n.id)||t.expanded.push(n.id),n=n.parent})),this.update.next(null)},n.prototype.collapseFn=function(e){var t=this;return function(){return e&&t.collapse(e)}},n.prototype.collapse=function(e){this.expanded.includes(e.id)&&this.expanded.splice(this.expanded.findIndex((function(t){return t===e.id})),1),this.update.next(e)},n.prototype.collapseAllFn=function(){var e=this;return function(){return e.collapseAll(e.treeEntities)}},n.prototype.collapseAll=function(e,t){var n=this;void 0===t&&(t=!0),e.forEach((function(e){n.isExpandable(e)&&n.expanded.includes(e.id)&&n.expanded.splice(n.expanded.findIndex((function(t){return t===e.id})),1),n.collapseAll(e.children,!1)})),t&&this.update.next(null)},n.prototype.toggleExpanded=function(e){this.expanded.includes(e.id)?this.expanded.splice(this.expanded.findIndex((function(t){return t===e.id})),1):this.expanded.push(e.id),this.update.next(e)},n.prototype.toggleExpandedById=function(e){this.expanded.includes(e)?this.expanded.splice(this.expanded.findIndex((function(t){return t===e})),1):this.expanded.push(e),this.update.next(null)},n.prototype.isTreeExpanded=function(e){for(var t=e;t;){if(!this.isExpanded(t))return!1;t=t.parent}return!0},n.prototype.isExpanded=function(e){return this.expanded.includes(e.id)},n.prototype.isCollapsed=function(e){return!this.expanded.includes(e.id)},n.prototype.isVisible=function(e){return!e.parent||this.isTreeExpanded(e.parent)},n.prototype.trackByFn=function(e){return e.id},n.prototype.onClear=function(e){this.lastTerm=" ",this.update.next(null),this.clear.emit(e)},n.prototype.onOpen=function(e){var t=this;setTimeout((function(){t.update.next(null)})),this.open.emit(e)},n.prototype.onSearch=function(e){this.refreshing||(e.term.trim()&&!this.lastSearch.trim()?this.expandedSearch=b(this.expanded):!e.term.trim()&&this.lastSearch.trim()&&(this.expanded=b(this.expandedSearch),this.update.next(null)),e.term.trim()&&this.expandTrees(e.items)),""===e.term&&(this.lastTerm=" ",this.update.next(null)),this.lastSearch=e.term,this.search.emit(e)},n.prototype.searchFn=function(e,t){this.lastTerm=e;var n=e.trim()?e.split(/\s*>\s*/):[],r=this.entityContainsSearchTerm(n,t);return t.filtered=r,r&&this.isVisible(t)},n.prototype.entityContainsSearchTerm=function(e,t){if(e.length>0){var n=b(e),r=n.pop().trim();return!(!t.name.text.toLowerCase().includes(r)||!n.every((function(e){return t.paths.some((function(t){return t.includes(e.trim())}))})))||this.childrenContainSearchTerm(e,t.children)}return!0},n.prototype.childrenContainSearchTerm=function(e,t){var n=this;return t.some((function(t){return n.entityContainsSearchTerm(e,t)}))},n.prototype.onChange=function(e){var t=this;this.change.emit(this.multiple?e.map((function(e){return t.toId(e)})):this.toId(e))},n.prototype.onClick=function(e){var t=e.target;if(t.dataset&&t.dataset.entityExpanderId&&this.isDomIdentifier(t.dataset.entityExpanderId)){var n=parseInt(this.stripDomIdentifier(t.dataset.entityExpanderId),0);this.toggleExpandedById(n),e.preventDefault(),e.stopImmediatePropagation()}},n.prototype.onKeyDown=function(e){if(this.hasFocus){var t=this.ngSelectComponent.itemsList,n=t.markedItem?t.markedItem.value:null;if(n&&e.metaKey){var r=!1,o=!1;if("ArrowLeft"===e.key){if(this.isExpandable(n)&&this.isExpanded(n))this.collapse(n);else if(n.parent){(i=t.filteredItems.find((function(e){return e.value.id===n.parent.id})))&&(t.markItem(i),o=!0)}else t.markPreviousItem(),o=!0;r=!0}if("ArrowRight"===e.key){if(this.isExpandable(n)&&this.isCollapsed(n))this.expand(n);else if(this.isExpandable(n)&&this.isExpanded(n)){var i;(i=t.filteredItems.find((function(e){return e.value.parent_id&&e.value.parent_id===n.id})))&&(t.markItem(i),o=!0)}else t.markNextItem(),o=!0;r=!0}if(o){var a=document.getElementById(t.markedItem.htmlId);a&&a.scrollIntoView(),this.update.next(null)}r&&(e.preventDefault(),e.stopImmediatePropagation())}}},n.prototype.getFiltered=function(e){var t=this;return e.reduce((function(e,n){return(n.filtered?e+1:e)+t.getFiltered(n.children)}),0)},n.prototype.registerOnChange=function(e){var t=this;this.ngSelectComponent.registerOnChange((function(n){return e(t.multiple?n.map((function(e){return t.toId(e)})):t.toId(n))}))},n.prototype.registerOnTouched=function(e){this.ngSelectComponent.registerOnTouched(e)},n.prototype.setDisabledState=function(e){this.ngSelectComponent.setDisabledState(e)},n.prototype.writeValue=function(e){this.cachedWriteValueSubject.next(e)},n.prototype.toId=function(e){return te(e)?e.id:"number"==typeof e?e:"object"==typeof e?this.entityIdCallback(e):null},n.prototype.toTreeEntity=function(e){var t=this;return te(e)?this.flattenedTreeEntities.find((function(t){return t.id===e.id})):"number"==typeof e?this.flattenedTreeEntities.find((function(t){return t.id===e})):"object"==typeof e?this.flattenedTreeEntities.find((function(n){return n.id===t.entityIdCallback(e)})):null},n.prototype.toEntity=function(e){var t=this;return te(e)?this.flattenedEntities.find((function(n){return t.entityIdCallback(n)===e.id})):"number"==typeof e?this.flattenedEntities.find((function(n){return t.entityIdCallback(n)===e})):"object"==typeof e?this.flattenedEntities.find((function(n){return t.entityIdCallback(n)===t.entityIdCallback(e)})):null},n}();o.EntityTreeSelectComponent=ne,ne.ɵfac=function(e){return new(e||ne)(i.ɵɵdirectiveInject(Y.EntityTreeService))},ne.ɵcmp=i.ɵɵdefineComponent({type:ne,selectors:[["ws-entity-tree-select"]],viewQuery:function(e,t){var n;(1&e&&(i.ɵɵstaticViewQuery(a,!0),i.ɵɵstaticViewQuery(u,!0),i.ɵɵstaticViewQuery(p,!0),i.ɵɵstaticViewQuery(d,!0),i.ɵɵstaticViewQuery(f,!0),i.ɵɵstaticViewQuery(m,!0),i.ɵɵstaticViewQuery(h,!0),i.ɵɵstaticViewQuery(v,!0)),2&e)&&(i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.ngSelectComponent=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.wrapperControl=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.expandControl=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.expandAllControl=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.collapseControl=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.collapseAllControl=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.separatorControl=n.first),i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.showingControl=n.first))},inputs:{labels:"labels",controls:"controls",query:"query",entities:"entities",selectableChildren:"selectableChildren",showUnselectableParents:"showUnselectableParents",showFullPath:"showFullPath",showControls:"showControls",cache:"cache",defaultExpand:"defaultExpand",appendTo:"appendTo",closeOnSelect:"closeOnSelect",clearable:"clearable",clearOnBackspace:"clearOnBackspace",dropdownPosition:"dropdownPosition",markFirst:"markFirst",isOpen:"isOpen",maxSelectedItems:"maxSelectedItems",hideSelected:"hideSelected",multiple:"multiple",searchable:"searchable",readonly:"readonly",searchWhileComposing:"searchWhileComposing",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",virtualScroll:"virtualScroll",inputAttrs:"inputAttrs",tabIndex:"tabIndex",compareWith:"compareWith",entityIdCallback:"entityIdCallback"},outputs:{blur:"blur",focus:"focus",change:"change",open:"open",close:"close",search:"search",clear:"clear",add:"add",remove:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[i.ɵɵProvidersFeature([{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return ne})),multi:!0}]),i.ɵɵNgOnChangesFeature],decls:21,vars:28,consts:[["wrapperControl",""],["expandControl",""],["expandAllControl",""],["collapseControl",""],["collapseAllControl",""],["separatorControl",""],["showingControl",""],["controlsWrapper",""],[3,"appendTo","closeOnSelect","clearAllText","clearable","clearOnBackspace","compareWith","dropdownPosition","loadingText","markFirst","isOpen","maxSelectedItems","hideSelected","multiple","notFoundText","searchable","readonly","searchFn","searchWhileComposing","selectOnTab","openOnEnter","typeToSearchText","placeholder","virtualScroll","inputAttrs","loading","tabIndex","trackByFn","blur","focus","change","open","close","search","clear","add","remove","scroll","scrollToEnd"],["ngSelectComponent",""],["entityOption",""],[4,"ngFor","ngForOf"],["role","group",1,"btn-group","btn-group-sm"],[3,"ngTemplateOutlet"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-primary",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["ng-label-tmp",""],[3,"value","disabled"],[3,"id","ngClass"],[1,"expander"],[1,"arrow"],[1,"item"],["ng-header-tmp",""],[1,"d-flex","flex-row","justify-content-between","align-items-center"],[1,"font-weight-bold","px-2","border-left",2,"cursor","pointer",3,"click"]],template:function(e,t){1&e&&(i.ɵɵtemplate(0,S,2,1,"ng-template",null,0,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(2,x,2,1,"ng-template",null,1,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(4,w,2,0,"ng-template",null,2,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(6,_,2,1,"ng-template",null,3,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(8,E,2,0,"ng-template",null,4,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(10,C,0,0,"ng-template",null,5,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(12,O,1,2,"ng-template",null,6,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(14,A,7,21,"ng-template",null,7,i.ɵɵtemplateRefExtractor),i.ɵɵelementStart(16,"ng-select",8,9),i.ɵɵlistener("blur",(function(e){return t.hasFocus=!1,t.blur.emit(e)}))("focus",(function(e){return t.hasFocus=!0,t.focus.emit(e)}))("change",(function(e){return t.onChange(e)}))("open",(function(e){return t.onOpen(e)}))("close",(function(e){return t.close.emit(e)}))("search",(function(e){return t.onSearch(e)}))("clear",(function(e){return t.onClear(e)}))("add",(function(e){return t.add.emit(e)}))("remove",(function(e){return t.remove.emit(e)}))("scroll",(function(e){return t.scroll.emit(e)}))("scrollToEnd",(function(e){return t.scrollToEnd.emit(e)})),i.ɵɵtemplate(18,K,10,19,"ng-template",null,10,i.ɵɵtemplateRefExtractor),i.ɵɵtemplate(20,ee,2,4,"ng-container",11),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(16),i.ɵɵproperty("appendTo",t.appendTo)("closeOnSelect",t.closeOnSelect)("clearAllText",t.labels.clearAllText)("clearable",t.clearable)("clearOnBackspace",t.clearOnBackspace)("compareWith",t.compareWith)("dropdownPosition",t.dropdownPosition)("loadingText",t.labels.loadingText)("markFirst",t.markFirst)("isOpen",t.isOpen)("maxSelectedItems",t.maxSelectedItems)("hideSelected",t.hideSelected)("multiple",t.multiple)("notFoundText",t.labels.notFoundText)("searchable",t.searchable)("readonly",t.readonly)("searchFn",t.searchFn)("searchWhileComposing",t.searchWhileComposing)("selectOnTab",t.selectOnTab)("openOnEnter",t.openOnEnter)("typeToSearchText",t.labels.typeToSearchText)("placeholder",t.labels.placeholder)("virtualScroll",t.virtualScroll)("inputAttrs",t.inputAttrs)("loading",t.loading)("tabIndex",t.tabIndex)("trackByFn",t.trackByFn),i.ɵɵadvance(4),i.ɵɵproperty("ngForOf",t.treeEntities))},directives:[s.NgSelectComponent,n.NgForOf,n.NgTemplateOutlet,n.NgIf,s.ɵh,s.ɵr,n.NgClass,s.ɵj],styles:[".level-0[_ngcontent-%COMP%]{margin-left:0}.level-1[_ngcontent-%COMP%]{margin-left:20px}.level-2[_ngcontent-%COMP%]{margin-left:40px}.level-3[_ngcontent-%COMP%]{margin-left:60px}.level-4[_ngcontent-%COMP%]{margin-left:80px}.level-5[_ngcontent-%COMP%]{margin-left:100px}.level-6[_ngcontent-%COMP%]{margin-left:120px}.item-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row}.item[_ngcontent-%COMP%]{flex:1}.expander[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;text-align:center;width:20px}.arrow[_ngcontent-%COMP%]{border:5px solid transparent;font-size:0;height:0;visibility:hidden;width:0}.item-wrapper.collapsed[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{border-left-color:#000;margin:0 0 0 3px;visibility:visible}.item-wrapper.expanded[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{border-top-color:#000;margin:3px 0 0;visibility:visible}"]})})),K=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WorldskillsAngularLibModule=void 0;var i=e,c=o,u=function(){};n.WorldskillsAngularLibModule=u,u.ɵmod=i.ɵɵdefineNgModule({type:u}),u.ɵinj=i.ɵɵdefineInjector({factory:function(e){return new(e||u)},imports:[[r.BrowserModule,l.FormsModule,o.OAuthModule.forRoot(),a.NgbModule,s.NgSelectModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.ɵɵsetNgModuleScope(u,{declarations:[E.WorldskillsAngularLibComponent,O.AlertComponent,k.AlertsComponent,D.BreadcrumbsComponent,U.DateRangeComponent,B.DatetimePickerComponent,$.EntityTreeSelectComponent,N.FooterComponent,A.HeaderComponent,L.LogoComponent,R.MenuAccessPipe,z.PollResultComponent,T.PuppeteerBannerComponent,H.SortPipe,I.StagingBannerComponent,q.StandardPollComponent,G.VoteControlComponent,F.WordmarkComponent,Z.WeightedPollComponent],imports:[r.BrowserModule,l.FormsModule,c.OAuthModule,a.NgbModule,s.NgSelectModule],exports:[E.WorldskillsAngularLibComponent,O.AlertComponent,k.AlertsComponent,D.BreadcrumbsComponent,U.DateRangeComponent,B.DatetimePickerComponent,$.EntityTreeSelectComponent,N.FooterComponent,A.HeaderComponent,L.LogoComponent,R.MenuAccessPipe,z.PollResultComponent,T.PuppeteerBannerComponent,H.SortPipe,I.StagingBannerComponent,q.StandardPollComponent,G.VoteControlComponent,F.WordmarkComponent,Z.WeightedPollComponent]})})),J=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),X=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ee=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),te=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ne=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),re=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),oe=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ie=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DateUtil=void 0;var r=function(){function e(){}return e.toJavaDateString=function(e,t){return n.formatDate(e,"yyyy-MM-ddTHH:mm:ssZ",t)},e}();t.DateUtil=r})),ae=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HttpUtil=void 0;var n=function(){function e(){}return e.objectToParams=function(e){var t=new u.HttpParams;return Object.getOwnPropertyNames(t).forEach((function(n,r){var o=e[n];M.ArrayUtil.isArray(o)?o.forEach((function(e,r){t=0===r?t.set(n,e):t.append(n,e)})):t=t.set(n,o)})),t},e}();t.HttpUtil=n})),le=d((function(n,r){Object.defineProperty(r,"__esModule",{value:!0}),r.WsComponent=void 0;var o=e,i=function(){function e(){this.subscriptions=new t.Subscription}return e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e.prototype.subscribe=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){return e.subscriptions.add(t)}))},e}();r.WsComponent=i,i.ɵfac=function(e){return new(e||i)},i.ɵdir=o.ɵɵdefineDirective({type:i})})),se=d((function(e,n){function r(e){return e&&("subject"in e||"loader"in e||"subscription"in e||"onError"in e)}function o(e){return e&&"url"in e}Object.defineProperty(n,"__esModule",{value:!0}),n.WsService=n.NO_SUBJECT=n.LOADER_ONLY=n.FULL=n.isRequestOptions=n.isFetchParams=n.isMulticastOptions=void 0,n.isMulticastOptions=r,n.isFetchParams=function(e){return e&&("limit"in e||"offset"in e||"sort"in e||"l"in e)},n.isRequestOptions=o,n.FULL={subject:!0,loader:!0,subscription:!0},n.LOADER_ONLY={loader:!0},n.NO_SUBJECT={loader:!0,subscription:!0};var i=function(){function e(){var e=this;this.loaders=new t.BehaviorSubject(0),this.subscription=null,this.subject=new t.ReplaySubject(1),this.loading=new t.ReplaySubject(1),this.loaders.subscribe((function(t){return e.loading.next(0!==t)}))}return e.prototype.resolveArgs=function(e,t,n,i,a){var l,s,c;return o(n)?(l=e,s=t,c=n):o(t)?(c=t,r(e)?s=e:r(e)||(l=e)):o(e)?c=e:r(t)&&!r(e)?(l=e,s=t):r(e)?s=e:r(e)||(l=e),void 0===l&&(l=a),void 0===s&&(s=i),void 0===c&&(c={}),{fetchParams:l,multicastOptions:s,requestOptions:c}},e.prototype.incrementLoader=function(){var e=this;this.loaders.pipe(p.take(1)).subscribe((function(t){e.loaders.next(++t)}))},e.prototype.decrementLoader=function(){var e=this;this.loaders.pipe(p.take(1)).subscribe((function(t){var n=Math.max(0,t-1);e.loaders.next(n)}))},e.prototype.multicast=function(e,t){var r=this;void 0===t&&(t=n.FULL);var o=t.loader,i=t.subject,a=t.subscription,l=t.onError;o&&this.incrementLoader(),a&&this.subscription&&o&&!this.subscription.closed&&(this.decrementLoader(),this.subscription.unsubscribe());var s=e.subscribe((function(e){o&&r.decrementLoader(),i&&r.subject.next(e)}),(function(e){o&&r.decrementLoader(),l&&l(e)}));a&&(this.subscription=s)},e.prototype.request=function(e,t){return void 0===t&&(t=n.FULL),this.multicast(e,t),e},e.prototype.requestMany=function(e,r){void 0===r&&(r=n.NO_SUBJECT);var o=t.forkJoin(e);return this.multicast(o,r),o},e}();n.WsService=i})),ce=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AlertType=void 0,function(e){e.error="alert-danger",e.info="alert-info",e.success="alert-success",e.warning="alert-warning"}(t.AlertType||(t.AlertType={}))})),ue=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),pe=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectHandler=t.RETURN_URL_KEY=void 0,t.RETURN_URL_KEY="returnUrl";var n=function(){function e(e,t){this.service=e,this.router=t}return e.prototype.redirectOrReturn=function(e,n){var r=this;this.service.isLoggedIn()?this.hasReturnUrl()?this.handleReturnUrl((function(e){return n(e)})):this.service.loadUserProfile((function(n){sessionStorage.removeItem(t.RETURN_URL_KEY),r.redirectUserToRoute(n,e)}),(function(e){n(e)})):this.service.login()},e.prototype.hasReturnUrl=function(){var e=sessionStorage.getItem(t.RETURN_URL_KEY);return null!=e&&"undefined"!==e},e.prototype.handleReturnUrl=function(e){var n=this,r=sessionStorage.getItem(t.RETURN_URL_KEY);sessionStorage.removeItem(t.RETURN_URL_KEY),this.service.loadUserProfile((function(e){return n.redirectUserToUrl(e,r)}),(function(t){return e(t)}))},e.prototype.redirectUserToUrl=function(e,t){this.router.navigateByUrl(t)},e.prototype.redirectUserToRoute=function(e,t){this.router.navigate(t)},e}();t.RedirectHandler=n})),de=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),fe=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EntityTreeView=void 0;var n=function(e){this.id=e&&e.id||void 0,this.name=e&&e.name||{lang_code:"en",text:null},this.parent_id=e&&e.parent_id||void 0,this.children=e&&e.children||[]};t.EntityTreeView=n})),me=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),he=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ve=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ge=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ye=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),be=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Se=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WsiAuthService=void 0;var r=e,i=u,a=function(){function e(e,t,n){var r=this;this.wsi=e,this.http=t,this.oAuthService=n,this.wsi.serviceConfigSubject.subscribe((function(e){r.appCode=e.appCode,r.endpoint=e.apiEndpoint+"/auth"}))}return e.prototype.ping=function(){var e=this.endpoint+"/ping";return this.http.get(e,{})},e.prototype.getLoggedInUser=function(e){void 0===e&&(e=!1);var t=new u.HttpParams;t=t.set("show_child_roles",String(e)),this.appCode.forEach((function(e){t=t.has("app_code")?t.append("app_code",String(e)):t.set("app_code",String(e))}));var n=this.endpoint+"/users/loggedIn";return this.http.get(n,{params:t})},e.prototype.logout=function(){var e=this.endpoint+"/sessions/logout";return this.http.post(e,{})},e.prototype.listUsers=function(e){var t=ae.HttpUtil.objectToParams(e),n=this.endpoint+"/users";return this.http.get(n,{params:t})},e.prototype.getUser=function(e){var t=this.endpoint+"/users/"+e;return this.http.get(t)},e.prototype.getUserByPerson=function(e){var t=this.endpoint+"/users/person/"+e;return this.http.get(t)},e.prototype.addRole=function(e,t){var n=this.endpoint+"/users/"+e+"/roles",r={role_id:t};return this.http.post(n,r)},e.prototype.addRoleWithEntity=function(e,t,n){var r=this.endpoint+"/users/"+e+"/roles",o={role_id:t,ws_entity_id:n};return this.http.post(r,o)},e.prototype.deleteRole=function(e,t){var n=this.endpoint+"/users/"+e+"/roles/"+t;return this.http.delete(n)},e.prototype.deleteRoleWithEntity=function(e,t,n){var r=this.endpoint+"/users/"+e+"/roles/"+t+"?ws_entity_id="+n;return this.http.delete(r)},e}();n.WsiAuthService=a,a.ɵfac=function(e){return new(e||a)(r.ɵɵinject(_.WorldskillsAngularLibService),r.ɵɵinject(i.HttpClient),r.ɵɵinject(o.OAuthService))},a.ɵprov=r.ɵɵdefineInjectable({token:a,factory:a.ɵfac,providedIn:"root"})})),xe=d((function(n,r){Object.defineProperty(r,"__esModule",{value:!0}),r.WsiNgAuthService=void 0;var a=e,l=function(){function e(e,n,r,o){var i=this;this.wsi=e,this.oAuthService=n,this.router=r,this.service=o,this.wsi.authConfigSubject.subscribe((function(e){i.oAuthService.configure(e),i.currentUserSubject=new t.BehaviorSubject(JSON.parse(sessionStorage.getItem("user.current"))),i.currentUser=i.currentUserSubject.asObservable(),i.oAuthService.setStorage(sessionStorage),i.oAuthService.tryLogin()}))}return e.prototype.keepAlive=function(){var e=this;this.service.ping().subscribe((function(t){console.log(t),e.logout()}))},Object.defineProperty(e.prototype,"currentUserValue",{get:function(){return this.currentUserSubject.value},enumerable:!1,configurable:!0}),e.prototype.isLoggedIn=function(){return this.oAuthService.hasValidAccessToken()},e.prototype.loadUserProfile=function(e,t){return w.__awaiter(this,void 0,void 0,(function(){var n=this;return h(this,(function(r){return this.service.getLoggedInUser().subscribe((function(e){null!=e&&(sessionStorage.setItem("user.current",JSON.stringify(e)),n.currentUserSubject.next(e))}),(function(e){n.currentUser=null,t(e)}),(function(){return e(n.currentUserSubject.value)})),[2]}))}))},e.prototype.login=function(){this.oAuthService.initImplicitFlow()},e.prototype.logout=function(){var e=this;this.service.logout().subscribe((function(t){return e.clearSession()}),(function(t){return e.clearSession()}),(function(){}))},e.prototype.clearSession=function(){sessionStorage.removeItem("nonce"),sessionStorage.removeItem("user.current"),sessionStorage.removeItem("access_token_stored_at"),sessionStorage.removeItem("access_token"),sessionStorage.removeItem("token"),this.oAuthService.logOut(),this.currentUserSubject.next(null)},e}();r.WsiNgAuthService=l,l.ɵfac=function(e){return new(e||l)(a.ɵɵinject(_.WorldskillsAngularLibService),a.ɵɵinject(o.OAuthService),a.ɵɵinject(i.Router),a.ɵɵinject(Se.WsiAuthService))},l.ɵprov=a.ɵɵdefineInjectable({token:l,factory:l.ɵfac,providedIn:"root"})})),we=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppAuthGuard=void 0;var r=e,o=function(){function e(e,t,n){this.auth=e,this.wsi=t,this.router=n}return e.prototype.canActivate=function(e,t){var n=sessionStorage.getItem("user.current");if(P.GenericUtil.isNullOrUndefined(n))return this.login(t);var r=JSON.parse(n);if(P.GenericUtil.isNullOrUndefined(r))return this.login(t);var o=e.data.roles;return!P.GenericUtil.isNullOrUndefined(o)&&r.roles.filter((function(e){return-1!==o.findIndex((function(t){return t.appCode===e.role_application.application_code&&t.name===e.name}))})).length>0},e.prototype.login=function(e){return sessionStorage.setItem("returnUrl",e.url),this.auth.login(),!1},e}();n.AppAuthGuard=o,o.ɵfac=function(e){r.ɵɵinvalidFactory()},o.ɵprov=r.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"})})),_e=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SelectDirective=void 0;var r=e,o=function(){function t(t){this.ngSelectComponent=t,this.wsChange=new e.EventEmitter}return t.prototype.ngOnChanges=function(e){this.ngSelectComponent&&e.items&&this.updateItems(e.items.currentValue,e.items.isFirstChange())},t.prototype.ngOnInit=function(){var t=this;if(this.ngSelectComponent){var n=void 0,r=void 0,o=void 0;if(this.entryReader){if(Array.isArray(this.entryReader)){var i=y(this.entryReader,3),a=i[0];n=i[1],r=a,o=i[2]}else{var l=this.entryReader;n=l.labelReader,r=l.valueReader,o=l.groupReader}this.labelReader||(this.labelReader=n),this.valueReader||(this.valueReader=r),this.groupReader||(this.groupReader=o)}if(!this.labelReader||!this.valueReader)throw new Error("Provide both a means to read the label and the value");if("string"==typeof this.labelReader&&(this.labelReader=this.labelReader.split(".")),"string"==typeof this.valueReader&&(this.valueReader=this.valueReader.split(".")),this.ngSelectComponent.bindLabel="label",this.ngSelectComponent.bindValue="value",this.groupReader&&(this.ngSelectComponent.groupBy="group"),this.wsChange){var s=this.ngSelectComponent.changeEvent,c=new e.EventEmitter;if(c.subscribe((function(e){e?t.wsChange.emit({item:t.originalItems.find((function(n){return t.readObjectValue(n)===e.value})),original:e,value:e.value}):t.wsChange.emit(null)})),s){var u=new e.EventEmitter;u.subscribe((function(e){s.emit(e),c.emit(e)})),this.ngSelectComponent.changeEvent=u}else this.ngSelectComponent.changeEvent=c}this.updateItems(this.items)}},t.prototype.updateItems=function(t,n){var r=this;void 0===n&&(n=!1),t&&(this.originalItems=b(t),this.ngSelectComponent.items=t.map((function(e){return{label:r.readObjectLabel(e),value:r.readObjectValue(e),group:r.groupReader?r.readObjectGroup(e):void 0}})),this.ngSelectComponent.ngOnChanges({items:new e.SimpleChange(null,this.ngSelectComponent.items,n)}))},t.prototype.readObjectLabel=function(e){var t,n,r;if(Array.isArray(this.labelReader))if(1===this.labelReader.length)r=e[this.labelReader[0]];else{r=e;try{for(var o=g(this.labelReader),i=o.next();!i.done;i=o.next()){if(void 0===(r=r[i.value]))break}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}else"function"==typeof this.labelReader&&(r=this.labelReader(e));return r},t.prototype.readObjectValue=function(e){var t,n,r;if(Array.isArray(this.valueReader))if(1===this.valueReader.length)r=e[this.valueReader[0]];else{r=e;try{for(var o=g(this.valueReader),i=o.next();!i.done;i=o.next()){if(void 0===(r=r[i.value]))break}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}else"function"==typeof this.valueReader&&(r=this.valueReader(e));return r},t.prototype.readObjectGroup=function(e){var t,n,r;if(Array.isArray(this.groupReader))if(1===this.groupReader.length)r=e[this.groupReader[0]];else{r=e;try{for(var o=g(this.groupReader),i=o.next();!i.done;i=o.next()){if(void 0===(r=r[i.value]))break}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}else"function"==typeof this.groupReader&&(r=this.groupReader(e));return r},t}();n.SelectDirective=o,o.ɵfac=function(e){return new(e||o)(r.ɵɵdirectiveInject(s.NgSelectComponent,11))},o.ɵdir=r.ɵɵdefineDirective({type:o,selectors:[["","wsSelect",""]],inputs:{entryReader:["wsSelect","entryReader"],items:"items",labelReader:"labelReader",valueReader:"valueReader",groupReader:"groupReader"},outputs:{wsChange:"wsChange"},features:[r.ɵɵNgOnChangesFeature]})})),Ee=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Ce=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Oe=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ke=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Te=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Ie=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Me=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WsHttpEncoder=void 0;var n=function(){function e(){}return e.prototype.encodeKey=function(e){return encodeURIComponent(e)},e.prototype.encodeValue=function(e){return encodeURIComponent(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}();t.WsHttpEncoder=n})),Pe=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),je=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),De=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WsHttpInterceptor=void 0;var r=e,i=function(){function e(e,t){this.wsi=e,this.oAuthService=t}return e.prototype.intercept=function(e,t){var n=this.wsi.httpConfigSubject.getValue(),r=P.GenericUtil.getValueOrDefault(n.authUriPatterns,[]),o=P.GenericUtil.getValueOrDefault(n.encoderUriPatterns,[]),i=r.filter((function(t){return e.url.match(t)})).length>0,a=o.filter((function(t){return e.url.match(t)})).length>0;if(i&&(e=e.clone({headers:new u.HttpHeaders({Authorization:this.oAuthService.authorizationHeader()})})),a){var l=new u.HttpParams({encoder:new Me.WsHttpEncoder,fromString:e.params.toString()});e=e.clone({params:l})}return t.handle(e)},e}();n.WsHttpInterceptor=i,i.ɵfac=function(e){return new(e||i)(r.ɵɵinject(_.WorldskillsAngularLibService),r.ɵɵinject(o.OAuthService))},i.ɵprov=r.ɵɵdefineInjectable({token:i,factory:i.ɵfac})})),Fe=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Re=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Ae=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Le=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Ne=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Ve=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Ue=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),We=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceUpload=void 0;var n=function(){function e(e){this.tags=[],this.name=e&&e.name||{lang_code:"en",text:null},this.ws_entity=e&&e.ws_entity,this.types=e&&e.types||[],this.version=e&&e.version||{name:"1.0"},this.metadata=e&&e.metadata||[]}return e.fromResource=function(t){var n=t.versions[t.versions.length-1],r=n.translations[n.translations.length-1];return new e({name:t.name,ws_entity:t.ws_entity.id,tags:t.tags,types:t.resource_types.map((function(e){return e.id})),metadata:t.metadata.map((function(e){return{metadata:e.metadata.id,value:e.value}})),version:{name:n.name,date:n.date,tags:n.tags,translation:{version:n.id,lang_code:r.lang_code,storage_data:r.storage_data,storage_type:r.storage_type.id}}})},e}();t.ResourceUpload=n})),Be=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),He=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ze=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),qe=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Ze=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Ge=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UploadService=void 0;var r=e,o=u,i=function(){function e(e){this.http=e}return e.prototype.prepareUpload=function(e,t,n,r){void 0===r&&(r="POST");var o={params:n,reportProgress:!0};return new u.HttpRequest(r,e,t,o)},e.prototype.listen=function(e,t,n){this.http.request(e).subscribe((function(e){switch(e.type){case u.HttpEventType.UploadProgress:t(e);break;case u.HttpEventType.Response:n(e)}}))},e}();n.UploadService=i,i.ɵfac=function(e){return new(e||i)(r.ɵɵinject(o.HttpClient))},i.ɵprov=r.ɵɵdefineInjectable({token:i,factory:i.ɵfac,providedIn:"root"})})),Qe=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ResourceService=void 0;var r=e,o=u,i=function(){function e(e,t,n){var r=this;this.wsi=e,this.http=t,this.uploader=n,this.wsi.serviceConfigSubject.subscribe((function(e){r.url=e.apiEndpoint+"/resources"}))}return e.prototype.search=function(e){var t=ae.HttpUtil.objectToParams(e);return this.http.get(this.url,{params:t})},e.prototype.get=function(e){var t=this.url+"/"+e;return this.http.get(t)},e.prototype.delete=function(e){var t=this.url+"/"+e;return this.http.delete(t)},e.prototype.update=function(e,t){var n=this.url+"/"+e;return this.http.put(n,t)},e.prototype.upload=function(e,t,n,r){void 0===n&&(n="POST"),void 0===r&&(r=0);var o="POST"===n?this.url:this.url+"/"+r,i=new FormData;return i.append("key","value"),i.append("requestData",JSON.stringify(e)),i.append("file",t),this.uploader.prepareUpload(o,i,new u.HttpParams,n)},e.prototype.listTypes=function(){var e=this.url+"/types";return this.http.get(e)},e.prototype.getType=function(e){var t=this.url+"/types/"+e;return this.http.get(t)},e.prototype.listMetadata=function(){var e=this.url+"/metadata";return this.http.get(e)},e.prototype.getMetadata=function(e){var t=this.url+"/metadata/"+e;return this.http.get(t)},e.prototype.createMetadata=function(e){var t=this.url+"/metadata";return this.http.post(t,e)},e.prototype.updateMetadata=function(e,t){var n=this.url+"/metadata/"+e;return this.http.put(n,t)},e.prototype.deleteMetadata=function(e){var t=this.url+"/metadata/"+e;return this.http.delete(t)},e}();n.ResourceService=i,i.ɵfac=function(e){return new(e||i)(r.ɵɵinject(_.WorldskillsAngularLibService),r.ɵɵinject(o.HttpClient),r.ɵɵinject(Ge.UploadService))},i.ɵprov=r.ɵɵdefineInjectable({token:i,factory:i.ɵfac,providedIn:"root"})})),Ye=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),$e=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Ke=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Je=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Xe=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),et=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),tt=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),nt=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),rt=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ot=d((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PollService=void 0;var r=e,o=function(){function e(e,t){var n=this;this.wsi=e,this.http=t,this.wsi.serviceConfigSubject.subscribe((function(e){n.endpoint=e.apiEndpoint+"/votes"}))}return e.prototype.list=function(e){return this.http.get(this.endpoint,{params:e})},e.prototype.select=function(e){var t=this.endpoint+"/select";return this.http.get(t,{params:e})},e.prototype.get=function(e){var t=this.endpoint+"/"+e;return this.http.get(t)},e.prototype.getResults=function(e){var t=this.endpoint+"/"+e+"/results";return this.http.get(t)},e.prototype.hasVoted=function(e){var t=this.endpoint+"/"+e+"/has_voted";return this.http.get(t)},e.prototype.create=function(e){return this.http.post(this.endpoint,e)},e.prototype.update=function(e,t){var n=this.endpoint+"/"+e;return this.http.put(n,t)},e.prototype.delete=function(e){var t=this.endpoint+"/"+e;return this.http.delete(t)},e.prototype.undelete=function(e){var t=this.endpoint+"/"+e+"/undelete";return this.http.put(t,{})},e.prototype.reset=function(e,t,n){var r={start:t,expiry:n},o=this.endpoint+"/"+e+"/reset";return this.http.put(o,r)},e.prototype.extend=function(e,t){var n={expiry:t},r=this.endpoint+"/"+e+"/extend";return this.http.put(r,n)},e.prototype.addVote=function(e,t){var n={votes:t},r=this.endpoint+"/"+e+"/addVote";return this.http.post(r,n)},e.prototype.unvote=function(e){var t=this.endpoint+"/"+e+"/removeVote";return this.http.delete(t)},e}();n.PollService=o,o.ɵfac=function(e){return new(e||o)(r.ɵɵinject(_.WorldskillsAngularLibService),r.ɵɵinject(u.HttpClient))},o.ɵprov=r.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"})})),it=d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),w.__exportStar(_,t),w.__exportStar(E,t),w.__exportStar(K,t),w.__exportStar(J,t),w.__exportStar(X,t),w.__exportStar(ee,t),w.__exportStar(te,t),w.__exportStar(ne,t),w.__exportStar(re,t),w.__exportStar(oe,t),w.__exportStar(U,t),w.__exportStar(W,t),w.__exportStar(B,t),w.__exportStar(M,t),w.__exportStar(ie,t),w.__exportStar(P,t),w.__exportStar(ae,t),w.__exportStar(le,t),w.__exportStar(se,t),w.__exportStar(V,t),w.__exportStar(H,t),w.__exportStar(ce,t),w.__exportStar(ue,t),w.__exportStar(k,t),w.__exportStar(_,t),w.__exportStar(O,t),w.__exportStar(pe,t),w.__exportStar(de,t),w.__exportStar(fe,t),w.__exportStar(fe,t),w.__exportStar(me,t),w.__exportStar(he,t),w.__exportStar(ve,t),w.__exportStar(ge,t),w.__exportStar(ye,t),w.__exportStar(be,t),w.__exportStar(we,t),w.__exportStar(Se,t),w.__exportStar(xe,t),w.__exportStar(Q,t),w.__exportStar(_e,t),w.__exportStar($,t),w.__exportStar(Y,t),w.__exportStar(Ee,t),w.__exportStar(Ce,t),w.__exportStar(Oe,t),w.__exportStar(ke,t),w.__exportStar(Te,t),w.__exportStar(T,t),w.__exportStar(I,t),w.__exportStar(D,t),w.__exportStar(Ie,t),w.__exportStar(j,t),w.__exportStar(Me,t),w.__exportStar(N,t),w.__exportStar(A,t),w.__exportStar(Pe,t),w.__exportStar(R,t),w.__exportStar(je,t),w.__exportStar(De,t),w.__exportStar(L,t),w.__exportStar(F,t),w.__exportStar(Fe,t),w.__exportStar(Re,t),w.__exportStar(Ae,t),w.__exportStar(Le,t),w.__exportStar(Ne,t),w.__exportStar(Ve,t),w.__exportStar(Ue,t),w.__exportStar(We,t),w.__exportStar(Be,t),w.__exportStar(He,t),w.__exportStar(ze,t),w.__exportStar(qe,t),w.__exportStar(Ze,t),w.__exportStar(Qe,t),w.__exportStar(Ye,t),w.__exportStar($e,t),w.__exportStar(Ke,t),w.__exportStar(Je,t),w.__exportStar(Xe,t),w.__exportStar(et,t),w.__exportStar(tt,t),w.__exportStar(nt,t),w.__exportStar(rt,t),w.__exportStar(z,t),w.__exportStar(q,t),w.__exportStar(G,t),w.__exportStar(Z,t),w.__exportStar(ot,t)}));return d((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),w.__exportStar(it,t)}))}));
//# sourceMappingURL=worldskills-angular-lib.umd.min.js.map