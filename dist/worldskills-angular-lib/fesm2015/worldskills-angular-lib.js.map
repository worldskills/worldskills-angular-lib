{"version":3,"file":"worldskills-angular-lib.js","sources":["../../../projects/worldskills-angular-lib/src/lib/worldskills-angular-lib.service.ts","../../../projects/worldskills-angular-lib/src/lib/worldskills-angular-lib.component.ts","../../../projects/worldskills-angular-lib/src/lib/alerts/alert.service.ts","../../../projects/worldskills-angular-lib/src/lib/alerts/alert/alert.component.ts","../../../projects/worldskills-angular-lib/src/lib/alerts/alert/alert.component.html","../../../projects/worldskills-angular-lib/src/lib/alerts/alerts/alerts.component.ts","../../../projects/worldskills-angular-lib/src/lib/alerts/alerts/alerts.component.html","../../../projects/worldskills-angular-lib/src/lib/banners/puppeteer-banner/puppeteer-banner.component.ts","../../../projects/worldskills-angular-lib/src/lib/banners/puppeteer-banner/puppeteer-banner.component.html","../../../projects/worldskills-angular-lib/src/lib/banners/staging-banner/staging-banner.component.ts","../../../projects/worldskills-angular-lib/src/lib/banners/staging-banner/staging-banner.component.html","../../../projects/worldskills-angular-lib/src/lib/common/util/array.util.ts","../../../projects/worldskills-angular-lib/src/lib/common/util/generic.util.ts","../../../projects/worldskills-angular-lib/src/lib/breadcrumbs/breadcrumbs.service.ts","../../../projects/worldskills-angular-lib/src/lib/breadcrumbs/breadcrumbs/breadcrumbs.component.ts","../../../projects/worldskills-angular-lib/src/lib/breadcrumbs/breadcrumbs/breadcrumbs.component.html","../../../projects/worldskills-angular-lib/src/lib/logos/wordmark/wordmark.component.ts","../../../projects/worldskills-angular-lib/src/lib/logos/wordmark/wordmark.component.html","../../../projects/worldskills-angular-lib/src/lib/headers/menu-access.pipe.ts","../../../projects/worldskills-angular-lib/src/lib/headers/header/header.component.ts","../../../projects/worldskills-angular-lib/src/lib/headers/header/header.component.html","../../../projects/worldskills-angular-lib/src/lib/logos/logo/logo.component.ts","../../../projects/worldskills-angular-lib/src/lib/logos/logo/logo.component.html","../../../projects/worldskills-angular-lib/src/lib/footer/footer/footer.component.ts","../../../projects/worldskills-angular-lib/src/lib/footer/footer/footer.component.html","../../../projects/worldskills-angular-lib/src/lib/common/helpers/date.helper.ts","../../../projects/worldskills-angular-lib/src/lib/date/date-range/date-range.component.ts","../../../projects/worldskills-angular-lib/src/lib/date/date-range/date-range.component.html","../../../projects/worldskills-angular-lib/src/lib/date/datetime.ts","../../../projects/worldskills-angular-lib/src/lib/date/datetime-picker/datetime-picker.component.ts","../../../projects/worldskills-angular-lib/src/lib/date/datetime-picker/datetime-picker.component.html","../../../projects/worldskills-angular-lib/src/lib/common/pipes/date-sort.pipe.ts","../../../projects/worldskills-angular-lib/src/lib/polls/poll-result/poll-result.component.ts","../../../projects/worldskills-angular-lib/src/lib/polls/poll-result/poll-result.component.html","../../../projects/worldskills-angular-lib/src/lib/polls/standard-poll/standard-poll.component.ts","../../../projects/worldskills-angular-lib/src/lib/polls/standard-poll/standard-poll.component.html","../../../projects/worldskills-angular-lib/src/lib/polls/weighted-poll/weighted-poll.component.ts","../../../projects/worldskills-angular-lib/src/lib/polls/weighted-poll/weighted-poll.component.html","../../../projects/worldskills-angular-lib/src/lib/polls/vote-control/vote-control.component.ts","../../../projects/worldskills-angular-lib/src/lib/polls/vote-control/vote-control.component.html","../../../projects/worldskills-angular-lib/src/lib/entity-tree/consts/default-labels.ts","../../../projects/worldskills-angular-lib/src/lib/entity-tree/entity-tree.service.ts","../../../projects/worldskills-angular-lib/src/lib/entity-tree/entity-tree-select/entity-tree-select.component.ts","../../../projects/worldskills-angular-lib/src/lib/entity-tree/entity-tree-select/entity-tree-select.component.html","../../../projects/worldskills-angular-lib/src/lib/worldskills-angular-lib.module.ts","../../../projects/worldskills-angular-lib/src/lib/common/util/date.util.ts","../../../projects/worldskills-angular-lib/src/lib/common/util/http.util.ts","../../../projects/worldskills-angular-lib/src/lib/common/util/ws.component.ts","../../../projects/worldskills-angular-lib/src/lib/common/util/ws.service.ts","../../../projects/worldskills-angular-lib/src/lib/alerts/alert-type.ts","../../../projects/worldskills-angular-lib/src/lib/auth/handlers/redirect.handler.ts","../../../projects/worldskills-angular-lib/src/lib/auth/models/entity-tree-view.ts","../../../projects/worldskills-angular-lib/src/lib/auth/wsi-auth.service.ts","../../../projects/worldskills-angular-lib/src/lib/auth/wsi-ng-auth.service.ts","../../../projects/worldskills-angular-lib/src/lib/auth/app-auth.guard.ts","../../../projects/worldskills-angular-lib/src/lib/entity-tree/directives/select.directive.ts","../../../projects/worldskills-angular-lib/src/lib/common/encoders/ws-http.encoder.ts","../../../projects/worldskills-angular-lib/src/lib/interceptors/ws-http.interceptor.ts","../../../projects/worldskills-angular-lib/src/lib/resources/models/resourcec-upload.ts","../../../projects/worldskills-angular-lib/src/lib/common/services/upload.service.ts","../../../projects/worldskills-angular-lib/src/lib/resources/resource.service.ts","../../../projects/worldskills-angular-lib/src/lib/polls/poll.service.ts","../../../projects/worldskills-angular-lib/src/public-api.ts","../../../projects/worldskills-angular-lib/src/worldskills-angular-lib.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { AppConfig } from './config/app.config';\nimport { HttpConfig } from './config/http.config';\nimport { ServiceConfig } from './config/service.config';\nimport { AuthConfig } from 'angular-oauth2-oidc';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorldskillsAngularLibService {\n\n  // behaviour subjects to listen for cconfig change\n  public appConfigSubject: BehaviorSubject<AppConfig>;\n  public httpConfigSubject: BehaviorSubject<HttpConfig>;\n  public serviceConfigSubject: BehaviorSubject<ServiceConfig>;\n  public authConfigSubject: BehaviorSubject<AuthConfig>;\n\n  constructor() {\n    // default configuration\n    this.appConfigSubject = new BehaviorSubject({ notAuthorizedRoute: ['/not-authorized'] });\n    this.httpConfigSubject = new BehaviorSubject({ encoderUriPatterns: [], authUriPatterns: [] });\n    this.serviceConfigSubject = new BehaviorSubject({ appCode: [], apiEndpoint: ''});\n    this.authConfigSubject = new BehaviorSubject({});\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'ws-worldskills-angular-lib',\n  template: `\n    <p>\n      worldskills-angular-lib works!\n    </p>\n  `,\n  styles: [\n  ]\n})\nexport class WorldskillsAngularLibComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Alert } from './alert';\nimport { AlertType } from './alert-type';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AlertService {\n  public alerts: Alert[];\n\n  constructor() {\n    this.alerts = [];\n  }\n\n  public remove(id: string): void {\n    const index = this.alerts.findIndex(item => item.id === id);\n    if (index !== -1) {\n      this.alerts.splice(index, 1);\n    }\n  }\n\n  public setAlert(id: string, type: AlertType, title?: string, message?: string, closable?: boolean): void  {\n    title = title || '';\n    message = message || '';\n    closable = closable || false;\n    this.alerts.push({\n      id, type, title, message, closable\n    });\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { AlertService } from '../alert.service';\nimport { Alert } from '../alert';\n\n@Component({\n  selector: 'ws-alert',\n  templateUrl: './alert.component.html',\n  styleUrls: ['./alert.component.css']\n})\nexport class AlertComponent implements OnInit {\n\n  @Input() alert: Alert;\n\n  constructor(public alertService: AlertService) { }\n\n  // tslint:disable-next-line:typedef\n  ngOnInit() {\n  }\n\n  // tslint:disable-next-line:typedef use-lifecycle-interface\n  ngOnChanges() {\n  }\n\n  hasMessage(): boolean {\n    return this.alert.message && this.alert.message.length > 0;\n  }\n\n  hasTitle(): boolean {\n    return this.alert.title && this.alert.title.length > 0;\n  }\n\n  canClose(): boolean {\n    return this.alert.closable;\n  }\n\n  dismiss(): void {\n    this.alertService.remove(this.alert.id);\n  }\n\n}\n","\n<div *ngIf=\"alert\" class=\"alert {{ alert.type }}  alert-dismissible\" role=\"alert\">\n  <h4 *ngIf=\"hasTitle()\" class=\"alert-heading\">\n    {{ alert.title }}\n    <button *ngIf=\"canClose()\" (click)=\"dismiss()\" type=\"button\" class=\"close\" data-dismiss=\"alert\"\n      aria-label=\"Close\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </h4>\n  <span *ngIf=\"hasMessage()\">{{ alert.message }}</span>\n  <button *ngIf=\"canClose() && !hasTitle()\" (click)=\"dismiss()\" type=\"button\"\n    class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Alert } from '../alert';\nimport { AlertService } from '../alert.service';\n\n@Component({\n  selector: 'ws-alerts',\n  templateUrl: './alerts.component.html',\n  styleUrls: ['./alerts.component.css']\n})\nexport class AlertsComponent implements OnInit {\n\n  constructor(public alertService: AlertService) { }\n\n  // tslint:disable-next-line:typedef\n  ngOnInit() {\n  }\n\n  get hasAlerts(): boolean {\n    return this.alertService.alerts.length > 0;\n  }\n}\n","<div *ngIf=\"hasAlerts\" class=\"alerts\">\n  <ws-alert *ngFor=\"let item of this.alertService.alerts\" [alert]=\"item\"></ws-alert>\n</div>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { User } from '../../auth/models/user';\n\n@Component({\n  selector: 'ws-puppeteer-banner',\n  templateUrl: './puppeteer-banner.component.html',\n  styleUrls: ['./puppeteer-banner.component.css']\n})\nexport class PuppeteerBannerComponent implements OnInit {\n\n  @Input() currentUser: User;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div style=\"background-color: #D51067; padding: 10px 20px; color: #fff; text-align: center;\"\n  *ngIf=\"currentUser && currentUser.puppeteer\">\n  {{currentUser.puppeteer.first_name}} {{currentUser.puppeteer.last_name}} logged in as {{currentUser.firstName}}\n  {{currentUser.lastName}}\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'ws-staging-banner',\n  templateUrl: './staging-banner.component.html',\n  styleUrls: ['./staging-banner.component.css']\n})\nexport class StagingBannerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div style=\"background-color: #f0ad4e; padding: 10px 20px; color: #fff; text-align: center;\">This is\n  the staging environment. Changes in this environment might get overwritten.</div>\n","export class ArrayUtil {\n  // since array concat doesn't trigger UI updates\n  static pushMany<T>(first: T[], second: T[]): T[] {\n    second.forEach(item => first.push(item));\n    return first;\n  }\n\n  static dedupePrimitive<T>(arr: T[]): T[] {\n    const clean = [];\n    arr.forEach(item => {\n      if (clean.indexOf(item) === -1) {\n        clean.push(item);\n      }\n    });\n    return clean;\n  }\n\n  static isArray(obj): boolean {\n    return toString.call(obj) === '[object Array]';\n  }\n\n}\n","export class GenericUtil {\n  static isNullOrUndefined(obj: any): boolean {\n    return obj === undefined || obj === null;\n  }\n\n  static getValueOrDefault<T>(value: any, defaultValue: T): T {\n    return GenericUtil.isNullOrUndefined(value) ? defaultValue : value;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { KeyValue } from '@angular/common';\nimport { Breadcrumb } from './breadcrumb';\nimport { ActivatedRoute } from '@angular/router';\nimport { BehaviorSubject, throwError } from 'rxjs';\nimport { GenericUtil } from '../common/util/generic.util';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BreadcrumbsService {\n\n  protected breadcrumbs: Breadcrumb[];\n\n  public breadcrumbsSubject: BehaviorSubject<Breadcrumb[]>;\n\n  public homeItemRoute: string;\n\n  public isAtHome: boolean;\n\n  public targetOutlet: string;\n\n  public replacements: KeyValue<string, string>[];\n\n  constructor() {\n    this.breadcrumbs = [];\n    this.replacements = [];\n    this.breadcrumbsSubject = new BehaviorSubject([]);\n  }\n\n  public build(route: ActivatedRoute, url: string = ''): void {\n    if (route.outlet === this.targetOutlet) {\n      const path = route.snapshot.url.map(segment => segment.path).join('/');\n      url = `${url}/${path}`;\n      this.isAtHome = path === this.homeItemRoute.replace('/', '');\n      if (route.snapshot.data.hasOwnProperty('breadcrumb')) {\n        const breadcrumb: Breadcrumb = {\n          key: route.snapshot.data.breadcrumb.key,\n          label: route.snapshot.data.breadcrumb.label,\n          params: route.snapshot.params,\n          url\n        };\n\n        // handle key replacements before breadcrumbs are initialized\n        const replacementIndex = this.replacements.findIndex(r => r.key === breadcrumb.label);\n        if (replacementIndex !== -1) {\n          breadcrumb.label = this.replacements[replacementIndex].value;\n        }\n\n        this.breadcrumbs.push(breadcrumb);\n        this.breadcrumbsSubject.next(this.breadcrumbs);\n      }\n      // nothing to do\n      if (route.children.length === 0) {\n        return;\n      }\n\n      route.children.forEach(\n        child => {\n          this.build(child, url);\n        }\n      );\n    }\n  }\n\n  public createOrUpdateReplacement(key: string, value: string): number {\n    let index = this.replacements.findIndex(x => x.key === key);\n    if (index === -1) {\n      const replacement = { key, value };\n      this.replacements.push(replacement);\n      index = this.replacements.findIndex(x => x.key === key);\n    } else {\n      this.replacements[index].value = value;\n    }\n\n    return index;\n  }\n\n  public replaceLabel(key: string, value: string): void {\n    const replacementIndex = this.createOrUpdateReplacement(key, value);\n    if (GenericUtil.isNullOrUndefined(this.breadcrumbs)) {\n      return;\n    }\n\n    if (this.breadcrumbs.length === 0) {\n      return;\n    }\n\n    this.breadcrumbs.forEach((b, i) => {\n      if (b.key === key) {\n        this.breadcrumbs[i].label = value;\n      }\n    });\n\n    this.breadcrumbsSubject.next(this.breadcrumbs);\n  }\n\n  // this method should only be used after the breadcrumb is initialized\n  public remove(key: string): void {\n    const index = this.breadcrumbs.findIndex(x => x.key === key);\n    if (index !== -1) {\n      this.breadcrumbs.splice(index, 1);\n      this.breadcrumbsSubject.next(this.breadcrumbs);\n    }\n  }\n\n  // this method should only be used after the breadcrumb is initialized\n  public add(breadcrumb: Breadcrumb): void {\n    const index = this.breadcrumbs.findIndex(x => x.key === breadcrumb.key);\n    if (index !== -1) {\n      throwError(`key \"${breadcrumb.key}\" already exists`);\n      return;\n    }\n\n    this.breadcrumbs.push(breadcrumb);\n    this.breadcrumbsSubject.next(this.breadcrumbs);\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { BreadcrumbsService } from '../breadcrumbs.service';\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\nimport { Breadcrumb } from '../breadcrumb';\nimport { Subscription } from 'rxjs';\nimport { ArrayUtil } from '../../common/util/array.util';\n\n@Component({\n  selector: 'ws-breadcrumbs',\n  templateUrl: './breadcrumbs.component.html',\n  styleUrls: ['./breadcrumbs.component.css']\n})\nexport class BreadcrumbsComponent implements OnInit {\n  @Input() showHomeItem: boolean;\n  @Input() homeItemRoute: string;\n  @Input() homeItemText: string;\n\n  replacementSubscription: Subscription;\n  rebuildSubscription: Subscription;\n\n  breadcrumbs: Breadcrumb[];\n\n  isAtHome: boolean;\n\n  constructor(public service: BreadcrumbsService, private router: Router, private route: ActivatedRoute) { }\n\n  // tslint:disable-next-line:typedef\n  ngOnInit() {\n    // listen for dev changes to the breadcrumbs\n    this.replacementSubscription = this.service.breadcrumbsSubject.subscribe(\n      next => {\n        this.breadcrumbs = [];\n        ArrayUtil.pushMany(this.breadcrumbs, next);\n      }\n    );\n\n    // init\n    this.isAtHome = false;\n    this.service.homeItemRoute = this.homeItemRoute;\n    this.service.targetOutlet = 'primary';\n    this.service.build(this.route.root);\n\n    // rebuild on nav change\n    this.rebuildSubscription = this.router.events.subscribe((event) => {\n      if (event instanceof NavigationEnd) {\n        this.service.build(this.route.root);\n        this.isAtHome = this.service.isAtHome;\n      }\n    });\n  }\n\n  // tslint:disable-next-line:use-lifecycle-interface typedef\n  ngOnChanges() {\n\n  }\n\n  // tslint:disable-next-line:use-lifecycle-interface typedef\n  ngOnDestroy() {\n    if (this.replacementSubscription) {\n      this.replacementSubscription.unsubscribe();\n    }\n    if (this.rebuildSubscription) {\n      this.rebuildSubscription.unsubscribe();\n    }\n  }\n}\n","<nav aria-label=\"breadcrumb\" *ngIf=\"breadcrumbs\">\n  <ol class=\"breadcrumb\">\n    <li class=\"breadcrumb-item\" *ngIf=\"showHomeItem && !isAtHome\">\n      <a href=\"{{ homeItemRoute }}\">{{ homeItemText }}</a>\n    </li>\n    <li class=\"breadcrumb-item\" *ngIf=\"showHomeItem && isAtHome\">\n      {{ homeItemText }}\n    </li>\n    <li class=\"breadcrumb-item {{ last ? 'active' : '' }}\"\n      *ngFor=\"let breadcrumb of breadcrumbs; let last = last;\">\n      <a *ngIf=\"!last\" [routerLink]=\"[breadcrumb.url, breadcrumb.params]\">\n        {{ breadcrumb.label }}\n      </a>\n      <span *ngIf=\"last\">\n        {{ breadcrumb.label }}\n      </span>\n    </li>\n  </ol>\n</nav>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'ws-wordmark',\n  templateUrl: './wordmark.component.html',\n  styleUrls: ['./wordmark.component.css']\n})\nexport class WordmarkComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<svg width=\"115px\" height=\"22px\" viewBox=\"0 0 220 42\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\" class=\"d-inline-block align-baseline\" aria-label=\"WorldSkills\">\n  <g>\n      <path d=\"M52.271,39.434c-5.36,0 -8.958,-4.397 -8.958,-10.943c0,-6.546 3.598,-10.945 8.958,-10.945c5.358,0 8.959,4.399 8.959,10.945c0,6.546 -3.601,10.943 -8.959,10.943Zm0,-24.453c-9.152,0 -12.397,7.275 -12.397,13.51c0,6.233 3.245,13.509 12.397,13.509c9.151,0 12.398,-7.276 12.398,-13.509c0,-6.235 -3.247,-13.51 -12.398,-13.51Z\" style=\"fill:#fff;fill-rule:nonzero;\"></path>\n      <path d=\"M70.618,19.724l0,-4.232l-2.916,0l0.003,25.798l3.122,0l0,-12.745l-0.006,-0.165c0.006,-4.753 1.352,-10.434 7.767,-10.434l0.975,0.046l0.012,-0.101l0.156,-3.009l-0.363,-0.002c-4.333,0 -7.269,1.636 -8.75,4.844Z\" style=\"fill:#fff;fill-rule:nonzero;\"></path>\n      <path d=\"M134.06,20.521c-2.152,-0.71 -3.726,-1.121 -6.297,-1.121c-1.89,0 -4.145,0.664 -4.145,2.906c0,4.179 12.225,1.529 12.225,11.001c0,6.116 -5.614,8.562 -11.333,8.562c-2.68,0 -5.407,-0.457 -7.977,-1.119l0.419,-5.607c2.203,1.069 4.512,1.733 6.924,1.733c1.788,0 4.62,-0.664 4.62,-3.209c0,-5.146 -12.226,-1.632 -12.226,-11.107c0,-5.653 5.09,-8.153 10.599,-8.153c3.306,0 5.46,0.512 7.662,0.97l-0.471,5.144Z\" style=\"fill:#fff;fill-rule:nonzero;\"></path>\n      <rect x=\"166.803\" y=\"15.051\" width=\"7.034\" height=\"26.239\" style=\"fill:#fff;fill-rule:nonzero;\"></rect>\n      <path d=\"M217.817,20.521c-2.151,-0.71 -3.725,-1.121 -6.296,-1.121c-1.892,0 -4.146,0.664 -4.146,2.906c0,4.179 12.225,1.529 12.225,11.001c0,6.116 -5.613,8.562 -11.333,8.562c-2.678,0 -5.405,-0.457 -7.977,-1.119l0.42,-5.607c2.203,1.069 4.513,1.733 6.926,1.733c1.785,0 4.619,-0.664 4.619,-3.209c0,-5.146 -12.227,-1.632 -12.227,-11.107c0,-5.653 5.09,-8.153 10.602,-8.153c3.305,0 5.454,0.512 7.659,0.97l-0.472,5.144Z\" style=\"fill:#fff;fill-rule:nonzero;\"></path>\n      <path d=\"M153.067,26.813l9.962,-11.762l-8.292,0l-8.394,10.497l-0.106,0l0,-24.614l-7.032,2.147l0,38.209l7.032,0l0,-12.737l0.106,0l9.027,12.737l8.919,0l-11.222,-14.477Z\" style=\"fill:#fff;fill-rule:nonzero;\"></path>\n      <path d=\"M101.041,39.334c-7.234,0 -8.017,-7.652 -8.017,-10.942c0,-3.292 0.783,-10.943 8.017,-10.943c5.537,0 8.017,5.495 8.017,10.943c0,5.447 -2.48,10.942 -8.017,10.942Zm11.012,-36.961l-2.995,0.917l0,15.951c-0.652,-1.091 -3.088,-4.428 -8.543,-4.362c-9.031,0.115 -10.927,7.409 -10.927,13.513c0,8.332 4.187,13.512 10.929,13.512c4.014,0 6.73,-1.48 8.541,-4.615l0,4.001l3.121,0l0,-38.956l-0.126,0.039Z\" style=\"fill:#fff;fill-rule:nonzero;\"></path>\n      <path d=\"M85.984,2.376l-2.997,0.912l0,38.003l3.123,0l0,-38.956l-0.126,0.041Z\" style=\"fill:#fff;fill-rule:nonzero;\"></path>\n      <path d=\"M178.373,3.081l0,38.209l7.031,0l0,-40.357l-7.031,2.148Z\" style=\"fill:#fff;fill-rule:nonzero;\"></path>\n      <path d=\"M189.455,3.081l-0.004,0l0,38.209l7.034,0l0,-40.357l-7.03,2.148Z\" style=\"fill:#fff;fill-rule:nonzero;\"></path>\n      <path d=\"M174.384,5.257c0,-2.165 -1.756,-3.917 -3.917,-3.917c-2.161,0 -3.915,1.752 -3.915,3.917c0,2.163 1.754,3.917 3.915,3.917c2.161,0 3.917,-1.754 3.917,-3.917Z\" style=\"fill:#fff;fill-rule:nonzero;\"></path>\n      <path d=\"M3.352,15.492l-3.352,0l0.042,0.128c0.16,0.487 8.402,25.375 8.48,25.603l0.022,0.067l3.856,0c0,0 7.249,-22.333 7.292,-22.468l0.239,0c0.045,0.135 7.294,22.468 7.294,22.468l3.858,0l8.753,-25.798l-3.113,0c0,0 -7.354,22.333 -7.4,22.466l-0.238,0c-0.042,-0.133 -7.082,-22.466 -7.082,-22.466l-3.857,0c0,0 -7.407,22.333 -7.453,22.466l-0.237,0c-0.042,-0.136 -7.032,-22.466 -7.032,-22.466l-0.072,0Z\" style=\"fill:#fff;fill-rule:nonzero;\"></path>\n  </g>\n</svg>\n","import {Pipe, PipeTransform} from '@angular/core';\nimport { MenuItem } from './menu-item';\n\n@Pipe ({\n   name : 'wsMenuAccesssFilter'\n})\nexport class MenuAccessPipe implements PipeTransform {\n   transform(items: MenuItem[], isLoggedIn: boolean, roles: string[]): MenuItem[] {\n     if (items === null || items === undefined) {\n       return [];\n     }\n\n     return items.filter(item => {\n      // item doesn't exist, don't display it\n      if (item === undefined || item === null) {\n        return false;\n      }\n\n      // item is meant to be hidden\n      if (item.hidden) {\n        return false;\n      }\n\n      // item requires a logged in user\n      if (item.requireLogin && ! isLoggedIn) {\n        return false;\n      }\n\n      // item doesn not require role permissions\n      if (item.requiredRoles.length === 0) {\n        return true;\n      }\n\n      // item requires role permissions\n      let show = false;\n      for (const roleName of item.requiredRoles) {\n        show = roles.findIndex(userRoleName => userRoleName === roleName) !== -1;\n\n        if (show) {\n          break;\n        }\n      }\n\n      return show;\n     });\n   }\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MenuItem } from '../menu-item';\nimport { User } from '../../auth/models/user';\n\n@Component({\n  selector: 'ws-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit {\n\n  @Input() appName: string;\n  @Input() public isLoggedIn: boolean;\n  @Input() public showLoginAndLogoutButtons: boolean;\n  @Input() menuItems: Array<MenuItem>;\n  @Input() currentUser: User;\n  @Output() public logoutClick: EventEmitter<any> = new EventEmitter();\n  @Output() public loginClick: EventEmitter<any> = new EventEmitter();\n\n  constructor(private router: Router) {\n    this.appName = 'Application';\n    this.isLoggedIn = false;\n    this.showLoginAndLogoutButtons = false;\n    this.menuItems = [];\n    this.currentUser = null;\n  }\n\n  // tslint:disable-next-line:use-life-cycle-interface typedef\n  ngOnInit() {}\n\n  // tslint:disable-next-line:use-lifecycle-interface typedef\n  ngOnChanges() {}\n\n  userRoles(): string[] {\n    if (this.currentUser === undefined || this.currentUser === null) {\n      return [];\n    }\n\n    if (this.currentUser.roles === undefined || this.currentUser.roles === null) {\n      return [];\n    }\n\n    return this.currentUser.roles.map(item => {\n      return item.name;\n    });\n  }\n\n  isRouteActive(route): boolean {\n    return route === this.router.url;\n  }\n\n  login(): void {\n    this.loginClick.emit();\n  }\n\n  logout(): void {\n    this.logoutClick.emit();\n  }\n\n  getInitials(): string {\n    let s = '';\n    if (this.currentUser) {\n      if (this.currentUser.first_name) {\n        s = this.currentUser.first_name.substr(0, 1);\n      }\n\n      if (this.currentUser.last_name) {\n        s += this.currentUser.last_name.substr(0, 1);\n      }\n    }\n\n    return s.toUpperCase();\n  }\n}\n","<nav class=\"navbar navbar-expand-md ws-navbar-main ws-navbar-stripe wsmember-navbar-main wsmember-bg-pink\">\n  <div class=\"container\">\n    <a class=\"navbar-brand\" href=\"#\">\n      <ws-wordmark></ws-wordmark>\n      <span class=\"ml-1 text-white\">{{ appName }}</span>\n    </a>\n    <button class=\"navbar-toggler collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        Menu\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n      <ul class=\"navbar-nav ml-auto\">\n        <li class=\"nav-item {{ isRouteActive(item.url) ? 'active' : '' }}\" *ngFor=\"let item of menuItems | wsMenuAccesssFilter: isLoggedIn: userRoles()\">\n          <a class=\"nav-link\" [routerLink]=\"[item.url, item.params]\">\n              {{ item.label }}\n          </a>\n        </li>\n      </ul>\n      <div class=\"dropdown ml-2\" *ngIf=\"showLoginAndLogoutButtons && isLoggedIn\">\n        <button class=\"btn btn-white rounded-pill\" type=\"button\" data-toggle=\"dropdown\">\n          {{ getInitials() }}\n        </button>\n        <div class=\"dropdown-menu dropdown-menu-right\">\n          <a class=\"dropdown-item disabled\" href=\"#\" tabindex=\"-1\">{{ currentUser.firstName }} {{ currentUser.lastName }}</a>\n          <div class=\"dropdown-divider\"></div>\n          <a class=\"dropdown-item\" href=\"#\" (click)=\"logout(); false;\">Logout</a>\n        </div>\n      </div>\n      <a class=\"btn btn-light btn-sm ml-2 wsi-login\" (click)=\"login(); false;\" *ngIf=\"showLoginAndLogoutButtons && !isLoggedIn\">Log in</a>\n    </div>\n  </div>\n</nav>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'ws-logo',\n  templateUrl: './logo.component.html',\n  styleUrls: ['./logo.component.css']\n})\nexport class LogoComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<svg width=\"110px\" height=\"65px\" viewBox=\"0 0 220 129\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\" aria-label=\"WorldSkills\">\n  <g>\n      <path d=\"M52.271,126.434c-5.36,0 -8.958,-4.395 -8.958,-10.942c0,-6.547 3.598,-10.944 8.958,-10.944c5.358,0 8.959,4.397 8.959,10.944c0,6.547 -3.601,10.942 -8.959,10.942Zm0,-24.453c-9.152,0 -12.397,7.276 -12.397,13.511c0,6.232 3.245,13.509 12.397,13.509c9.151,0 12.398,-7.277 12.398,-13.509c0,-6.235 -3.247,-13.511 -12.398,-13.511Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M70.618,106.725l0,-4.232l-2.916,0l0.003,25.798l3.122,0l0,-12.745l-0.006,-0.165c0.006,-4.753 1.352,-10.434 7.767,-10.434l0.975,0.046l0.012,-0.101l0.156,-3.009l-0.363,-0.002c-4.333,0 -7.269,1.636 -8.75,4.844Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M134.06,107.522c-2.152,-0.71 -3.726,-1.121 -6.297,-1.121c-1.89,0 -4.145,0.664 -4.145,2.905c0,4.18 12.225,1.53 12.225,11.001c0,6.117 -5.614,8.564 -11.333,8.564c-2.68,0 -5.407,-0.457 -7.977,-1.12l0.419,-5.607c2.203,1.069 4.512,1.733 6.924,1.733c1.788,0 4.62,-0.664 4.62,-3.209c0,-5.146 -12.226,-1.631 -12.226,-11.107c0,-5.653 5.09,-8.153 10.599,-8.153c3.306,0 5.46,0.512 7.662,0.97l-0.471,5.144Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <rect x=\"166.803\" y=\"102.052\" width=\"7.034\" height=\"26.24\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M217.817,107.522c-2.151,-0.71 -3.725,-1.121 -6.296,-1.121c-1.892,0 -4.146,0.664 -4.146,2.905c0,4.18 12.225,1.53 12.225,11.001c0,6.117 -5.613,8.564 -11.333,8.564c-2.678,0 -5.405,-0.457 -7.977,-1.12l0.42,-5.607c2.203,1.069 4.513,1.733 6.926,1.733c1.785,0 4.619,-0.664 4.619,-3.209c0,-5.146 -12.227,-1.631 -12.227,-11.107c0,-5.653 5.09,-8.153 10.602,-8.153c3.305,0 5.454,0.512 7.659,0.97l-0.472,5.144Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M153.067,113.813l9.962,-11.761l-8.292,0l-8.394,10.497l-0.106,0l0,-24.615l-7.032,2.148l0,38.21l7.032,0l0,-12.738l0.106,0l9.027,12.738l8.919,0l-11.222,-14.479Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M101.041,126.336c-7.234,0 -8.017,-7.653 -8.017,-10.943c0,-3.292 0.783,-10.944 8.017,-10.944c5.537,0 8.017,5.495 8.017,10.944c0,5.448 -2.48,10.943 -8.017,10.943Zm11.012,-36.962l-2.995,0.917l0,15.95c-0.652,-1.091 -3.088,-4.428 -8.543,-4.36c-9.031,0.114 -10.927,7.409 -10.927,13.512c0,8.332 4.187,13.511 10.929,13.511c4.014,0 6.73,-1.479 8.541,-4.613l0,4.001l3.121,0l0,-38.957l-0.126,0.039Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M85.984,89.376l-2.997,0.913l0,38.003l3.123,0l0,-38.957l-0.126,0.041Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M178.373,90.082l0,38.21l7.031,0l0,-40.359l-7.031,2.149Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M189.455,90.082l-0.004,0l0,38.21l7.034,0l0,-40.359l-7.03,2.149Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M174.384,92.257c0,-2.165 -1.756,-3.917 -3.917,-3.917c-2.161,0 -3.915,1.752 -3.915,3.917c0,2.163 1.754,3.917 3.915,3.917c2.161,0 3.917,-1.754 3.917,-3.917Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M3.352,102.493l-3.352,0l0.042,0.129c0.16,0.486 8.402,25.375 8.48,25.601l0.022,0.069l3.856,0c0,0 7.249,-22.333 7.292,-22.469l0.239,0c0.045,0.136 7.294,22.469 7.294,22.469l3.858,0l8.753,-25.799l-3.113,0c0,0 -7.354,22.334 -7.4,22.467l-0.238,0c-0.042,-0.134 -7.082,-22.467 -7.082,-22.467l-3.857,0c0,0 -7.407,22.334 -7.453,22.467l-0.237,0c-0.042,-0.137 -7.032,-22.467 -7.032,-22.467l-0.072,0Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M160.498,44.986c0,0 12.347,-2.186 16.389,-12.002c0,0 71.891,14.725 29.452,53.074c0,0 15.749,-14.828 6.953,-26.691c0,0 4.909,14.726 -14.316,24.645c0,0 41.695,-29.617 -38.478,-39.026Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M199.888,39.615c5.028,2.487 8.548,4.931 10.604,6.536c0.905,-25.738 -17.55,-40.127 -17.55,-40.127c-0.536,1.65 -2.147,3.49 -4.448,4.333c-2.301,0.844 -3.682,3.605 -3.682,3.605c9.019,7.501 13.351,16.659 15.076,25.653Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M174.979,34.807c1.089,-1.627 1.394,-2.744 1.394,-2.744c4.752,0.844 9.016,1.957 12.814,3.202c-7.877,-22.459 -22.526,-34.751 -22.526,-34.751c-0.409,1.177 -4.704,3.324 -7.619,4.603c-2.914,1.278 -2.147,6.698 -2.147,6.698c8.01,6.619 13.838,14.721 18.084,22.992Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M205.115,59.685c-0.991,11.081 -7.571,22.845 -7.571,22.845c4.646,-7.067 7.822,-13.702 9.875,-19.884c-0.576,-1.045 -1.354,-2.031 -2.304,-2.961Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M204.253,58.898c-1.084,-0.931 -2.337,-1.804 -3.726,-2.621c-1.154,11.922 -5.13,20.884 -5.13,20.884c2.3,-2.608 4.064,-6.826 4.064,-6.826c0.077,2.991 -2.378,8.897 -2.378,8.897c4.222,-6.783 6.242,-15.026 7.17,-20.334Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M179.302,82.112c-2.556,-1.377 -6.263,-2.842 -13.881,-8.742c5.766,4.341 15.394,7.115 15.394,7.115c-21.256,-10.789 -25.89,-20.57 -25.89,-20.57c-2.046,-0.066 -3.279,1.232 -4.089,1.677c-0.811,0.444 -3.021,0.406 -3.021,0.406c8.101,13.061 31.487,20.114 31.487,20.114Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M169.793,46.953c-7.062,-1.17 -12.249,-1.622 -12.249,-1.622c2.823,-0.709 5.225,-1.571 7.279,-2.509c-9.939,-7.239 -19.842,-9.021 -19.842,-9.021c0,0 -1.841,0.613 -2.097,3.682c-0.254,3.067 -2.607,3.477 -2.607,3.477c37.121,9.919 42.694,40.495 42.694,40.495c-2.531,-13.805 -7.9,-22.625 -7.9,-22.625c5.676,5.829 9.587,20.632 9.587,20.632c-1.259,-15.301 -7.604,-25.618 -14.865,-32.509Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n      <path d=\"M180.901,49.165c5.345,16.489 5.446,30.449 5.446,30.449c3.955,-7.668 2.914,-25.309 2.914,-25.309c3.681,7.209 3.221,26.844 3.221,26.844c1.888,-10.318 1.961,-19.753 0.878,-28.245c-3.92,-1.502 -8.228,-2.736 -12.459,-3.739Z\" style=\"fill:#fff;fill-rule:nonzero;\"/>\n  </g>\n</svg>\n","import { Component, OnInit, Input, ViewChild, TemplateRef, Output, EventEmitter } from '@angular/core';\nimport { Language } from '../../i18n/language';\nimport { User } from '../../auth/models/user';\nimport { GenericUtil } from '../../common/util/generic.util';\n\n@Component({\n  selector: 'ws-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.css']\n})\nexport class FooterComponent implements OnInit {\n  date;\n\n  @Input() languages: Language[];\n  @Input() selectedLanguage: Language;\n  @Input() isLoggedIn: boolean;\n  @Input() currentUser: User;\n  @Input() col1Template: TemplateRef<any>;\n  @Input() col2Template: TemplateRef<any>;\n  @Input() col3Template: TemplateRef<any>;\n  @Input() col4Template: TemplateRef<any>;\n  @Input() col5Template: TemplateRef<any>;\n  @Input() col6Template: TemplateRef<any>;\n\n  @Output() logoutClick: EventEmitter<any> = new EventEmitter();\n  @Output() loginClick: EventEmitter<any> = new EventEmitter();\n  @Output() languageChange: EventEmitter<Language> = new EventEmitter();\n\n  @ViewChild('#col1DefaultTemplate')\n  col1DefaultTemplate: TemplateRef<any>;\n\n  @ViewChild('#col6DefaultTemplate')\n  col6DefaultTemplate: TemplateRef<any>;\n\n  @ViewChild('#colDefaultTemplate')\n  colDefaultTemplate: TemplateRef<any>;\n\n  // tslint:disable-next-line:typedef\n  ngOnInit() {\n    this.date = new Date();\n  }\n\n  login(): void {\n    this.loginClick.emit();\n  }\n\n  logout(): void {\n    this.logoutClick.emit();\n  }\n\n  changeLanguage(model: Language): void {\n    this.selectedLanguage = model;\n    this.languageChange.emit(model);\n  }\n\n  isLanguageSelected(model: Language): boolean {\n    if (GenericUtil.isNullOrUndefined(this.selectedLanguage)) {\n      return model.code === 'en';\n    }\n\n    return model.code === this.selectedLanguage.code;\n  }\n\n}\n","<ng-template #col1DefaultTemplate>\n  <h1><a href=\"https://worldskills.org/internal/\" target=\"_blank\">myWorldSkills</a></h1>\n  <ul>\n    <li><a href=\"https://worldskills.org/internal/wiw/\" target=\"_blank\">Who-is-Who</a></li>\n    <li><a href=\"https://glossary.worldskills.org/\" target=\"_blank\">Glossary</a></li>\n    <li><a href=\"https://registrations.worldskills.org/\" target=\"_blank\">Registrations</a></li>\n    <li><a href=\"https://forums.worldskills.org/\" target=\"_blank\">Forums</a></li>\n    <li><a href=\"https://il.worldskills.org/\" target=\"_blank\">Infrastructure Lists</a></li>\n    <li><a href=\"https://skill-management.worldskills.org/\" target=\"_blank\">Skill Management</a></li>\n  </ul>\n</ng-template>\n<ng-template #col6DefaultTemplate>\n  <div class=\"text-right mt-5\">\n    <a href=\"https://worldskills.org/\" target=\"_blank\">\n      <ws-logo mode=\"default\"></ws-logo>\n    </a>\n  </div>\n</ng-template>\n\n<ng-template #colDefaultTemplate>\n</ng-template>\n\n<footer class=\"ws-page-footer\">\n  <div class=\"container\">\n    <div class=\"ws-page-footer-row\">\n      <aside class=\"ws-page-footer-col-sm\">\n        <ng-container *ngTemplateOutlet=\"col1Template ? col1Template : col1DefaultTemplate\"></ng-container>\n      </aside>\n      <aside class=\"ws-page-footer-col-sm\">\n        <ng-container *ngTemplateOutlet=\"col2Template ? col2Template : colDefaultTemplate\"></ng-container>\n      </aside>\n      <aside class=\"ws-page-footer-col-sm\">\n        <ng-container *ngTemplateOutlet=\"col3Template? col3Template : colDefaultTemplate\"></ng-container>\n      </aside>\n      <aside class=\"ws-page-footer-col-sm\">\n        <ng-container *ngTemplateOutlet=\"col4Template? col4Template : colDefaultTemplate\"></ng-container>\n      </aside>\n      <aside class=\"ws-page-footer-col-sm\">\n        <ng-container *ngTemplateOutlet=\"col5Template? col5Template : colDefaultTemplate\"></ng-container>\n      </aside>\n      <aside class=\"ws-page-footer-col-sm\">\n        <ng-container *ngTemplateOutlet=\"col6Template? col6Template : col6DefaultTemplate\"></ng-container>\n      </aside>\n    </div>\n    <div class=\"ws-page-footer-row pb-3\">\n      <div class=\"ws-page-footer-col-lg\">\n        <ul class=\"list-inline mt-2\">\n          <li class=\"list-inline-item\">© {{date | date:'yyyy'}} WorldSkills International</li>\n          <li class=\"list-inline-item\"><a href=\"https://worldskills.org/site/privacy/\" target=\"_blank\">Privacy</a></li>\n          <li class=\"list-inline-item\"><a href=\"https://worldskills.org/site/terms/\" target=\"_blank\">Terms</a></li>\n          <li class=\"list-inline-item\"><a href=\"https://worldskills.org/site/contact/\" target=\"_blank\">Contact</a></li>\n        </ul>\n      </div>\n      <div class=\"ws-page-footer-col-lg\">\n        <div class=\"btn-toolbar justify-content-end\" *ngIf=\"languages\">\n          <div class=\"btn-group btn-group-sm dropup\">\n            <button type=\"button\" class=\"btn btn-outline-light dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n              Language\n            </button>\n            <div class=\"dropdown-menu dropdown-menu-right\">\n              <a *ngFor=\"let language of languages\" (click)=\"changeLanguage(language); false;\" [class.active]=\"isLanguageSelected(language)\" class=\"dropdown-item\" href=\"#\">\n                {{ language.name }}\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</footer>\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n// Source: https://github.com/angular/angular/blob/d1ea1f4c7f3358b730b0d94e65b00bc28cae279c/packages/common/src/i18n/format_date.ts\n\nimport {\n  FormatWidth, FormStyle, getLocaleDateFormat, getLocaleDateTimeFormat, getLocaleDayNames, getLocaleDayPeriods,\n  getLocaleEraNames, getLocaleExtraDayPeriodRules, getLocaleExtraDayPeriods, getLocaleId, getLocaleMonthNames,\n  getLocaleNumberSymbol, getLocaleTimeFormat, NumberSymbol, Time, TranslationWidth\n} from '@angular/common';\n\nexport const ISO8601_DATE_REGEX =\n    /^(\\d{4})-?(\\d\\d)-?(\\d\\d)(?:T(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:\\.(\\d+))?)?)?(Z|([+-])(\\d\\d):?(\\d\\d))?)?$/;\n//    1        2       3         4          5          6          7          8  9     10      11\nconst NAMED_FORMATS: {[localeId: string]: {[format: string]: string}} = {};\nconst DATE_FORMATS_SPLIT =\n    // tslint:disable-next-line:max-line-length\n    /((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\\s\\S]*)/;\n\nenum ZoneWidth {\n  Short,\n  ShortGMT,\n  Long,\n  Extended\n}\n\nenum DateType {\n  FullYear,\n  Month,\n  Date,\n  Hours,\n  Minutes,\n  Seconds,\n  FractionalSeconds,\n  Day\n}\n\nenum TranslationType {\n  DayPeriods,\n  Days,\n  Months,\n  Eras\n}\n\n/**\n * @ngModule CommonModule\n * @description\n *\n * Formats a date according to locale rules.\n *\n * @param value The date to format, as a Date, or a number (milliseconds since UTC epoch)\n * or an [ISO date-time string](https://www.w3.org/TR/NOTE-datetime).\n * @param format The date-time components to include. See `DatePipe` for details.\n * @param locale A locale code for the locale format rules to use.\n * @param timezone The time zone. A time zone offset from GMT (such as `'+0430'`),\n * or a standard UTC/GMT or continental US time zone abbreviation.\n * If not specified, uses host system settings.\n *\n * @returns The formatted date string.\n *\n * @see `DatePipe`\n * @see [Internationalization (i18n) Guide](https://angular.io/guide/i18n)\n *\n * @publicApi\n */\nexport function formatDate(\n    value: string|number|Date, format: string, locale: string, timezone?: string): string {\n  let date = toDate(value);\n  const namedFormat = getNamedFormat(locale, format);\n  format = namedFormat || format;\n\n  let parts: string[] = [];\n  let match;\n  while (format) {\n    match = DATE_FORMATS_SPLIT.exec(format);\n    if (match) {\n      parts = parts.concat(match.slice(1));\n      const part = parts.pop();\n      if (!part) {\n        break;\n      }\n      format = part;\n    } else {\n      parts.push(format);\n      break;\n    }\n  }\n\n  let dateTimezoneOffset = date.getTimezoneOffset();\n  if (timezone) {\n    dateTimezoneOffset = timezoneToOffset(timezone, dateTimezoneOffset);\n    date = convertTimezoneToLocal(date, timezone, true);\n  }\n\n  let text = '';\n  // tslint:disable-next-line:no-shadowed-variable\n  parts.forEach(value => {\n    const dateFormatter = getDateFormatter(value);\n    text += dateFormatter ?\n        dateFormatter(date, locale, dateTimezoneOffset) :\n        value === '\\'\\'' ? '\\'' : value.replace(/(^'|'$)/g, '').replace(/''/g, '\\'');\n  });\n\n  return text;\n}\n\nfunction getNamedFormat(locale: string, format: string): string {\n  const localeId = getLocaleId(locale);\n  NAMED_FORMATS[localeId] = NAMED_FORMATS[localeId] || {};\n\n  if (NAMED_FORMATS[localeId][format]) {\n    return NAMED_FORMATS[localeId][format];\n  }\n\n  let formatValue = '';\n  switch (format) {\n    case 'shortDate':\n      formatValue = getLocaleDateFormat(locale, FormatWidth.Short);\n      break;\n    case 'mediumDate':\n      formatValue = getLocaleDateFormat(locale, FormatWidth.Medium);\n      break;\n    case 'longDate':\n      formatValue = getLocaleDateFormat(locale, FormatWidth.Long);\n      break;\n    case 'fullDate':\n      formatValue = getLocaleDateFormat(locale, FormatWidth.Full);\n      break;\n    case 'shortTime':\n      formatValue = getLocaleTimeFormat(locale, FormatWidth.Short);\n      break;\n    case 'mediumTime':\n      formatValue = getLocaleTimeFormat(locale, FormatWidth.Medium);\n      break;\n    case 'longTime':\n      formatValue = getLocaleTimeFormat(locale, FormatWidth.Long);\n      break;\n    case 'fullTime':\n      formatValue = getLocaleTimeFormat(locale, FormatWidth.Full);\n      break;\n    case 'short':\n      const shortTime = getNamedFormat(locale, 'shortTime');\n      const shortDate = getNamedFormat(locale, 'shortDate');\n      formatValue = formatDateTime(\n          getLocaleDateTimeFormat(locale, FormatWidth.Short), [shortTime, shortDate]);\n      break;\n    case 'medium':\n      const mediumTime = getNamedFormat(locale, 'mediumTime');\n      const mediumDate = getNamedFormat(locale, 'mediumDate');\n      formatValue = formatDateTime(\n          getLocaleDateTimeFormat(locale, FormatWidth.Medium), [mediumTime, mediumDate]);\n      break;\n    case 'long':\n      const longTime = getNamedFormat(locale, 'longTime');\n      const longDate = getNamedFormat(locale, 'longDate');\n      formatValue =\n          formatDateTime(getLocaleDateTimeFormat(locale, FormatWidth.Long), [longTime, longDate]);\n      break;\n    case 'full':\n      const fullTime = getNamedFormat(locale, 'fullTime');\n      const fullDate = getNamedFormat(locale, 'fullDate');\n      formatValue =\n          formatDateTime(getLocaleDateTimeFormat(locale, FormatWidth.Full), [fullTime, fullDate]);\n      break;\n  }\n  if (formatValue) {\n    NAMED_FORMATS[localeId][format] = formatValue;\n  }\n  return formatValue;\n}\n\n// tslint:disable-next-line:variable-name\nfunction formatDateTime(str: string, opt_values: string[]): string {\n  if (opt_values) {\n    // tslint:disable-next-line:only-arrow-functions\n    str = str.replace(/\\{([^}]+)}/g, function(match, key): string {\n      return (opt_values != null && key in opt_values) ? opt_values[key] : match;\n    });\n  }\n  return str;\n}\n\nfunction padNumber(\n    num: number, digits: number, minusSign = '-', trim?: boolean, negWrap?: boolean): string {\n  let neg = '';\n  if (num < 0 || (negWrap && num <= 0)) {\n    if (negWrap) {\n      num = -num + 1;\n    } else {\n      num = -num;\n      neg = minusSign;\n    }\n  }\n  let strNum = String(num);\n  while (strNum.length < digits) {\n    strNum = '0' + strNum;\n  }\n  if (trim) {\n    strNum = strNum.substr(strNum.length - digits);\n  }\n  return neg + strNum;\n}\n\nfunction formatFractionalSeconds(milliseconds: number, digits: number): string {\n  const strMs = padNumber(milliseconds, 3);\n  return strMs.substr(0, digits);\n}\n\n/**\n * Returns a date formatter that transforms a date into its locale digit representation\n */\nfunction dateGetter(\n    name: DateType, size: number, offset: number = 0, trim = false,\n    negWrap = false): DateFormatter {\n  // tslint:disable-next-line:only-arrow-functions\n  return function(date: Date, locale: string): string {\n    let part = getDatePart(name, date);\n    if (offset > 0 || part > -offset) {\n      part += offset;\n    }\n\n    if (name === DateType.Hours) {\n      if (part === 0 && offset === -12) {\n        part = 12;\n      }\n    } else if (name === DateType.FractionalSeconds) {\n      return formatFractionalSeconds(part, size);\n    }\n\n    const localeMinus = getLocaleNumberSymbol(locale, NumberSymbol.MinusSign);\n    return padNumber(part, size, localeMinus, trim, negWrap);\n  };\n}\n\nfunction getDatePart(part: DateType, date: Date): number {\n  switch (part) {\n    case DateType.FullYear:\n      return date.getFullYear();\n    case DateType.Month:\n      return date.getMonth();\n    case DateType.Date:\n      return date.getDate();\n    case DateType.Hours:\n      return date.getHours();\n    case DateType.Minutes:\n      return date.getMinutes();\n    case DateType.Seconds:\n      return date.getSeconds();\n    case DateType.FractionalSeconds:\n      return date.getMilliseconds();\n    case DateType.Day:\n      return date.getDay();\n    default:\n      throw new Error(`Unknown DateType value \"${part}\".`);\n  }\n}\n\n/**\n * Returns a date formatter that transforms a date into its locale string representation\n */\nfunction dateStrGetter(\n    name: TranslationType, width: TranslationWidth, form: FormStyle = FormStyle.Format,\n    extended = false): DateFormatter {\n  // tslint:disable-next-line:only-arrow-functions\n  return function(date: Date, locale: string): string {\n    return getDateTranslation(date, locale, name, width, form, extended);\n  };\n}\n\n/**\n * Returns the locale translation of a date for a given form, type and width\n */\n// tslint:disable-next-line:typedef\nfunction getDateTranslation(\n    date: Date, locale: string, name: TranslationType, width: TranslationWidth, form: FormStyle,\n    extended: boolean) {\n  switch (name) {\n    case TranslationType.Months:\n      return getLocaleMonthNames(locale, form, width)[date.getMonth()];\n    case TranslationType.Days:\n      return getLocaleDayNames(locale, form, width)[date.getDay()];\n    case TranslationType.DayPeriods:\n      const currentHours = date.getHours();\n      const currentMinutes = date.getMinutes();\n      if (extended) {\n        const rules = getLocaleExtraDayPeriodRules(locale);\n        const dayPeriods = getLocaleExtraDayPeriods(locale, form, width);\n        const index = rules.findIndex(rule => {\n          if (Array.isArray(rule)) {\n            // morning, afternoon, evening, night\n            const [from, to] = rule;\n            const afterFrom = currentHours >= from.hours && currentMinutes >= from.minutes;\n            const beforeTo =\n                (currentHours < to.hours ||\n                 (currentHours === to.hours && currentMinutes < to.minutes));\n            // We must account for normal rules that span a period during the day (e.g. 6am-9am)\n            // where `from` is less (earlier) than `to`. But also rules that span midnight (e.g.\n            // 10pm - 5am) where `from` is greater (later!) than `to`.\n            //\n            // In the first case the current time must be BOTH after `from` AND before `to`\n            // (e.g. 8am is after 6am AND before 10am).\n            //\n            // In the second case the current time must be EITHER after `from` OR before `to`\n            // (e.g. 4am is before 5am but not after 10pm; and 11pm is not before 5am but it is\n            // after 10pm).\n            if (from.hours < to.hours) {\n              if (afterFrom && beforeTo) {\n                return true;\n              }\n            } else if (afterFrom || beforeTo) {\n              return true;\n            }\n          } else {  // noon or midnight\n            if (rule.hours === currentHours && rule.minutes === currentMinutes) {\n              return true;\n            }\n          }\n          return false;\n        });\n        if (index !== -1) {\n          return dayPeriods[index];\n        }\n      }\n      // if no rules for the day periods, we use am/pm by default\n      // tslint:disable-next-line:no-angle-bracket-type-assertion\n      return getLocaleDayPeriods(locale, form, <TranslationWidth> width)[currentHours < 12 ? 0 : 1];\n    case TranslationType.Eras:\n      // tslint:disable-next-line:no-angle-bracket-type-assertion\n      return getLocaleEraNames(locale, <TranslationWidth> width)[date.getFullYear() <= 0 ? 0 : 1];\n    default:\n      // This default case is not needed by TypeScript compiler, as the switch is exhaustive.\n      // However Closure Compiler does not understand that and reports an error in typed mode.\n      // The `throw new Error` below works around the problem, and the unexpected: never variable\n      // makes sure tsc still checks this code is unreachable.\n      const unexpected: never = name;\n      throw new Error(`unexpected translation type ${unexpected}`);\n  }\n}\n\n/**\n * Returns a date formatter that transforms a date and an offset into a timezone with ISO8601 or\n * GMT format depending on the width (eg: short = +0430, short:GMT = GMT+4, long = GMT+04:30,\n * extended = +04:30)\n */\nfunction timeZoneGetter(width: ZoneWidth): DateFormatter {\n  // tslint:disable-next-line:only-arrow-functions typedef\n  return function(date: Date, locale: string, offset: number) {\n    const zone = -1 * offset;\n    const minusSign = getLocaleNumberSymbol(locale, NumberSymbol.MinusSign);\n    const hours = zone > 0 ? Math.floor(zone / 60) : Math.ceil(zone / 60);\n    switch (width) {\n      case ZoneWidth.Short:\n        return ((zone >= 0) ? '+' : '') + padNumber(hours, 2, minusSign) +\n            padNumber(Math.abs(zone % 60), 2, minusSign);\n      case ZoneWidth.ShortGMT:\n        return 'GMT' + ((zone >= 0) ? '+' : '') + padNumber(hours, 1, minusSign);\n      case ZoneWidth.Long:\n        return 'GMT' + ((zone >= 0) ? '+' : '') + padNumber(hours, 2, minusSign) + ':' +\n            padNumber(Math.abs(zone % 60), 2, minusSign);\n      case ZoneWidth.Extended:\n        if (offset === 0) {\n          return 'Z';\n        } else {\n          return ((zone >= 0) ? '+' : '') + padNumber(hours, 2, minusSign) + ':' +\n              padNumber(Math.abs(zone % 60), 2, minusSign);\n        }\n      default:\n        throw new Error(`Unknown zone width \"${width}\"`);\n    }\n  };\n}\n\nconst JANUARY = 0;\nconst THURSDAY = 4;\nfunction getFirstThursdayOfYear(year: number): Date {\n  const firstDayOfYear = (new Date(year, JANUARY, 1)).getDay();\n  return new Date(\n      year, 0, 1 + ((firstDayOfYear <= THURSDAY) ? THURSDAY : THURSDAY + 7) - firstDayOfYear);\n}\n\nfunction getThursdayThisWeek(datetime: Date): Date {\n  return new Date(\n      datetime.getFullYear(), datetime.getMonth(),\n      datetime.getDate() + (THURSDAY - datetime.getDay()));\n}\n\nfunction weekGetter(size: number, monthBased = false): DateFormatter {\n  // tslint:disable-next-line:only-arrow-functions typedef\n  return function(date: Date, locale: string) {\n    let result;\n    if (monthBased) {\n      const nbDaysBefore1stDayOfMonth =\n          new Date(date.getFullYear(), date.getMonth(), 1).getDay() - 1;\n      const today = date.getDate();\n      result = 1 + Math.floor((today + nbDaysBefore1stDayOfMonth) / 7);\n    } else {\n      const firstThurs = getFirstThursdayOfYear(date.getFullYear());\n      const thisThurs = getThursdayThisWeek(date);\n      const diff = thisThurs.getTime() - firstThurs.getTime();\n      result = 1 + Math.round(diff / 6.048e8);  // 6.048e8 ms per week\n    }\n\n    return padNumber(result, size, getLocaleNumberSymbol(locale, NumberSymbol.MinusSign));\n  };\n}\n\ntype DateFormatter = (date: Date, locale: string, offset: number) => string;\n\nconst DATE_FORMATS: {[format: string]: DateFormatter} = {};\n\n// Based on CLDR formats:\n// See complete list: http://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n// See also explanations: http://cldr.unicode.org/translation/date-time\n// TODO(ocombe): support all missing cldr formats: Y, U, Q, D, F, e, c, j, J, C, A, v, V, X, x\nfunction getDateFormatter(format: string): DateFormatter|null {\n  if (DATE_FORMATS[format]) {\n    return DATE_FORMATS[format];\n  }\n  let formatter;\n  switch (format) {\n    // Era name (AD/BC)\n    case 'G':\n    case 'GG':\n    case 'GGG':\n      formatter = dateStrGetter(TranslationType.Eras, TranslationWidth.Abbreviated);\n      break;\n    case 'GGGG':\n      formatter = dateStrGetter(TranslationType.Eras, TranslationWidth.Wide);\n      break;\n    case 'GGGGG':\n      formatter = dateStrGetter(TranslationType.Eras, TranslationWidth.Narrow);\n      break;\n\n    // 1 digit representation of the year, e.g. (AD 1 => 1, AD 199 => 199)\n    case 'y':\n      formatter = dateGetter(DateType.FullYear, 1, 0, false, true);\n      break;\n    // 2 digit representation of the year, padded (00-99). (e.g. AD 2001 => 01, AD 2010 => 10)\n    case 'yy':\n      formatter = dateGetter(DateType.FullYear, 2, 0, true, true);\n      break;\n    // 3 digit representation of the year, padded (000-999). (e.g. AD 2001 => 01, AD 2010 => 10)\n    case 'yyy':\n      formatter = dateGetter(DateType.FullYear, 3, 0, false, true);\n      break;\n    // 4 digit representation of the year (e.g. AD 1 => 0001, AD 2010 => 2010)\n    case 'yyyy':\n      formatter = dateGetter(DateType.FullYear, 4, 0, false, true);\n      break;\n\n    // Month of the year (1-12), numeric\n    case 'M':\n    case 'L':\n      formatter = dateGetter(DateType.Month, 1, 1);\n      break;\n    case 'MM':\n    case 'LL':\n      formatter = dateGetter(DateType.Month, 2, 1);\n      break;\n\n    // Month of the year (January, ...), string, format\n    case 'MMM':\n      formatter = dateStrGetter(TranslationType.Months, TranslationWidth.Abbreviated);\n      break;\n    case 'MMMM':\n      formatter = dateStrGetter(TranslationType.Months, TranslationWidth.Wide);\n      break;\n    case 'MMMMM':\n      formatter = dateStrGetter(TranslationType.Months, TranslationWidth.Narrow);\n      break;\n\n    // Month of the year (January, ...), string, standalone\n    case 'LLL':\n      formatter =\n          dateStrGetter(TranslationType.Months, TranslationWidth.Abbreviated, FormStyle.Standalone);\n      break;\n    case 'LLLL':\n      formatter =\n          dateStrGetter(TranslationType.Months, TranslationWidth.Wide, FormStyle.Standalone);\n      break;\n    case 'LLLLL':\n      formatter =\n          dateStrGetter(TranslationType.Months, TranslationWidth.Narrow, FormStyle.Standalone);\n      break;\n\n    // Week of the year (1, ... 52)\n    case 'w':\n      formatter = weekGetter(1);\n      break;\n    case 'ww':\n      formatter = weekGetter(2);\n      break;\n\n    // Week of the month (1, ...)\n    case 'W':\n      formatter = weekGetter(1, true);\n      break;\n\n    // Day of the month (1-31)\n    case 'd':\n      formatter = dateGetter(DateType.Date, 1);\n      break;\n    case 'dd':\n      formatter = dateGetter(DateType.Date, 2);\n      break;\n\n    // Day of the Week\n    case 'E':\n    case 'EE':\n    case 'EEE':\n      formatter = dateStrGetter(TranslationType.Days, TranslationWidth.Abbreviated);\n      break;\n    case 'EEEE':\n      formatter = dateStrGetter(TranslationType.Days, TranslationWidth.Wide);\n      break;\n    case 'EEEEE':\n      formatter = dateStrGetter(TranslationType.Days, TranslationWidth.Narrow);\n      break;\n    case 'EEEEEE':\n      formatter = dateStrGetter(TranslationType.Days, TranslationWidth.Short);\n      break;\n\n    // Generic period of the day (am-pm)\n    case 'a':\n    case 'aa':\n    case 'aaa':\n      formatter = dateStrGetter(TranslationType.DayPeriods, TranslationWidth.Abbreviated);\n      break;\n    case 'aaaa':\n      formatter = dateStrGetter(TranslationType.DayPeriods, TranslationWidth.Wide);\n      break;\n    case 'aaaaa':\n      formatter = dateStrGetter(TranslationType.DayPeriods, TranslationWidth.Narrow);\n      break;\n\n    // Extended period of the day (midnight, at night, ...), standalone\n    case 'b':\n    case 'bb':\n    case 'bbb':\n      formatter = dateStrGetter(\n          TranslationType.DayPeriods, TranslationWidth.Abbreviated, FormStyle.Standalone, true);\n      break;\n    case 'bbbb':\n      formatter = dateStrGetter(\n          TranslationType.DayPeriods, TranslationWidth.Wide, FormStyle.Standalone, true);\n      break;\n    case 'bbbbb':\n      formatter = dateStrGetter(\n          TranslationType.DayPeriods, TranslationWidth.Narrow, FormStyle.Standalone, true);\n      break;\n\n    // Extended period of the day (midnight, night, ...), standalone\n    case 'B':\n    case 'BB':\n    case 'BBB':\n      formatter = dateStrGetter(\n          TranslationType.DayPeriods, TranslationWidth.Abbreviated, FormStyle.Format, true);\n      break;\n    case 'BBBB':\n      formatter =\n          dateStrGetter(TranslationType.DayPeriods, TranslationWidth.Wide, FormStyle.Format, true);\n      break;\n    case 'BBBBB':\n      formatter = dateStrGetter(\n          TranslationType.DayPeriods, TranslationWidth.Narrow, FormStyle.Format, true);\n      break;\n\n    // Hour in AM/PM, (1-12)\n    case 'h':\n      formatter = dateGetter(DateType.Hours, 1, -12);\n      break;\n    case 'hh':\n      formatter = dateGetter(DateType.Hours, 2, -12);\n      break;\n\n    // Hour of the day (0-23)\n    case 'H':\n      formatter = dateGetter(DateType.Hours, 1);\n      break;\n    // Hour in day, padded (00-23)\n    case 'HH':\n      formatter = dateGetter(DateType.Hours, 2);\n      break;\n\n    // Minute of the hour (0-59)\n    case 'm':\n      formatter = dateGetter(DateType.Minutes, 1);\n      break;\n    case 'mm':\n      formatter = dateGetter(DateType.Minutes, 2);\n      break;\n\n    // Second of the minute (0-59)\n    case 's':\n      formatter = dateGetter(DateType.Seconds, 1);\n      break;\n    case 'ss':\n      formatter = dateGetter(DateType.Seconds, 2);\n      break;\n\n    // Fractional second\n    case 'S':\n      formatter = dateGetter(DateType.FractionalSeconds, 1);\n      break;\n    case 'SS':\n      formatter = dateGetter(DateType.FractionalSeconds, 2);\n      break;\n    case 'SSS':\n      formatter = dateGetter(DateType.FractionalSeconds, 3);\n      break;\n\n\n    // Timezone ISO8601 short format (-0430)\n    case 'Z':\n    case 'ZZ':\n    case 'ZZZ':\n      formatter = timeZoneGetter(ZoneWidth.Short);\n      break;\n    // Timezone ISO8601 extended format (-04:30)\n    case 'ZZZZZ':\n      formatter = timeZoneGetter(ZoneWidth.Extended);\n      break;\n\n    // Timezone GMT short format (GMT+4)\n    case 'O':\n    case 'OO':\n    case 'OOO':\n    // Should be location, but fallback to format O instead because we don't have the data yet\n    case 'z':\n    case 'zz':\n    case 'zzz':\n      formatter = timeZoneGetter(ZoneWidth.ShortGMT);\n      break;\n    // Timezone GMT long format (GMT+0430)\n    case 'OOOO':\n    case 'ZZZZ':\n    // Should be location, but fallback to format O instead because we don't have the data yet\n    case 'zzzz':\n      formatter = timeZoneGetter(ZoneWidth.Long);\n      break;\n    default:\n      return null;\n  }\n  DATE_FORMATS[format] = formatter;\n  return formatter;\n}\n\nfunction timezoneToOffset(timezone: string, fallback: number): number {\n  // Support: IE 9-11 only, Edge 13-15+\n  // IE/Edge do not \"understand\" colon (`:`) in timezone\n  timezone = timezone.replace(/:/g, '');\n  const requestedTimezoneOffset = Date.parse('Jan 01, 1970 00:00:00 ' + timezone) / 60000;\n  return isNaN(requestedTimezoneOffset) ? fallback : requestedTimezoneOffset;\n}\n\nfunction addDateMinutes(date: Date, minutes: number): Date {\n  date = new Date(date.getTime());\n  date.setMinutes(date.getMinutes() + minutes);\n  return date;\n}\n\nfunction convertTimezoneToLocal(date: Date, timezone: string, reverse: boolean): Date {\n  const reverseValue = reverse ? -1 : 1;\n  const dateTimezoneOffset = date.getTimezoneOffset();\n  const timezoneOffset = timezoneToOffset(timezone, dateTimezoneOffset);\n  return addDateMinutes(date, reverseValue * (timezoneOffset - dateTimezoneOffset));\n}\n\n/**\n * Converts a value to date.\n *\n * Supported input formats:\n * - `Date`\n * - number: timestamp\n * - string: numeric (e.g. \"1234\"), ISO and date strings in a format supported by\n *   [Date.parse()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse).\n *   Note: ISO strings without time return a date without timeoffset.\n *\n * Throws if unable to convert to a date.\n */\nexport function toDate(value: string|number|Date): Date {\n  if (isDate(value)) {\n    return value;\n  }\n\n  if (typeof value === 'number' && !isNaN(value)) {\n    return new Date(value);\n  }\n\n  if (typeof value === 'string') {\n    value = value.trim();\n\n    const parsedNb = parseFloat(value);\n\n    // any string that only contains numbers, like \"1234\" but not like \"1234hello\"\n    if (!isNaN(value as any - parsedNb)) {\n      return new Date(parsedNb);\n    }\n\n    if (/^(\\d{4}-\\d{1,2}-\\d{1,2})$/.test(value)) {\n      /* For ISO Strings without time the day, month and year must be extracted from the ISO String\n      before Date creation to avoid time offset and errors in the new Date.\n      If we only replace '-' with ',' in the ISO String (\"2015,01,01\"), and try to create a new\n      date, some browsers (e.g. IE 9) will throw an invalid Date error.\n      If we leave the '-' (\"2015-01-01\") and try to create a new Date(\"2015-01-01\") the timeoffset\n      is applied.\n      Note: ISO months are 0 for January, 1 for February, ... */\n      const [y, m, d] = value.split('-').map((val: string) => +val);\n      return new Date(y, m - 1, d);\n    }\n\n    let match: RegExpMatchArray|null;\n    // tslint:disable-next-line:no-conditional-assignment\n    if (match = value.match(ISO8601_DATE_REGEX)) {\n      return isoStringToDate(match);\n    }\n  }\n\n  const date = new Date(value as any);\n  if (!isDate(date)) {\n    throw new Error(`Unable to convert \"${value}\" into a date`);\n  }\n  return date;\n}\n\n/**\n * Converts a date in ISO8601 to a Date.\n * Used instead of `Date.parse` because of browser discrepancies.\n */\nexport function isoStringToDate(match: RegExpMatchArray): Date {\n  const date = new Date(0);\n  let tzHour = 0;\n  let tzMin = 0;\n\n  // match[8] means that the string contains \"Z\" (UTC) or a timezone like \"+01:00\" or \"+0100\"\n  const dateSetter = match[8] ? date.setUTCFullYear : date.setFullYear;\n  const timeSetter = match[8] ? date.setUTCHours : date.setHours;\n\n  // if there is a timezone defined like \"+01:00\" or \"+0100\"\n  if (match[9]) {\n    tzHour = Number(match[9] + match[10]);\n    tzMin = Number(match[9] + match[11]);\n  }\n  dateSetter.call(date, Number(match[1]), Number(match[2]) - 1, Number(match[3]));\n  const h = Number(match[4] || 0) - tzHour;\n  const m = Number(match[5] || 0) - tzMin;\n  const s = Number(match[6] || 0);\n  const ms = Math.round(parseFloat('0.' + (match[7] || 0)) * 1000);\n  timeSetter.call(date, h, m, s, ms);\n  return date;\n}\n\nexport function isDate(value: any): value is Date {\n  return value instanceof Date && !isNaN(value.valueOf());\n}\n","import { Component, OnInit, Input, HostBinding, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { toDate } from '../../common/helpers/date.helper';\nimport { NgbDate, NgbCalendar, NgbDateParserFormatter } from '@ng-bootstrap/ng-bootstrap';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DateRange } from '../date-range';\n\n@Component({\n  selector: 'ws-date-range',\n  templateUrl: './date-range.component.html',\n  styleUrls: ['./date-range.component.css'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DateRangeComponent),\n      multi: true\n    }\n  ]\n})\nexport class DateRangeComponent implements ControlValueAccessor  {\n\n  @Input() disabled = false;\n  @HostBinding('style.opacity')\n  get opacity(): number {\n    return this.disabled ? 0.25 : 1;\n  }\n\n  hoveredDate: NgbDate | null = null;\n\n  fromDate: NgbDate | null;\n  toDate: NgbDate | null;\n\n  value: DateRange;\n\n  // tslint:disable-next-line:no-output-native\n  @Output() change = new EventEmitter<DateRange>();\n\n  constructor(private calendar: NgbCalendar, public formatter: NgbDateParserFormatter) {\n  }\n\n  onDateSelection(date: NgbDate): void {\n    if (!this.fromDate && !this.toDate) {\n      this.fromDate = date;\n    } else if (this.fromDate && !this.toDate && date && date.after(this.fromDate)) {\n      this.toDate = date;\n    } else {\n      this.toDate = null;\n      this.fromDate = date;\n    }\n\n    if (this.fromDate && this.toDate) {\n      if (!this.value) {\n        this.value = { start: new Date(), end: new Date() };\n      }\n      this.value.start = new Date(this.fromDate.year, this.fromDate.month - 1, this.fromDate.day);\n      this.value.end = new Date(this.toDate.year, this.toDate.month - 1, this.toDate.day);\n      this.writeValue(this.value);\n    }\n  }\n\n  isHovered(date: NgbDate): boolean {\n    return this.fromDate && !this.toDate && this.hoveredDate && date.after(this.fromDate) && date.before(this.hoveredDate);\n  }\n\n  isInside(date: NgbDate): boolean {\n    return this.toDate && date.after(this.fromDate) && date.before(this.toDate);\n  }\n\n  isRange(date: NgbDate): boolean {\n    return date.equals(this.fromDate) || (this.toDate && date.equals(this.toDate)) || this.isInside(date) || this.isHovered(date);\n  }\n\n  validateInput(currentValue: NgbDate | null, input: string): NgbDate | null {\n    const parsed = this.formatter.parse(input);\n    return parsed && this.calendar.isValid(NgbDate.from(parsed)) ? NgbDate.from(parsed) : currentValue;\n  }\n\n  // Function to call when the range changes.\n  onChange = (range: DateRange) => {};\n\n  // Function to call when the input is touched.\n  onTouched = () => {};\n\n  writeValue(obj: DateRange): void {\n    if (obj && !this.disabled) {\n      this.fromDate =  this.toNgbDate(obj.start);\n      this.toDate =  this.toNgbDate(obj.end);\n      this.value = obj;\n      this.onChange(obj);\n      this.change.emit(obj);\n    }\n  }\n\n  toNgbDate(date: Date): NgbDate {\n    date = toDate(date);\n    return new NgbDate(date.getFullYear(), date.getMonth() + 1, date.getDate());\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n  setDisabledState?(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n}\n","<div class=\"form-inline\">\n  <div class=\"form-group\">\n    <div class=\"input-group hidden-group\">\n      <input name=\"datepicker\" class=\"form-control\" ngbDatepicker #datepicker=\"ngbDatepicker\" [autoClose]=\"'outside'\"\n        (dateSelect)=\"onDateSelection($event)\" [displayMonths]=\"2\" [dayTemplate]=\"t\" outsideDays=\"hidden\"\n        [startDate]=\"fromDate!\">\n      <ng-template #t let-date let-focused=\"focused\">\n        <span class=\"custom-day\" [class.focused]=\"focused\" [class.range]=\"isRange(date)\"\n          [class.faded]=\"isHovered(date) || isInside(date)\" (mouseenter)=\"hoveredDate = date\"\n          (mouseleave)=\"hoveredDate = null\">\n          {{ date.day }}\n        </span>\n      </ng-template>\n    </div>\n  </div>\n  <div class=\"form-group\">\n    <div class=\"input-group\">\n      <input #dpFromDate class=\"form-control\" placeholder=\"yyyy-mm-dd\" name=\"dpFromDate\"\n        [value]=\"formatter.format(fromDate)\" (input)=\"fromDate = validateInput(fromDate, dpFromDate.value)\">\n      <div class=\"input-group-append\">\n        <button class=\"btn btn-outline-secondary calendar\" (click)=\"datepicker.toggle()\" type=\"button\">\n          <i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class=\"form-group ml-2\">\n    <div class=\"input-group\">\n      <input #dpToDate class=\"form-control\" placeholder=\"yyyy-mm-dd\" name=\"dpToDate\" [value]=\"formatter.format(toDate)\"\n        (input)=\"toDate = validateInput(toDate, dpToDate.value)\">\n      <div class=\"input-group-append\">\n        <button class=\"btn btn-outline-secondary calendar\" (click)=\"datepicker.toggle()\" type=\"button\">\n          <i class=\"fa fa-calendar\" aria-hidden=\"true\"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { NgbTimeStruct, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\n\nexport interface NgbDatetimeStruct extends NgbDateStruct, NgbTimeStruct { }\n\nexport class Datetime implements NgbDatetimeStruct {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n\n  timeZoneOffset: number;\n\n  public constructor( init?: Partial<Datetime>) {\n    Object.assign(this, init);\n  }\n\n  public static asToday(): Datetime {\n    const date = new Date();\n\n    return new Datetime({\n      year: date.getFullYear(),\n      month: date.getMonth() + 1,\n      day: date.getDate(),\n      hour: date.getHours(),\n      minute: date.getMinutes(),\n      second: date.getSeconds(),\n      timeZoneOffset: date.getTimezoneOffset()\n    });\n  }\n\n  public static fromLocalString(dateString: string): Datetime {\n    dateString = dateString.trim();\n    const pieces = dateString.split(' ');\n    let date: Date;\n\n    if (pieces.length > 0) {\n      let dateParts = [];\n      let timeParts = [];\n      if (pieces[0].indexOf('/') > -1) {\n        dateParts = pieces[0].split('/');\n      }\n      if (pieces.length > 1) {\n        timeParts = pieces[1].split(':');\n      }\n      if (timeParts.length === 0) {\n        date = new Date(dateParts[2].substr(0, 4) + '-' + dateParts[1] + '-' + dateParts[0]);\n      } else {\n        date = new Date(dateParts[2].substr(0, 4) + '-' + dateParts[1] + '-' + dateParts[0] + ' ' + timeParts.join(':'));\n      }\n\n    } else {\n      date = new Date(dateString);\n    }\n\n    const isValidDate = !isNaN(date.valueOf());\n\n    if (!dateString || !isValidDate) {\n      return null;\n    }\n\n    return new Datetime({\n      year: date.getFullYear(),\n      month: date.getMonth() + 1,\n      day: date.getDate(),\n      hour: date.getHours(),\n      minute: date.getMinutes(),\n      second: date.getSeconds(),\n      timeZoneOffset: date.getTimezoneOffset()\n    });\n  }\n\n  private isInteger(value: any): value is number {\n    return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n  }\n\n  public toString(): string {\n    if (this.isInteger(this.year) && this.isInteger(this.month) && this.isInteger(this.day)) {\n      const year = this.year.toString().padStart(2, '0');\n      const month = this.month.toString().padStart(2, '0');\n      const day = this.day.toString().padStart(2, '0');\n\n      if (!this.hour) {\n        this.hour = 0;\n      }\n      if (!this.minute) {\n        this.minute = 0;\n      }\n      if (!this.second) {\n        this.second = 0;\n      }\n      if (!this.timeZoneOffset) {\n        this.timeZoneOffset = new Date().getTimezoneOffset();\n      }\n\n      const hour = this.hour.toString().padStart(2, '0');\n      const minute = this.minute.toString().padStart(2, '0');\n      const second = this.second.toString().padStart(2, '0');\n\n      const tzo = -this.timeZoneOffset;\n      const dif = tzo >= 0 ? '+' : '-';\n      const pad = (num) => {\n        const norm = Math.floor(Math.abs(num));\n        return (norm < 10 ? '0' : '') + norm;\n      };\n\n      // tslint:disable-next-line:max-line-length\n      const isoString = `${pad(year)}-${pad(month)}-${pad(day)}T${pad(hour)}:${pad(minute)}:${pad(second)}${dif}${pad(tzo / 60)}:${pad(tzo % 60)}`;\n      return isoString;\n    }\n\n    return null;\n  }\n}\n","import { Component, OnInit, Input, HostBinding, ViewChild, Output, EventEmitter, forwardRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DatePipe } from '@angular/common';\nimport { NgbDate, NgbPopover, NgbPopoverConfig, NgbTimeStruct } from '@ng-bootstrap/ng-bootstrap';\nimport { toDate } from '../../common/helpers/date.helper';\nimport { Datetime } from '../datetime';\n\n@Component({\n  selector: 'ws-datetime-picker',\n  templateUrl: './datetime-picker.component.html',\n  styleUrls: ['./datetime-picker.component.css'],\n  providers: [\n    DatePipe,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DatetimePickerComponent),\n      multi: true\n    }\n  ]\n})\nexport class DatetimePickerComponent implements ControlValueAccessor {\n\n  @Input() disabled = false;\n  @HostBinding('style.opacity')\n  get opacity(): number {\n    return this.disabled ? 0.25 : 1;\n  }\n\n  @Input()\n  inputDatetimeFormat = 'dd/MM/yyyy HH:mm';\n\n  @Input() hourStep = 1;\n\n  @Input() minuteStep = 1;\n\n  @Input() secondStep = 30;\n\n  @Input() seconds = false;\n\n  showTimePickerToggle = false;\n\n  value: Datetime;\n\n  model: NgbDate | null;\n\n  @ViewChild('popOver')\n  popover: NgbPopover;\n\n  // tslint:disable-next-line:no-output-native\n  @Output() change = new EventEmitter<Datetime>();\n\n  // Function to call when the range changes.\n  onChange = (value: Datetime) => {};\n\n  // Function to call when the input is touched.\n  onTouched = () => {};\n\n  constructor(private config: NgbPopoverConfig) {\n    config.autoClose = 'outside';\n    config.placement = 'auto';\n  }\n\n  writeValue(obj: Datetime): void {\n    // report value back to the model\n    if (obj && !this.disabled) {\n      this.model = this.toNgbDate(new Date(obj.toString()));\n      this.value = obj;\n      this.onChange(obj);\n      this.change.emit(obj);\n    } else {\n      // when there's no input model registered\n      this.value = Datetime.asToday();\n      this.change.emit(obj);\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState?(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  onInputChange($event: any): void {\n    const value = $event.target.value;\n    const dt = Datetime.fromLocalString(value);\n\n    if (dt) {\n      this.writeValue(dt);\n    } else if (value.trim() === '') {\n      this.writeValue(new Datetime());\n    }\n  }\n\n  toggleDateTimeState(): void {\n    this.showTimePickerToggle = !this.showTimePickerToggle;\n  }\n\n  onDateChange(date: NgbDate): void {\n    if (!this.value) {\n      this.value = new Datetime();\n    }\n\n    this.value.year = date.year;\n    this.value.month = date.month;\n    this.value.day = date.day;\n    this.writeValue(this.value);\n  }\n\n  onTimeChange(event: NgbTimeStruct): void {\n    this.value.hour = event.hour;\n    this.value.minute = event.minute;\n    this.value.second = event.second;\n    this.writeValue(this.value);\n  }\n\n  onAccept(): void {\n    if (this.popover.isOpen()) {\n      this.popover.close();\n    }\n  }\n\n  inputBlur($event): void {\n    this.onTouched();\n  }\n\n  toNgbDate(date: Date): NgbDate {\n    date = toDate(date);\n    return new NgbDate(date.getFullYear(), date.getMonth() + 1, date.getDate());\n  }\n\n}\n","<div class=\"input-group mr-2\">\n  <input class=\"form-control form-control-sm\" (blur)=\"inputBlur($event)\"\n    [ngModel]=\"value.toString() | date:inputDatetimeFormat\" (change)=\"onInputChange($event)\" [disabled]='disabled'\n    [placeholder]=\"inputDatetimeFormat\" />\n\n  <div class=\"input-group-append\">\n    <button class=\"btn btn-outline-secondary btn-sm\" [ngbPopover]=\"calendarContent\" [disabled]='disabled' type=\"button\">\n      <i class=\"fa fa-calendar\"></i>\n    </button>\n  </div>\n</div>\n\n\n<ng-template #calendarContent>\n  <div>\n    <div *ngIf=\"!showTimePickerToggle\">\n      <ngb-datepicker #dp name=\"datepicker\" [ngModel]=\"value\" (ngModelChange)=\"onDateChange($event)\"></ngb-datepicker>\n      <button class=\"btn btn-block btn-outline-secondary\" [disabled]=\"!value?.day\" [ngbPopover]=\"timePickerContent\"\n        type=\"button\" (click)=\"toggleDateTimeState();\">\n        <i class=\"fa fa-clock-o\"></i>\n      </button>\n      <button class=\"btn btn-block btn-outline-secondary\" type=\"button\" (click)=\"onAccept()\">\n        <i class=\"fa fa-check\"></i>\n      </button>\n    </div>\n    <div *ngIf=\"showTimePickerToggle\">\n      <button class=\"btn btn-block btn-outline-secondary\" type=\"button\" (click)=\"toggleDateTimeState();\">\n        <i class=\"fa fa-calendar\"></i>\n      </button>\n      <button class=\"btn btn-block btn-outline-secondary\" type=\"button\" (click)=\"onAccept()\">\n        <i class=\"fa fa-check\"></i>\n      </button>\n      <div class=\"mt-auto\">\n        <ngb-timepicker #tp name=\"timepicker\" [ngModel]=\"value\" (ngModelChange)=\"onTimeChange($event)\"\n          [seconds]=\"seconds\" [hourStep]=\"hourStep\" [minuteStep]=\"minuteStep\" [secondStep]=\"secondStep\">\n        </ngb-timepicker>\n      </div>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #timePickerContent>\n  timepicker here!\n</ng-template>\n","import {Pipe, PipeTransform} from '@angular/core';\n@Pipe ({\n   name : 'wsSort'\n})\nexport class SortPipe implements PipeTransform {\n   transform(items, direction?, property?): any[] {\n     // default direction ascending\n     direction = direction === null || direction === undefined ? 'asc' : direction;\n\n     return items.sort((a, b) => {\n       // handle arrays or objects\n       const left = property === null || property === undefined ? a : a[property];\n       const right = property === null || property === undefined ? b : b[property];\n\n       // if equal weighting is the same\n       if (left === right) {\n         return 0;\n       }\n\n       // handle ascending and descening sorts\n       if (direction === 'desc') {\n         return left < right ? 1 : -1;\n       } else {\n         return left < right ? -1 : 1;\n       }\n    });\n   }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { Poll } from '../models/poll';\nimport { Result } from '../models/result';\nimport { Option } from '../models/option';\n\n@Component({\n  selector: 'ws-poll-result',\n  templateUrl: './poll-result.component.html',\n  styleUrls: ['./poll-result.component.css']\n})\nexport class PollResultComponent implements OnInit {\n\n  max: number;\n  @Input() poll: Poll;\n  @Input() results: Result[];\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.init();\n  }\n\n  // tslint:disable-next-line:use-lifecycle-interface typedef\n  ngOnChanges(): void {\n    this.init();\n  }\n\n  init(): void {\n    this.max = this.results.map(x => x.count).reduce((sum, current) => sum + current, 0);\n  }\n\n  countVotes(option: Option): number {\n    if (!this.poll || !this.results) {\n      return 0;\n    }\n\n    if (this.max === 0) {\n      return 0;\n    }\n\n    const result = this.results.find(x => x.option.id === option.id);\n    return result ? result.count : 0;\n  }\n}\n","<div *ngIf=\"results\">\n  <p *ngFor=\"let option of poll.options | wsSort: 'asc': 'id'\">\n    <strong>{{ option.text.text }}</strong><br />\n    <ngb-progressbar [showValue]=\"false\" type=\"success\" [value]=\"countVotes(option)\" [max]=\"max\">\n      {{ countVotes(option) }}</ngb-progressbar>\n  </p>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Poll } from '../models/poll';\nimport { Vote } from '../models/vote';\nimport { VoteEntry } from '../models/vote-entry';\nimport { Option } from '../models/option';\n\n@Component({\n  selector: 'ws-standard-poll',\n  templateUrl: './standard-poll.component.html',\n  styleUrls: ['./standard-poll.component.css']\n})\nexport class StandardPollComponent implements OnInit {\n\n  @Input() poll: Poll;\n  @Input() voted: Vote;\n  @Input() initialSelection: VoteEntry[];\n  @Output() optionSelected: EventEmitter<VoteEntry[]> = new EventEmitter();\n\n  selection: VoteEntry;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.init();\n  }\n\n  // tslint:disable-next-line:use-lifecycle-interface typedef\n  ngOnChanges() {\n    this.init();\n  }\n\n  init(): void {\n    if (this.initialSelection) {\n      if (this.initialSelection.length > 0) {\n        this.selection = this.initialSelection[0];\n      } else {\n        this.loadDefaultSelection();\n      }\n    } else {\n      this.loadDefaultSelection();\n    }\n  }\n\n  loadDefaultSelection(): void {\n    this.selection = { rank: 1, optionId: null };\n  }\n\n  isSelected(option: Option): boolean {\n    if (!this.selection) {\n      return false;\n    }\n\n    return this.selection.optionId === option.id;\n  }\n\n  onOptionSelect(option: Option): void {\n    const entry = { rank: 1, optionId: option.id };\n    this.optionSelected.emit([entry]);\n  }\n}\n","<ul class=\"list-group\">\n  <li *ngFor=\"let option of poll.options | wsSort: 'asc': 'id'\" class=\"list-group-item\"\n    [ngClass]=\"{active: voted.hasVoted && isSelected(option)}\">\n    <div class=\"form-check\">\n      <label class=\"form-check-label\">\n        <input type=\"radio\" class=\"form-check-input\" name=\"questions\" [disabled]=\"voted.hasVoted\"\n          [checked]=\"isSelected(option)\" [value]=\"option.id\" [(ngModel)]=\"selection.optionId\"\n          (click)=\"onOptionSelect(option)\" />{{ option.text.text }}\n      </label>\n    </div>\n  </li>\n</ul>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Poll } from '../models/poll';\nimport { Vote } from '../models/vote';\nimport { VoteEntry } from '../models/vote-entry';\n\n@Component({\n  selector: 'ws-weighted-poll',\n  templateUrl: './weighted-poll.component.html',\n  styleUrls: ['./weighted-poll.component.css']\n})\nexport class WeightedPollComponent implements OnInit {\n  @Input() poll: Poll;\n  @Input() voted: Vote;\n  @Input() initialSelection: VoteEntry[];\n  @Output() optionSelected: EventEmitter<VoteEntry[]> = new EventEmitter();\n\n  // selection: OptionView[];\n\n  numSelections: number[];\n\n  models: string[];\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.init();\n  }\n\n  init(): void {\n    // this.selection = [];\n    // ensure variables\n    this.numSelections = [];\n    this.models = [];\n\n    // loop for number of select boxes to show\n    this.numSelections = Array(this.poll.numberOfSelections).fill(0).map((x, i) => i);\n\n    // ensure each select box has a model to bind to\n    this.numSelections.forEach(num => {\n      const selected = this.initialSelection.find(x => x.rank === num + 1);\n      if (selected) {\n        this.models.push(selected.optionId.toString()); // handle initial selection\n      } else {\n        this.models.push('0'); // ensure the selection text is displayed\n      }\n    });\n  }\n\n  change(event: any, index): void {\n    // ensure we are not dealing with an unset action\n    if (event.target.value !== '0') {\n      const idx = this.models.findIndex(x => x === event.target.value);\n      // if an option was selected twice from different drop downs. unset the older selection\n      if (idx !== index && idx !== -1) {\n        this.models[idx] = '0';\n      }\n    }\n\n    // emit selection only if all options are selected\n    if (this.hasMaxSelections()) {\n      const output = [];\n      this.models.forEach((id, i) => {\n        const entry = {rank: i + 1, optionId: id};\n        output.push(entry);\n      });\n      this.optionSelected.emit(output);\n    }\n  }\n\n  hasMaxSelections(): boolean {\n    // if there are no unset options, we have max selection\n    return this.models.filter(x => x === '0').length === 0;\n  }\n\n  // convert this to an algorithm if the design works out\n  numberToWord(num: number): string {\n    if (num < 0 ) {\n      return null;\n    }\n    // TODO: Convert this to an algo\n    const word = ['zero', 'first', 'second', 'third', 'fourth', 'fifth', 'sixth', 'seventh', 'eight', 'ninth', 'tenth' ];\n    return word[num];\n  }\n\n  calcPointsForItem(num: number): number {\n    return this.poll.numberOfSelections - num;\n  }\n\n  isSelected(optionId: number): boolean {\n    return this.models.findIndex(x => x === String(optionId)) !== -1;\n  }\n}\n","<ul class=\"list-group\">\n  <li class=\"list-group-item\" *ngFor=\"let num of numSelections\">\n    <select class=\"form-control\" [(ngModel)]=\"models[num]\" (change)=\"change($event, num)\" [disabled]=\"voted.hasVoted\">\n      <option value=\"0\">{{ numberToWord(num + 1) }} selection ({{ calcPointsForItem(num) }} points)</option>\n      <option *ngFor=\"let option of poll.options\" value=\"{{ option.id }}\">{{ option.text.text }}</option>\n    </select>\n  </li>\n</ul>\n","import { Component, OnInit, Input, TemplateRef, Output, EventEmitter } from '@angular/core';\nimport { Poll } from '../models/poll';\nimport { Result } from '../models/result';\nimport { Vote } from '../models/vote';\nimport { Subscription } from 'rxjs';\nimport { GenericUtil } from '../../common/util/generic.util';\nimport { VoteEntry } from '../models/vote-entry';\n\n@Component({\n  selector: 'ws-vote-control',\n  templateUrl: './vote-control.component.html',\n  styleUrls: ['./vote-control.component.css']\n})\nexport class VoteControlComponent implements OnInit {\n\n  // button flags\n  @Input() showEditButton: boolean;\n  @Input() showExtendButton: boolean;\n  @Input() showResetButton: boolean;\n  @Input() showDeleteButton: boolean;\n\n  // input models\n  @Input() poll: Poll;\n  @Input() results: Result[];\n  @Input() voted: Vote;\n\n  // templates\n  @Input() beforeOptionsTemplate: TemplateRef<any>;\n  @Input() afterOptionsTemplate: TemplateRef<any>;\n  @Input() beforeResultTemplate: TemplateRef<any>;\n  @Input() afterResultTemplate: TemplateRef<any>;\n  @Input() titleTemplate: TemplateRef<any>;\n  @Input() footerTemplate: TemplateRef<any>;\n  @Input() questionTemplate: TemplateRef<any>;\n\n  // events\n  @Output() edit: EventEmitter<Poll> = new EventEmitter();\n  @Output() extend: EventEmitter<Poll> = new EventEmitter();\n  // tslint:disable-next-line:no-output-native\n  @Output() reset: EventEmitter<Poll> = new EventEmitter();\n  @Output() delete: EventEmitter<Poll> = new EventEmitter();\n\n  @Output() viewChange: EventEmitter<string> = new EventEmitter();\n  @Output() voteSelected: EventEmitter<VoteEntry[]> = new EventEmitter();\n  @Output() voteRemoved: EventEmitter<VoteEntry[]> = new EventEmitter();\n\n  view: string;\n  subscription: Subscription;\n  state: string;\n  selection: VoteEntry[];\n\n  constructor() { }\n\n\n  ngOnInit(): void {\n    this.view = 'question';\n    this.init();\n  }\n\n  // tslint:disable-next-line:use-lifecycle-interface typedef\n  ngOnChanges(): void {\n    this.init();\n  }\n\n  init(): void {\n    if (this.poll && this.results && this.voted) {\n      this.selection = this.voted.votes;\n      this.calculateState();\n    }\n  }\n\n  calculateState(): void {\n    this.state = 'running';\n    const now = new Date();\n    const start = this.parseDate(this.poll.start);\n    const expiry = this.parseDate(this.poll.expiry);\n\n    if (now < start) {\n      this.state = 'Not yet started';\n      this.view = 'result';\n      return;\n    }\n\n    if (now > expiry) {\n      this.state = 'expired';\n      this.view = 'result';\n      return;\n    }\n  }\n\n  selected(model: VoteEntry[]): void {\n    this.selection = model;\n  }\n\n  vote(): void {\n    if (this.voted.hasVoted) {\n      alert('You have already voted');\n    } else {\n      this.voteSelected.emit(this.selection);\n    }\n  }\n\n  unvote(): void {\n    this.voteRemoved.emit(this.selection);\n  }\n\n  changeView(view: string): void {\n    this.view = view;\n    this.viewChange.emit(view);\n  }\n\n  viewResultsState(): boolean {\n    if (this.view === 'result') {\n      return false;\n    }\n\n    if (!this.poll) {\n      return false;\n    }\n\n    if (this.poll.anonymousResults) {\n      return false;\n    }\n\n    const time = new Date().getTime();\n    const end = this.parseDate(this.poll.expiry).getTime();\n    if (this.poll.showingResults || time > end) {\n      return true;\n    }\n\n    return false;\n  }\n\n  parseDate(value: any): Date {\n    if (typeof value === 'string') {\n        return new Date(value);\n    }\n    return value;\n  }\n\n  hasVotesSelected(): boolean {\n    if (GenericUtil.isNullOrUndefined(this.selection)) {\n      return true;\n    }\n\n    return this.selection.length === 0;\n  }\n\n  editClick(poll: Poll): void {\n    this.edit.emit(poll);\n  }\n\n  extendClick(poll: Poll): void {\n    this.extend.emit(poll);\n  }\n\n  resetClick(poll: Poll): void {\n    this.reset.emit(poll);\n  }\n\n  deleteClick(poll: Poll): void {\n    this.delete.emit(poll);\n  }\n\n  showVoteButton(): boolean {\n    return this.voted && !this.voted.hasVoted && this.view === 'question' && this.state === 'running';\n  }\n\n  showClearVoteButton(): boolean {\n    return this.poll && this.voted && this.voted.hasVoted && this.view === 'question' && this.poll.allowingReVote\n        && this.state === 'running';\n  }\n\n}\n","<ng-template #voteControlEmptyTemplate>\n</ng-template>\n<ng-template #voteControlDefaultTitleTemplate>\n  {{ poll.title.text }}\n  <br />\n  <small class=\"text-muted\">Created By: {{ poll.createdBy.firstName }} {{ poll.createdBy.lastName }}</small>\n</ng-template>\n<ng-template #voteControlDefaultFooterTemplate>\n  <small class=\"text-muted\"><strong>Status:</strong> {{ state }} </small>&nbsp;|&nbsp;\n  <small *ngIf=\"state != 'Not yet started'\" class=\"text-muted\"><strong>Started:</strong>\n  <small *ngIf=\"state == 'Not yet started'\" class=\"text-muted\"><strong>Starts:</strong></small>\n    {{ poll.start | date: 'EEEE, MMMM d, y, HH:mm zzzz' }}</small>&nbsp;\n  <small *ngIf=\"state != 'expired'\" class=\"text-muted\"><strong>Finishes:</strong>\n  <small *ngIf=\"state == 'expired'\" class=\"text-muted\"><strong>Finished:</strong></small>\n  {{ poll.expiry | date: 'EEEE, MMMM d, y, HH:mm zzzz' }}</small>\n</ng-template>\n<ng-template #voteControlDefaultQuestionTemplate>\n  {{ poll.question.text }}\n</ng-template>\n\n<div class=\"card\" *ngIf=\"poll\">\n  <div class=\"card-header\">\n    <ng-container *ngTemplateOutlet=\"titleTemplate ? titleTemplate : voteControlDefaultTitleTemplate\"></ng-container>\n  </div>\n  <div class=\"card-body\">\n    <div class=\"card-title\">\n      <ng-container *ngTemplateOutlet=\"questionTemplate ? questionTemplate : voteControlDefaultQuestionTemplate\"></ng-container>\n    </div>\n    <div class=\"card-text\" *ngIf=\"view === 'question'\">\n      <ng-container *ngTemplateOutlet=\"beforeOptionsTemplate ? beforeOptionsTemplate : voteControlEmptyTemplate\"></ng-container>\n      <em *ngIf=\"voted.hasVoted\">You have already voted!</em>\n      <ws-standard-poll *ngIf=\"poll.type === 'standard'\" [poll]=\"poll\" [voted]=\"voted\" [initialSelection]=\"selection\"\n        (optionSelected)=\"selected($event)\">\n      </ws-standard-poll>\n      <ws-weighted-poll *ngIf=\"poll.type === 'weighted'\" [poll]=\"poll\" [voted]=\"voted\" [initialSelection]=\"selection\"\n        (optionSelected)=\"selected($event)\">\n      </ws-weighted-poll>\n      <ng-container *ngTemplateOutlet=\"afterOptionsTemplate ? afterOptionsTemplate : voteControlEmptyTemplate\"></ng-container>\n    </div>\n    <div class=\"card-text\" *ngIf=\"view === 'result'\">\n      <ng-container *ngTemplateOutlet=\"beforeResultTemplate ? beforeResultTemplate : voteControlEmptyTemplate\"></ng-container>\n      <ws-poll-result *ngIf=\"results\" [poll]=\"poll\" [results]=\"results\"></ws-poll-result>\n      <ng-container *ngTemplateOutlet=\"afterResultTemplate ? afterResultTemplate : voteControlEmptyTemplate\"></ng-container>\n    </div>\n    <hr />\n\n    <div class=\"pull-left\">\n      <button [disabled]=\"hasVotesSelected()\" *ngIf=\"showVoteButton()\" class=\"btn btn-success\" href=\"#\"\n        (click)=\"vote(); false;\"><i class=\"fa fa-check\"></i>&nbsp; Vote</button>&nbsp;\n      <button *ngIf=\"showClearVoteButton()\" class=\"btn btn-warning\" href=\"#\" (click)=\"unvote(); false;\"><i\n          class=\"fa fa-close\"></i>&nbsp; Clear Vote</button>&nbsp;\n      <button *ngIf=\"viewResultsState() && state === 'running'\" class=\"btn btn-primary\" href=\"#\"\n        (click)=\"changeView('result'); false;\"><i class=\"fa fa-area-chart\"></i>&nbsp; View Results</button>&nbsp;\n      <button *ngIf=\"view === 'result' && state === 'running'\" class=\"btn btn-primary\" href=\"#\"\n        (click)=\"changeView('question'); false;\"><i class=\"fa fa-question-circle\"></i>&nbsp; View Choices</button>&nbsp;\n    </div>\n    <div class=\"pull-right\">\n      <button *ngIf=\"showResetButton\" class=\"btn btn-primary\" href=\"#\" (click)=\"resetClick(poll); false;\"><i\n        class=\"fa fa-refresh\"></i>&nbsp; Reset</button>&nbsp;\n      <button *ngIf=\"showExtendButton\" class=\"btn btn-primary\" href=\"#\" (click)=\"extendClick(poll); false;\"><i\n          class=\"fa fa-arrows-h\"></i>&nbsp; Extend</button>&nbsp;\n      <button *ngIf=\"showEditButton\" class=\"btn btn-primary\" href=\"#\" (click)=\"editClick(poll); false;\"><i\n          class=\"fa fa-edit\"></i>&nbsp; Edit</button>&nbsp;\n      <button *ngIf=\"showDeleteButton\" class=\"btn btn-danger\" href=\"#\" (click)=\"deleteClick(poll); false;\"><i\n          class=\"fa fa-trash\"></i>&nbsp; Delete</button>&nbsp;\n    </div>\n  </div>\n  <div class=\"card-footer text-muted\">\n    <ng-container *ngTemplateOutlet=\"footerTemplate ? footerTemplate : voteControlDefaultFooterTemplate\"></ng-container>\n  </div>\n</div>\n","export const DEFAULT_LABELS = {\n  clearAllText: 'Clear all',\n  loadingText: 'Loading entities...',\n  notFoundText: 'No entities found',\n  typeToSearchText: 'Type to search',\n  placeholder: 'Select entity'\n};\n","import { Injectable } from '@angular/core';\nimport { WorldskillsAngularLibService } from '../worldskills-angular-lib.service';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { EntityFetchParams } from './models/entity-tree-fetch-params';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { EntityTreeListView } from '../auth/models/entity-tree-list-view';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EntityTreeService {\n\n  constructor(protected wsi: WorldskillsAngularLibService, protected http: HttpClient) {\n    this.wsi.serviceConfigSubject.subscribe(\n      next => {\n        this.endpoint = next.apiEndpoint + '/auth/ws_entities';\n      }\n    );\n  }\n\n  private subjects: Array<{\n    params: EntityFetchParams,\n    subject: BehaviorSubject<EntityTreeListView>,\n  }> = [];\n  public endpoint: string;\n  public subject: BehaviorSubject<EntityTreeListView> = new BehaviorSubject<EntityTreeListView>(null);\n\n  public static equals(a: EntityFetchParams, b: EntityFetchParams): boolean {\n    return (\n      a.limit === b.limit &&\n      a.offset === b.offset &&\n      a.depth === b.depth &&\n      a.member_of === b.member_of &&\n      a.name === b.name &&\n      a.role === b.role &&\n      a.roleApp === b.roleApp &&\n      a.sort === b.sort\n    );\n  }\n\n  public clearCache(params: EntityFetchParams = null): void {\n    if (params === null) {\n      this.subjects = [];\n    } else {\n      const cacheEntryIndex = this.subjects.findIndex(cE => EntityTreeService.equals(cE.params, params));\n      if (cacheEntryIndex >= 0) {\n        this.subjects.splice(cacheEntryIndex, 1);\n      }\n    }\n  }\n\n  public getCachedSubject(params: EntityFetchParams = {}, fetchOnCreate = true): BehaviorSubject<EntityTreeListView> {\n    const cacheEntry = this.subjects.find(cE => EntityTreeService.equals(cE.params, params));\n    if (cacheEntry) {\n      return cacheEntry.subject;\n    } else {\n      const newCacheEntry = {\n        params,\n        subject: new BehaviorSubject<EntityTreeListView>(null),\n      };\n      this.subjects.push(newCacheEntry);\n      if (fetchOnCreate) {\n        this.list(params);\n      }\n      return newCacheEntry.subject;\n    }\n  }\n\n  public list(params: EntityFetchParams = {}): Observable<EntityTreeListView> {\n    let httpParams = new HttpParams();\n    if (params.limit !== undefined) {\n      httpParams = httpParams.set('limit', params.limit.toString());\n    }\n    if (params.offset !== undefined) {\n      httpParams = httpParams.set('offset', params.offset.toString());\n    }\n    if (params.depth !== undefined) {\n      httpParams = httpParams.set('depth', params.depth.toString());\n    }\n    if (params.member_of !== undefined) {\n      httpParams = httpParams.set('member_of', params.member_of.toString());\n    }\n    if (params.name !== undefined) {\n      httpParams = httpParams.set('name', params.name.toString());\n    }\n    if (params.role !== undefined) {\n      httpParams = httpParams.set('role', params.role.toString());\n    }\n    if (params.roleApp !== undefined) {\n      httpParams = httpParams.set('roleApp', params.roleApp.toString());\n    }\n    if (params.sort !== undefined) {\n      httpParams = httpParams.set('sort', params.sort.toString());\n    }\n    const observable = this.http.get<EntityTreeListView>(this.endpoint, {params: httpParams});\n    const cacheEntry = this.subjects.find(cE => EntityTreeService.equals(cE.params, params));\n    if (cacheEntry) {\n      observable.subscribe(value => cacheEntry.subject.next(value));\n    }\n    observable.subscribe(value => this.subject.next(value));\n    return observable;\n  }\n}\n","import {\n  Component,\n  EventEmitter,\n  forwardRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport {DropdownPosition, NgSelectComponent} from '@ng-select/ng-select';\nimport {combineLatest, Subject, Subscription} from 'rxjs';\nimport {v4 as uuidv4} from 'uuid';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport { EntityTreeService } from '../entity-tree.service';\nimport { EntityFetchParams } from '../models/entity-tree-fetch-params';\nimport { EntityTreeSelectLabels } from '../models/entity-tree-select-labels';\nimport { EntityTreeSelectControls } from '../models/entity-tree-select-controls';\nimport { TreeEntity } from '../types/tree-entity';\nimport { DEFAULT_LABELS } from '../consts/default-labels';\n\nfunction isTreeEntity(obj: any): obj is TreeEntity {\n  return obj && typeof obj === 'object' && 'type' in obj && obj.type === 'treeEntity';\n}\n\n@Component({\n  selector: 'ws-entity-tree-select',\n  templateUrl: './entity-tree-select.component.html',\n  styleUrls: ['./entity-tree-select.component.css'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => EntityTreeSelectComponent),\n      multi: true\n    }\n  ]\n})\nexport class EntityTreeSelectComponent implements OnInit, OnDestroy, OnChanges, ControlValueAccessor {\n\n  /** labels for ng-select */\n  @Input() labels: EntityTreeSelectLabels = {};\n  /** control templates for the toolbar buttons */\n  @Input() controls: EntityTreeSelectControls = {};\n  /** query parameters to scope the available entities */\n  @Input() query: Omit<EntityFetchParams, 'limit' | 'offset' | 'depth'>;\n  /** entities input array */\n  @Input() entities: Array<any> = null;\n  /** always make children selectable of passed entities */\n  @Input() selectableChildren = true;\n  /** show unselectable parents */\n  @Input() showUnselectableParents = true;\n  /** whether or not to show the full path for selected entities */\n  @Input() showFullPath = true;\n  /** whether or not to show the header controls */\n  @Input() showControls = true;\n  /** whether to use api caching or not, caching is done per query request object, see EntityTreeService for more details */\n  @Input() cache = true;\n  /** if the tree is expanded by default */\n  @Input() defaultExpand = false;\n  private expandedSearch: Array<number> = [];\n  private flattenedEntities: Array<any> = [];\n  private flattenedTreeEntities: Array<TreeEntity> = [];\n  private lastTerm = ' ';\n  private lastSearch;\n  private refreshing = false;\n  private update = new Subject<TreeEntity>();\n  private htmlId: string;\n  private fetchedTreeEntities: Array<TreeEntity> = [];\n  private cachedWriteValueSubject = new Subject<any>();\n  private treeEntitiesSubject = new Subject<void>();\n  private writeValueSubscription: Subscription;\n  hasFocus = false;\n  loading = true;\n  treeEntities: Array<TreeEntity> = [];\n  expanded: Array<number> = [];\n\n  /** ng-select input */\n  @Input() appendTo = null;\n  /** ng-select input */\n  @Input() closeOnSelect = true;\n  /** ng-select input */\n  @Input() clearable = true;\n  /** ng-select input */\n  @Input() clearOnBackspace = true;\n  /** ng-select input */\n  @Input() dropdownPosition: DropdownPosition = 'auto';\n  /** ng-select input */\n  @Input() markFirst = true;\n  /** ng-select input */\n  @Input() isOpen: boolean = undefined;\n  /** ng-select input */\n  @Input() maxSelectedItems: number = undefined;\n  /** ng-select input */\n  @Input() hideSelected = false;\n  /** ng-select input */\n  @Input() multiple = false;\n  /** ng-select input */\n  @Input() searchable = true;\n  /** ng-select input */\n  @Input() readonly = false;\n  /** ng-select input */\n  @Input() searchWhileComposing = true;\n  /** ng-select input */\n  @Input() selectOnTab = false;\n  /** ng-select input */\n  @Input() openOnEnter = true;\n  /** ng-select input */\n  @Input() virtualScroll = false;\n  /** ng-select input */\n  @Input() inputAttrs: { [key: string]: string } = undefined;\n  /** ng-select input */\n  @Input() tabIndex: number = undefined;\n  /** ng-select output */\n    // tslint:disable-next-line:no-output-native\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n  /** ng-select output */\n    // tslint:disable-next-line:no-output-native\n  @Output() focus: EventEmitter<any> = new EventEmitter<any>();\n  /** ng-select output */\n    // tslint:disable-next-line:no-output-native\n  @Output() change: EventEmitter<any> = new EventEmitter<any>();\n  /** ng-select output */\n    // tslint:disable-next-line:no-output-native\n  @Output() open: EventEmitter<any> = new EventEmitter<any>();\n  /** ng-select output */\n    // tslint:disable-next-line:no-output-native\n  @Output() close: EventEmitter<any> = new EventEmitter<any>();\n  /** ng-select output */\n  @Output() search: EventEmitter<{ term: string; items: TreeEntity[]; }> = new EventEmitter<{ term: string; items: TreeEntity[]; }>();\n  /** ng-select output */\n  @Output() clear: EventEmitter<any> = new EventEmitter<any>();\n  /** ng-select output */\n  @Output() add: EventEmitter<any> = new EventEmitter<any>();\n  /** ng-select output */\n  @Output() remove: EventEmitter<any> = new EventEmitter<any>();\n  /** ng-select output */\n    // tslint:disable-next-line:no-output-native\n  @Output() scroll: EventEmitter<{ start: number; end: number; }> = new EventEmitter<{ start: number; end: number; }>();\n  /** ng-select output */\n  @Output() scrollToEnd: EventEmitter<any> = new EventEmitter<any>();\n\n  @ViewChild('ngSelectComponent', {static: true}) ngSelectComponent: NgSelectComponent;\n  @ViewChild('wrapperControl', {static: true}) wrapperControl: TemplateRef<{ $implicit: TemplateRef<void> }>;\n  @ViewChild('expandControl', {static: true}) expandControl: TemplateRef<{ enabled: boolean, click: () => void }>;\n  @ViewChild('expandAllControl', {static: true}) expandAllControl: TemplateRef<{ click: () => void }>;\n  @ViewChild('collapseControl', {static: true}) collapseControl: TemplateRef<{ enabled: boolean, click: () => void }>;\n  @ViewChild('collapseAllControl', {static: true}) collapseAllControl: TemplateRef<{ click: () => void }>;\n  @ViewChild('separatorControl', {static: true}) separatorControl: TemplateRef<void>;\n  @ViewChild('showingControl', {static: true}) showingControl: TemplateRef<{ showing: number, total: number }>;\n  /** compare function for ng-select */\n  @Input() compareWith: (a: any, b: any) => boolean;\n  /** the id callback function for the Input entities */\n  @Input() entityIdCallback: (entity: any) => number = (entity: any) => entity ? entity.id : undefined;\n\n  constructor(\n    private entityTreeService: EntityTreeService\n  ) {\n    this.htmlId = uuidv4();\n    this.compareWith = this.compareWith || ((a, b) => {\n      const aId = this.toId(a);\n      const bId = this.toId(b);\n      return aId && bId && aId === bId;\n    });\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.searchFn = this.searchFn.bind(this);\n  }\n\n  get currentMarkedEntity(): TreeEntity {\n    return (this.ngSelectComponent.itemsList.markedItem ? this.ngSelectComponent.itemsList.markedItem.value : null) as TreeEntity;\n  }\n\n  get filtered(): number {\n    return this.getFiltered(this.treeEntities);\n  }\n\n  get total(): number {\n    return this.ngSelectComponent.itemsList.items.length;\n  }\n\n  get queryParams(): EntityFetchParams {\n    return {limit: 9999, depth: 10, ...this.query};\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if ('entities' in changes) {\n      this.createTreeEntities();\n    }\n  }\n\n  ngOnInit(): void {\n    this.labels = {...DEFAULT_LABELS, ...this.labels};\n    this.controls = {\n      wrapper: this.wrapperControl,\n      expand: this.expandControl,\n      expandAll: this.expandAllControl,\n      collapse: this.collapseControl,\n      collapseAll: this.collapseAllControl,\n      separator: this.separatorControl,\n      showing: this.showingControl,\n      ...this.controls\n    };\n    let observable;\n    if (this.cache === false) {\n      observable = this.entityTreeService.list(this.queryParams);\n    } else {\n      observable = this.entityTreeService.getCachedSubject(this.queryParams);\n    }\n\n    this.writeValueSubscription = combineLatest([\n      this.cachedWriteValueSubject,\n      this.treeEntitiesSubject,\n    ]).subscribe(([value]) => this.ngSelectComponent.writeValue(this.multiple ?\n      ((value || []) as Array<any>).map(o => this.toTreeEntity(o)).filter(o => !!o) :\n      this.toTreeEntity(value)));\n\n    observable.subscribe(entities => {\n      if (!!entities) {\n        this.fetchedTreeEntities = entities.ws_entity_list.map(entity => this.deepCopyEntity(entity as TreeEntity));\n        this.createTreeEntities();\n        this.loading = false;\n        this.treeEntitiesSubject.next();\n      }\n    });\n\n    this.update.subscribe(() => {\n      this.refreshing = true;\n      this.ngSelectComponent.filter(this.lastTerm);\n      this.refreshing = false;\n    });\n\n    document.addEventListener('click', this.onClick, true);\n    document.addEventListener('keydown', this.onKeyDown, true);\n  }\n\n  private createTreeEntities(): void {\n    this.treeEntities = this.fetchedTreeEntities.map(e => this.deepCopyEntity(e));\n    this.flattenedEntities = this.flatten(this.entities || []);\n    this.setSelectable(\n      this.treeEntities,\n      this.entities === null ? true : this.flattenedEntities.map(entity => entity.id)\n    );\n    if (this.selectableChildren) {\n      this.setSelectableForChildren(this.treeEntities);\n    }\n    this.clearUnselectableTrees(this.treeEntities);\n    this.setParentsForEntities(this.treeEntities);\n    this.setPathNamesAndTypes(this.treeEntities);\n    if (!this.showUnselectableParents) {\n      this.treeEntities = this.flattenUnselectableParents(this.treeEntities);\n    }\n    this.flattenedTreeEntities = this.flatten(this.treeEntities);\n    if (this.defaultExpand) {\n      this.expandAll(this.treeEntities, false);\n    }\n    if (this.hasFocus) {\n      setTimeout(() => this.update.next(null));\n    }\n  }\n\n  private deepCopyEntity(entity: TreeEntity): any {\n    return {...entity, children: entity.children.map(e => this.deepCopyEntity(e))};\n  }\n\n  ngOnDestroy(): void {\n    this.writeValueSubscription.unsubscribe();\n    document.removeEventListener('click', this.onClick, true);\n    document.removeEventListener('keydown', this.onKeyDown, true);\n  }\n\n  isDomIdentifier(name: string): boolean {\n    return name.startsWith(`_${this.htmlId}`);\n  }\n\n  getDomIdentifier(name: string): string {\n    return `_${this.htmlId}-${name}`;\n  }\n\n  stripDomIdentifier(name: string): string {\n    return name.replace(`_${this.htmlId}-`, '');\n  }\n\n  private flatten(entities: Array<any>): Array<any> {\n    return entities.reduce((acc, entity) => entity.children ? [...acc, entity, ...this.flatten(entity.children)] : [...acc, entity], []);\n  }\n\n  private setParentsForEntities(entities: Array<TreeEntity>): void {\n    entities.forEach(e => {\n      e.children.forEach(c => {\n        c.parent = e;\n      });\n      this.setParentsForEntities(e.children);\n    });\n  }\n\n  private setPathNamesAndTypes(entities: Array<TreeEntity>): void {\n    entities.forEach(e => {\n      const paths = [];\n      let p = e;\n      while (p) {\n        paths.push(p.name.text);\n        p = p.parent;\n      }\n      e.allPaths = paths.reverse();\n      e.fullPathName = e.allPaths.join(' > ');\n      e.allPaths = e.allPaths.map(n => n.toLowerCase());\n      e.paths = [...e.allPaths];\n      e.paths.pop();\n      e.type = 'treeEntity';\n\n      this.setPathNamesAndTypes(e.children);\n    });\n  }\n\n  private setSelectable(entities: Array<TreeEntity>, selectables: Array<number> | true): void {\n    entities.forEach(e => {\n      e.filtered = true;\n      e.selectable = selectables === true ? true : selectables.includes(e.id);\n      this.setSelectable(e.children, selectables);\n    });\n  }\n\n  private setSelectableForChildren(entities: Array<TreeEntity>): void {\n    entities.forEach(e => {\n      if (e.selectable) {\n        e.children.forEach(c => {\n          c.selectable = true;\n        });\n      }\n      this.setSelectableForChildren(e.children);\n    });\n  }\n\n  private clearSafeChildren(entity: TreeEntity): boolean {\n    return entity.children.every(e => !e.selectable && this.clearSafeChildren(e));\n  }\n\n  private clearUnselectableTrees(entities: Array<TreeEntity>): void {\n    let clear = true;\n    while (clear) {\n      clear = false;\n      for (let i = 0; i < entities.length; i++) {\n        this.clearUnselectableTrees(entities[i].children);\n        if (!entities[i].selectable && this.clearSafeChildren(entities[i])) {\n          entities.splice(i, 1);\n          clear = true;\n          break;\n        }\n      }\n    }\n  }\n\n  private clearUnselectableTree(entity: TreeEntity): boolean {\n    if (entity.children.length === 0 || entity.children.every(c => !c.selectable)) {\n      return false;\n    } else {\n      this.clearUnselectableTrees(entity.children);\n      return true;\n    }\n  }\n\n  private flattenUnselectableParents(entities: Array<TreeEntity>): TreeEntity[] {\n    entities = [...entities];\n    let modified = true;\n    while (modified) {\n      modified = false;\n      for (let i = 0; i < entities.length; i++) {\n        if (!entities[i].selectable) {\n          const children: Array<TreeEntity> = [...entities[i].children];\n          children.forEach(c => {\n            c.parent = entities[i].parent;\n          });\n          entities.splice(i, 1, ...children);\n          modified = true;\n          break;\n        }\n      }\n    }\n    // tslint:disable-next-line:prefer-for-of\n    for (let i = 0; i < entities.length; i++) {\n      entities[i].children = this.flattenUnselectableParents(entities[i].children);\n    }\n    return entities;\n  }\n\n  isExpandable(entity: TreeEntity): boolean {\n    return entity.children.length > 0;\n  }\n\n  expandFn(entity: TreeEntity): any {\n    return () => entity && this.expand(entity);\n  }\n\n  expand(entity: TreeEntity): void {\n    if (!this.expanded.includes(entity.id)) {\n      this.expanded.push(entity.id);\n    }\n    this.update.next(entity);\n  }\n\n  expandAllFn(): any {\n    return () => this.expandAll(this.treeEntities);\n  }\n\n  expandAll(entities: Array<TreeEntity>, update = true): void {\n    entities.forEach(entity => {\n      if (this.isExpandable(entity) && !this.expanded.includes(entity.id)) {\n        this.expanded.push(entity.id);\n      }\n      this.expandAll(entity.children, false);\n    });\n    if (update) {\n      this.update.next(null);\n    }\n  }\n\n  expandArray(entities: Array<TreeEntity>): void {\n    entities.forEach(entity => {\n      if (!this.expanded.includes(entity.id)) {\n        this.expanded.push(entity.id);\n      }\n    });\n    this.update.next(null);\n  }\n\n  expandTree(entity: TreeEntity): void {\n    let currentEntity = entity;\n    while (currentEntity) {\n      if (!this.expanded.includes(currentEntity.id)) {\n        this.expanded.push(currentEntity.id);\n      }\n      currentEntity = currentEntity.parent;\n    }\n    this.update.next(null);\n  }\n\n  expandTrees(entities: Array<TreeEntity>): void {\n    entities.forEach(entity => {\n      let currentEntity = entity;\n      while (currentEntity) {\n        if (!this.expanded.includes(currentEntity.id)) {\n          this.expanded.push(currentEntity.id);\n        }\n        currentEntity = currentEntity.parent;\n      }\n    });\n    this.update.next(null);\n  }\n\n  collapseFn(entity: TreeEntity): any {\n    return () => entity && this.collapse(entity);\n  }\n\n  collapse(entity: TreeEntity): void {\n    if (this.expanded.includes(entity.id)) {\n      this.expanded.splice(this.expanded.findIndex(e => e === entity.id), 1);\n    }\n    this.update.next(entity);\n  }\n\n  collapseAllFn(): any {\n    return () => this.collapseAll(this.treeEntities);\n  }\n\n  collapseAll(entities: Array<TreeEntity>, update = true): void {\n    entities.forEach(entity => {\n      if (this.isExpandable(entity) && this.expanded.includes(entity.id)) {\n        this.expanded.splice(this.expanded.findIndex(e => e === entity.id), 1);\n      }\n      this.collapseAll(entity.children, false);\n    });\n    if (update) {\n      this.update.next(null);\n    }\n  }\n\n  toggleExpanded(entity: TreeEntity): void {\n    if (this.expanded.includes(entity.id)) {\n      this.expanded.splice(this.expanded.findIndex(e => e === entity.id), 1);\n    } else {\n      this.expanded.push(entity.id);\n    }\n    this.update.next(entity);\n  }\n\n  toggleExpandedById(id: number): void {\n    if (this.expanded.includes(id)) {\n      this.expanded.splice(this.expanded.findIndex(e => e === id), 1);\n    } else {\n      this.expanded.push(id);\n    }\n    this.update.next(null);\n  }\n\n  isTreeExpanded(entity: TreeEntity): boolean {\n    let currentEntity = entity;\n    while (currentEntity) {\n      if (!this.isExpanded(currentEntity)) {\n        return false;\n      } else {\n        currentEntity = currentEntity.parent;\n      }\n    }\n    return true;\n  }\n\n  isExpanded(entity: TreeEntity): boolean {\n    return this.expanded.includes(entity.id);\n  }\n\n  isCollapsed(entity: TreeEntity): boolean {\n    return !this.expanded.includes(entity.id);\n  }\n\n  isVisible(entity: TreeEntity): boolean {\n    return !entity.parent || this.isTreeExpanded(entity.parent);\n  }\n\n  trackByFn(entity: TreeEntity): any {\n    return entity.id;\n  }\n\n  onClear(event: any): void {\n    this.lastTerm = ' ';\n    this.update.next(null);\n    this.clear.emit(event);\n  }\n\n  onOpen(event: any): void {\n    setTimeout(() => {\n      this.update.next(null);\n    });\n    this.open.emit(event);\n  }\n\n  onSearch(event: { term: string; items: TreeEntity[]; }): void {\n    if (!this.refreshing) {\n      if (!!event.term.trim() && !this.lastSearch.trim()) {\n        this.expandedSearch = [...this.expanded];\n      } else if (!event.term.trim() && !!this.lastSearch.trim()) {\n        this.expanded = [...this.expandedSearch];\n        this.update.next(null);\n      }\n      if (!!event.term.trim()) {\n        this.expandTrees(event.items);\n      }\n    }\n    if (event.term === '') {\n      this.lastTerm = ' ';\n      this.update.next(null);\n    }\n    this.lastSearch = event.term;\n    this.search.emit(event);\n  }\n\n  searchFn(term: string, entity: TreeEntity): boolean {\n    this.lastTerm = term;\n    const terms = !!term.trim() ? term.split(/\\s*>\\s*/) : [];\n    const visible = this.entityContainsSearchTerm(terms, entity);\n    entity.filtered = visible;\n    return visible && this.isVisible(entity);\n  }\n\n  private entityContainsSearchTerm(terms: Array<string>, entity: TreeEntity): boolean {\n    if (terms.length > 0) {\n      const copyOfTerms = [...terms];\n      const actualTerm = copyOfTerms.pop().trim();\n      if (\n        entity.name.text.toLowerCase().includes(actualTerm) &&\n        copyOfTerms.every(term => entity.paths.some(path => path.includes(term.trim())))\n      ) {\n        return true;\n      } else {\n        return this.childrenContainSearchTerm(terms, entity.children);\n      }\n    } else {\n      return true;\n    }\n  }\n\n  private childrenContainSearchTerm(terms: Array<string>, entities: Array<TreeEntity>): boolean {\n    return entities.some(e => this.entityContainsSearchTerm(terms, e));\n  }\n\n  onChange(entity: TreeEntity | Array<TreeEntity>): void {\n    this.change.emit(this.multiple ? (entity as Array<any>).map(o => this.toId(o)) : this.toId(entity));\n  }\n\n  onClick(event: Event): void {\n    const target = event.target as HTMLDivElement;\n    if (target.dataset && target.dataset.entityExpanderId && this.isDomIdentifier(target.dataset.entityExpanderId)) {\n      const entityId = parseInt(this.stripDomIdentifier(target.dataset.entityExpanderId), 0);\n      this.toggleExpandedById(entityId);\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n  }\n\n  onKeyDown(event: KeyboardEvent): void {\n    if (this.hasFocus) {\n      const itemsList = this.ngSelectComponent.itemsList;\n      const entity = itemsList.markedItem ? itemsList.markedItem.value as TreeEntity : null;\n      if (entity) {\n        if (event.metaKey) {\n          let prevent = false;\n          let scrollAndUpdate = false;\n          if (event.key === 'ArrowLeft') {\n            if (this.isExpandable(entity) && this.isExpanded(entity)) {\n              this.collapse(entity);\n            } else if (entity.parent) {\n              const option = itemsList.filteredItems.find(\n                item => (item.value as TreeEntity).id === entity.parent.id);\n              if (option) {\n                itemsList.markItem(option);\n                scrollAndUpdate = true;\n              }\n            } else {\n              itemsList.markPreviousItem();\n              scrollAndUpdate = true;\n            }\n            prevent = true;\n          }\n          if (event.key === 'ArrowRight') {\n            if (this.isExpandable(entity) && this.isCollapsed(entity)) {\n              this.expand(entity);\n            } else if (this.isExpandable(entity) && this.isExpanded(entity)) {\n              const option = itemsList.filteredItems.find(item =>\n                (item.value as TreeEntity).parent_id && (item.value as TreeEntity).parent_id === entity.id);\n              if (option) {\n                itemsList.markItem(option);\n                scrollAndUpdate = true;\n              }\n            } else {\n              itemsList.markNextItem();\n              scrollAndUpdate = true;\n            }\n            prevent = true;\n          }\n\n          if (scrollAndUpdate) {\n            const dom = document.getElementById(itemsList.markedItem.htmlId);\n            if (dom) {\n              dom.scrollIntoView();\n            }\n            this.update.next(null);\n          }\n\n          if (prevent) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n          }\n        }\n      }\n    }\n  }\n\n  private getFiltered(entities: Array<TreeEntity>): any {\n    return entities.reduce((acc, e) => (e.filtered ? acc + 1 : acc) + this.getFiltered(e.children), 0);\n  }\n\n  registerOnChange(fn: any): void {\n    this.ngSelectComponent.registerOnChange(\n      obj => fn(this.multiple ? (obj as Array<any>).map(o => this.toId(o)) : this.toId(obj))\n    );\n  }\n\n  registerOnTouched(fn: any): void {\n    this.ngSelectComponent.registerOnTouched(fn);\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.ngSelectComponent.setDisabledState(isDisabled);\n  }\n\n  writeValue(obj: any): void {\n    this.cachedWriteValueSubject.next(obj);\n  }\n\n  toId(obj: any): any {\n    if (isTreeEntity(obj)) {\n      return obj.id;\n    } else if (typeof obj === 'number') {\n      return obj;\n    } else if (typeof obj === 'object') {\n      return this.entityIdCallback(obj);\n    } else {\n      return null;\n    }\n  }\n\n  toTreeEntity(obj: any): any {\n    if (isTreeEntity(obj)) {\n      return this.flattenedTreeEntities.find(e => e.id === obj.id);\n    } else if (typeof obj === 'number') {\n      return this.flattenedTreeEntities.find(e => e.id === obj);\n    } else if (typeof obj === 'object') {\n      return this.flattenedTreeEntities.find(e => e.id === this.entityIdCallback(obj));\n    } else {\n      return null;\n    }\n  }\n\n  toEntity(obj: any): any {\n    if (isTreeEntity(obj)) {\n      return this.flattenedEntities.find(e => this.entityIdCallback(e) === obj.id);\n    } else if (typeof obj === 'number') {\n      return this.flattenedEntities.find(e => this.entityIdCallback(e) === obj);\n    } else if (typeof obj === 'object') {\n      return this.flattenedEntities.find(e => this.entityIdCallback(e) === this.entityIdCallback(obj));\n    } else {\n      return null;\n    }\n  }\n\n}\n","<ng-template #wrapperControl let-template>\n  <div class=\"btn-group btn-group-sm\" role=\"group\">\n    <ng-template [ngTemplateOutlet]=\"template\"></ng-template>\n  </div>\n</ng-template>\n<ng-template #expandControl let-enabled=\"enabled\" let-click=\"click\">\n  <button [disabled]=\"!enabled\" class=\"btn btn-primary\" (click)=\"$event.preventDefault(); click()\">Expand</button>\n</ng-template>\n<ng-template #expandAllControl let-click=\"click\">\n  <button class=\"btn btn-primary\" (click)=\"click()\">Expand all</button>\n</ng-template>\n<ng-template #collapseControl let-enabled=\"enabled\" let-click=\"click\">\n  <button [disabled]=\"!enabled\" class=\"btn btn-primary\" (click)=\"click()\">Collapse</button>\n</ng-template>\n<ng-template #collapseAllControl let-click=\"click\">\n  <button class=\"btn btn-primary\" (click)=\"$event.preventDefault(); click()\">Collapse all</button>\n</ng-template>\n<ng-template #separatorControl></ng-template>\n<ng-template #showingControl let-showing=\"showing\" let-total=\"total\">\n  Showing {{showing}} of {{total}}\n</ng-template>\n\n<ng-template #controlsWrapper>\n  <ng-template [ngTemplateOutlet]=\"controls.collapse\"\n               [ngTemplateOutletContext]=\"{enabled: currentMarkedEntity && isExpandable(currentMarkedEntity) && isExpanded(currentMarkedEntity), click: collapseFn(currentMarkedEntity)}\"></ng-template>\n  <ng-template [ngTemplateOutlet]=\"controls.separator\"></ng-template>\n  <ng-template [ngTemplateOutlet]=\"controls.expand\"\n               [ngTemplateOutletContext]=\"{enabled: currentMarkedEntity && isExpandable(currentMarkedEntity) && isCollapsed(currentMarkedEntity), click: expandFn(currentMarkedEntity)}\"></ng-template>\n  <ng-template [ngTemplateOutlet]=\"controls.separator\"></ng-template>\n  <ng-template [ngTemplateOutlet]=\"controls.collapseAll\"\n               [ngTemplateOutletContext]=\"{click: collapseAllFn()}\"></ng-template>\n  <ng-template [ngTemplateOutlet]=\"controls.separator\"></ng-template>\n  <ng-template [ngTemplateOutlet]=\"controls.expandAll\"\n               [ngTemplateOutletContext]=\"{click: expandAllFn()}\"></ng-template>\n</ng-template>\n\n<ng-select\n\t#ngSelectComponent\n    [appendTo]=\"appendTo\"\n    [closeOnSelect]=\"closeOnSelect\"\n    [clearAllText]=\"labels.clearAllText\"\n    [clearable]=\"clearable\"\n    [clearOnBackspace]=\"clearOnBackspace\"\n    [compareWith]=\"compareWith\"\n    [dropdownPosition]=\"dropdownPosition\"\n    [loadingText]=\"labels.loadingText\"\n    [markFirst]=\"markFirst\"\n    [isOpen]=\"isOpen\"\n    [maxSelectedItems]=\"maxSelectedItems\"\n    [hideSelected]=\"hideSelected\"\n    [multiple]=\"multiple\"\n    [notFoundText]=\"labels.notFoundText\"\n    [searchable]=\"searchable\"\n    [readonly]=\"readonly\"\n    [searchFn]=\"searchFn\"\n    [searchWhileComposing]=\"searchWhileComposing\"\n    [selectOnTab]=\"selectOnTab\"\n    [openOnEnter]=\"openOnEnter\"\n    [typeToSearchText]=\"labels.typeToSearchText\"\n    [placeholder]=\"labels.placeholder\"\n    [virtualScroll]=\"virtualScroll\"\n    [inputAttrs]=\"inputAttrs\"\n    [loading]=\"loading\"\n    [tabIndex]=\"tabIndex\"\n    (blur)=\"hasFocus = false; blur.emit($event)\"\n    (focus)=\"hasFocus = true; focus.emit($event)\"\n    (change)=\"onChange($event)\"\n    (open)=\"onOpen($event)\"\n    (close)=\"close.emit($event)\"\n    (search)=\"onSearch($event)\"\n    (clear)=\"onClear($event)\"\n    (add)=\"add.emit($event)\"\n    (remove)=\"remove.emit($event)\"\n    (scroll)=\"scroll.emit($event)\"\n    (scrollToEnd)=\"scrollToEnd.emit($event)\"\n    [trackByFn]=\"trackByFn\"\n>\n  <ng-template #entityOption let-entity let-depth=\"depth\" let-visible=\"visible\">\n    <ng-container *ngIf=\"showControls && !!treeEntities\">\n      <ng-template ng-header-tmp>\n        <div class=\"d-flex flex-row justify-content-between align-items-center\">\n          <div>\n            <ng-template\n              [ngTemplateOutlet]=\"controls.showing\"\n              [ngTemplateOutletContext]=\"{showing: filtered, total: total}\"></ng-template>\n          </div>\n          <div>\n            <ng-template\n              [ngTemplateOutlet]=\"controls.wrapper\"\n              [ngTemplateOutletContext]=\"{$implicit: controlsWrapper}\"></ng-template>\n          </div>\n        </div>\n      </ng-template>\n    </ng-container>\n    <ng-template ng-label-tmp let-entity=\"item\" let-clear=\"clear\">\n      <span class=\"{{multiple ? 'px-2' : ''}}\">{{showFullPath ? entity.fullPathName : entity.name.text}}</span>\n      <ng-container *ngIf=\"multiple\">\n        <span style=\"cursor: pointer\" class=\"font-weight-bold px-2 border-left\" (click)=\"clear(entity)\">×</span>\n      </ng-container>\n    </ng-template>\n    <ng-option [value]=\"entity\" [disabled]=\"!entity.selectable\">\n      <div\n        [id]=\"getDomIdentifier('entity-' + entity.id)\"\n        [ngClass]=\"{'item-wrapper': true, 'level-0': depth === 0, 'level-1': depth === 1, 'level-2': depth === 2, 'level-3': depth === 3, 'level-4': depth === 4, 'level-5': depth === 5, 'level-6': depth === 6, 'expanded': isExpandable(entity) && isExpanded(entity), 'collapsed': isExpandable(entity) && isCollapsed(entity)}\">\n        <div class=\"expander\">\n          <div class=\"arrow\" [attr.data-entity-expander-id]=\"getDomIdentifier(entity.id)\">\n            {{isExpandable(entity) && isExpanded(entity) ? 'expanded' : (isExpandable(entity) && isCollapsed(entity) ? 'collapsed' : '')}}\n          </div>\n        </div>\n        <div class=\"item\">{{entity.name.text}}</div>\n      </div>\n    </ng-option>\n    <ng-container *ngFor=\"let child of entity.children\">\n      <ng-template\n        [ngTemplateOutlet]=\"entityOption\"\n        [ngTemplateOutletContext]=\"{$implicit: child, depth: depth + 1}\">\n      </ng-template>\n    </ng-container>\n  </ng-template>\n  <ng-container *ngFor=\"let entity of treeEntities\">\n    <ng-template\n      [ngTemplateOutlet]=\"entityOption\"\n      [ngTemplateOutletContext]=\"{$implicit: entity, depth: 0}\">\n    </ng-template>\n  </ng-container>\n</ng-select>\n","import { NgModule } from '@angular/core';\nimport { WorldskillsAngularLibComponent } from './worldskills-angular-lib.component';\nimport { AlertComponent } from './alerts/alert/alert.component';\nimport { AlertsComponent } from './alerts/alerts/alerts.component';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { OAuthModule } from 'angular-oauth2-oidc';\nimport { PuppeteerBannerComponent } from './banners/puppeteer-banner/puppeteer-banner.component';\nimport { StagingBannerComponent } from './banners/staging-banner/staging-banner.component';\nimport { BreadcrumbsComponent } from './breadcrumbs/breadcrumbs/breadcrumbs.component';\nimport { HeaderComponent } from './headers/header/header.component';\nimport { LogoComponent } from './logos/logo/logo.component';\nimport { WordmarkComponent } from './logos/wordmark/wordmark.component';\nimport { MenuAccessPipe } from './headers/menu-access.pipe';\nimport { FooterComponent } from './footer/footer/footer.component';\nimport { DateRangeComponent } from './date/date-range/date-range.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { DatetimePickerComponent } from './date/datetime-picker/datetime-picker.component';\nimport { FormsModule } from '@angular/forms';\nimport { SortPipe } from './common/pipes/date-sort.pipe';\nimport { PollResultComponent } from './polls/poll-result/poll-result.component';\nimport { StandardPollComponent } from './polls/standard-poll/standard-poll.component';\nimport { WeightedPollComponent } from './polls/weighted-poll/weighted-poll.component';\nimport { VoteControlComponent } from './polls/vote-control/vote-control.component';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { EntityTreeSelectComponent } from './entity-tree/entity-tree-select/entity-tree-select.component';\n\n\n@NgModule({\n  declarations: [\n    WorldskillsAngularLibComponent,\n    AlertComponent,\n    AlertsComponent,\n    BreadcrumbsComponent,\n    DateRangeComponent,\n    DatetimePickerComponent,\n    EntityTreeSelectComponent,\n    FooterComponent,\n    HeaderComponent,\n    LogoComponent,\n    MenuAccessPipe,\n    PollResultComponent,\n    PuppeteerBannerComponent,\n    SortPipe,\n    StagingBannerComponent,\n    StandardPollComponent,\n    VoteControlComponent,\n    WordmarkComponent,\n    WeightedPollComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    OAuthModule.forRoot(),\n    NgbModule,\n    NgSelectModule\n  ],\n  exports: [\n    WorldskillsAngularLibComponent,\n    AlertComponent,\n    AlertsComponent,\n    BreadcrumbsComponent,\n    DateRangeComponent,\n    DatetimePickerComponent,\n    EntityTreeSelectComponent,\n    FooterComponent,\n    HeaderComponent,\n    LogoComponent,\n    MenuAccessPipe,\n    PollResultComponent,\n    PuppeteerBannerComponent,\n    SortPipe,\n    StagingBannerComponent,\n    StandardPollComponent,\n    VoteControlComponent,\n    WordmarkComponent,\n    WeightedPollComponent\n  ]\n})\nexport class WorldskillsAngularLibModule { }\n","import { formatDate } from '@angular/common';\n\nexport class DateUtil {\n  // example: '2019-04-25T16:10:25+0200'\n  static toJavaDateString(date: Date, locale: string): string {\n    return formatDate(date, 'yyyy-MM-ddTHH:mm:ssZ', locale);\n  }\n}\n","import { HttpParams } from '@angular/common/http';\nimport { ArrayUtil } from './array.util';\nexport class HttpUtil {\n  static objectToParams(obj: {}): HttpParams {\n    let params = new HttpParams();\n    Object.getOwnPropertyNames(params).forEach((propName, propIndex) => {\n      const prop = obj[propName];\n      if (ArrayUtil.isArray(prop)) {\n        (prop as any[]).forEach((item, valueIndex) => {\n          if (valueIndex === 0) {\n            params = params.set(propName, item);\n          } else {\n            params = params.append(propName, item);\n          }\n        });\n      } else {\n        params = params.set(propName, prop);\n      }\n\n    });\n\n    return params;\n  }\n}\n","import { Subscription, TeardownLogic } from 'rxjs';\nimport { OnDestroy, Directive } from '@angular/core';\n\n\n@Directive()\n// tslint:disable-next-line:directive-class-suffix\nexport abstract class WsComponent implements OnDestroy {\n  protected subscriptions: Subscription = new Subscription();\n\n  constructor() {}\n\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n  }\n\n  // tslint:disable-next-line:typedef\n  protected subscribe(...teardowns: Array<TeardownLogic>) {\n    teardowns.forEach(teardown => this.subscriptions.add(teardown));\n  }\n\n}\n","import { BehaviorSubject, forkJoin, Observable, ReplaySubject, Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\n/**\n * Example usage:\n *\n * fetch(eventId: number, rOpt?: RequestOptions): Observable<T>;\n * fetch(eventId: number, params: FetchParams, rOpt?: RequestOptions): Observable<T>;\n * fetch(eventId: number, mOpt: MulticastOptions, rOpt?: RequestOptions): Observable<T>;\n * fetch(eventId: number, params: FetchParams, mOpt: MulticastOptions, rOpt?: RequestOptions): Observable<T>;\n * fetch(eventId: number, p1: P1, p2?: P2, p3?: P3): Observable<T> {\n *   const {fetchParams, multicastOptions, requestOptions} = this.resolveArgs(p1, p2, p3, FULL);\n *   const params: HttpParams = httpParamsFromFetchParams(fetchParams);\n *   const observable = this.http.get<T>(\"http://example.com\", {params}).pipe(share());\n *   return this.request(observable, multicastOptions);\n * }\n */\n\nexport interface MulticastOptions {\n  subject?: boolean;\n  loader?: boolean;\n  subscription?: boolean;\n  onError?: (error: any) => void;\n}\n\nexport interface FetchParams {\n  limit?: number;\n  offset?: number;\n  sort?: string;\n  l?: string;\n}\n\nexport interface RequestOptions {\n  url?: string;\n}\n\nexport function isMulticastOptions(object: any): object is MulticastOptions {\n  return object && ('subject' in object || 'loader' in object || 'subscription' in object || 'onError' in object);\n}\n\n// Fetch params can be empty and probably is most of the time, so hard to check this in a signature\nexport function isFetchParams(object: any): object is FetchParams {\n  return object && ('limit' in object || 'offset' in object || 'sort' in object || 'l' in object);\n}\n\nexport function isRequestOptions(object: any): object is RequestOptions {\n  return object && ('url' in object);\n}\n\nexport type WsServiceRequestP1 = FetchParams | MulticastOptions | RequestOptions;\nexport type WsServiceRequestP2 = MulticastOptions | RequestOptions;\nexport type WsServiceRequestP3 = RequestOptions;\n\nexport const FULL: MulticastOptions = {\n  subject: true,\n  loader: true,\n  subscription: true\n};\n\nexport const LOADER_ONLY: MulticastOptions = {\n  loader: true\n};\n\nexport const NO_SUBJECT: MulticastOptions = {\n  loader: true,\n  subscription: true\n};\n\nexport abstract class WsService<T, U extends FetchParams = FetchParams> {\n\n  private loaders = new BehaviorSubject(0);\n  private subscription: Subscription = null;\n  public subject = new ReplaySubject<T>(1);\n  public loading = new ReplaySubject<boolean>(1);\n\n  protected constructor() {\n    this.loaders.subscribe(numLoaders => this.loading.next(numLoaders !== 0));\n  }\n\n  protected resolveArgs(\n    p1: WsServiceRequestP1,\n    p2: WsServiceRequestP2,\n    p3: WsServiceRequestP3,\n    defaultMulticastOptions: MulticastOptions,\n    defaultFetchParams?: U\n  ): {\n    fetchParams: U,\n    multicastOptions: MulticastOptions,\n    requestOptions: RequestOptions\n  } {\n    let fetchParams: U;\n    let multicastOptions: MulticastOptions;\n    let requestOptions: RequestOptions;\n    if (isRequestOptions(p3)) {\n      fetchParams = p1 as U;\n      multicastOptions = p2 as MulticastOptions;\n      requestOptions = p3;\n    } else if (isRequestOptions(p2)) {\n      requestOptions = p2;\n      if (isMulticastOptions(p1)) {\n        multicastOptions = p1;\n      } else if (!isMulticastOptions(p1)) {\n        fetchParams = p1 as U;\n      }\n    } else if (isRequestOptions(p1)) {\n      requestOptions = p1;\n    } else {\n      if (isMulticastOptions(p2) && !isMulticastOptions(p1)) {\n        fetchParams = p1 as U;\n        multicastOptions = p2;\n      } else {\n        if (isMulticastOptions(p1)) {\n          multicastOptions = p1;\n        } else if (!isMulticastOptions(p1)) {\n          fetchParams = p1 as U;\n        }\n      }\n    }\n    if (fetchParams === undefined) {\n      fetchParams = defaultFetchParams;\n    }\n    if (multicastOptions === undefined) {\n      multicastOptions = defaultMulticastOptions;\n    }\n    if (requestOptions === undefined) {\n      requestOptions = {};\n    }\n    return {\n      fetchParams,\n      multicastOptions,\n      requestOptions\n    };\n  }\n\n  private incrementLoader(): void {\n    this.loaders.pipe(take(1)).subscribe(v => {\n      this.loaders.next(++v);\n    });\n  }\n\n  private decrementLoader(): void {\n    this.loaders.pipe(take(1)).subscribe(v => {\n      const loaders = Math.max(0, v - 1);\n      this.loaders.next(loaders);\n    });\n  }\n\n  protected multicast(observable: Observable<T | T[]>, options: MulticastOptions = FULL): void {\n    const {loader, subject, subscription, onError} = options;\n    if (loader) {\n      this.incrementLoader();\n    }\n    if (subscription && this.subscription) {\n      if (loader && !this.subscription.closed) {\n        this.decrementLoader();\n        this.subscription.unsubscribe();\n      }\n    }\n    const s = observable.subscribe(value => {\n      if (loader) {\n        this.decrementLoader();\n      }\n      if (subject) {\n        this.subject.next(value as T);\n      }\n    }, error => {\n      if (loader) {\n        this.decrementLoader();\n      }\n      if (onError) {\n        onError(error);\n      }\n    });\n    if (subscription) {\n      this.subscription = s;\n    }\n  }\n\n  protected request(observable: Observable<T>, options: MulticastOptions = FULL): Observable<T> {\n    this.multicast(observable, options);\n    return observable;\n  }\n\n  protected requestMany(observables: Array<Observable<T>>, options: MulticastOptions = NO_SUBJECT): Observable<Array<T>> {\n    const forkJoined = forkJoin(observables);\n    this.multicast(forkJoined, options);\n    return forkJoined;\n  }\n\n}\n","export enum AlertType {\n  error = 'alert-danger',\n  info = 'alert-info',\n  success = 'alert-success',\n  warning = 'alert-warning'\n}\n","import { WsiNgAuthService } from '../wsi-ng-auth.service';\nimport { Router } from '@angular/router';\nimport { User } from '../models/user';\n\nexport const RETURN_URL_KEY = 'returnUrl';\nexport class RedirectHandler {\n  constructor(protected service: WsiNgAuthService, protected router: Router) {\n  }\n\n  public redirectOrReturn(redirectRoute: string[], failure: (error: any) => void): void {\n    if (!this.service.isLoggedIn()) {\n      this.service.login();\n    } else {\n      if (this.hasReturnUrl()) {\n        this.handleReturnUrl(error => failure(error));\n      } else {\n        this.service.loadUserProfile(\n          next => {\n            sessionStorage.removeItem(RETURN_URL_KEY);\n            this.redirectUserToRoute(next, redirectRoute);\n          },\n          error => {\n            failure(error);\n          }\n        );\n      }\n    }\n  }\n\n  public hasReturnUrl(): boolean {\n    const returnUrl = sessionStorage.getItem(RETURN_URL_KEY);\n    return returnUrl !== null && returnUrl !== undefined && returnUrl !== 'undefined';\n  }\n\n  public handleReturnUrl(failure: (error: any) => void): void {\n    const returnUrl = sessionStorage.getItem(RETURN_URL_KEY);\n    sessionStorage.removeItem(RETURN_URL_KEY);\n    this.service.loadUserProfile(\n      next => this.redirectUserToUrl(next, returnUrl),\n      error => failure(error)\n    );\n\n  }\n\n  // override this method to catch a user being redirected to a specific returnUrl (when a user pastes a link in the browser)\n  public redirectUserToUrl(user: User, returnUrl: string): void {\n    this.router.navigateByUrl(returnUrl);\n  }\n\n   // override this method to catcch a user being redirected to the homepage route. useful if you need to load the homepage from the DB\n   public redirectUserToRoute(user: User, route: string[]): void {\n    this.router.navigate(route);\n  }\n}\n","import { I18nText } from '../../common/models/i18n-text';\n\nexport class EntityTreeView {\n  id: number;\n  name: I18nText;\n  // tslint:disable-next-line:variable-name\n  parent_id: number;\n  children: Array<EntityTreeView>;\n\n  constructor(obj?: any) {\n    this.id = obj && obj.id || undefined;\n    this.name = obj && obj.name || { lang_code: 'en', text: null };\n    this.parent_id = obj && obj.parent_id || undefined;\n    this.children = obj && obj.children || [];\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { OAuthService } from 'angular-oauth2-oidc';\nimport { WorldskillsAngularLibService } from '../worldskills-angular-lib.service';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { User } from './models/user';\nimport { Role } from './models/role';\nimport { UserList } from './models/user-list';\nimport { GetUsersParams } from './models/get-user-params';\nimport { HttpUtil } from '../common/util/http.util';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WsiAuthService {\n  protected appCode: number[];\n  protected endpoint: string;\n\n  constructor(protected wsi: WorldskillsAngularLibService, protected http: HttpClient, protected oAuthService: OAuthService) {\n    // listen for config changes\n    this.wsi.serviceConfigSubject.subscribe(\n      next => {\n        this.appCode = next.appCode;\n        this.endpoint = next.apiEndpoint + '/auth';\n      }\n    );\n  }\n\n  public ping(): Observable<any> {\n    const url = `${this.endpoint}/ping`;\n    return this.http.get(url, {} );\n  }\n\n  public getLoggedInUser(showChildRoles: boolean = false): Observable<User> {\n    let params = new HttpParams();\n    params = params.set('show_child_roles', String(showChildRoles));\n    this.appCode.forEach(code => {\n      if (params.has('app_code')) {\n        params = params.append('app_code', String(code));\n      } else {\n        params = params.set('app_code', String(code));\n      }\n    });\n    const url = `${this.endpoint}/users/loggedIn`;\n    return this.http.get<User>(url, {params});\n  }\n\n  public logout(): Observable<any> {\n    const authUrl = `${this.endpoint}/sessions/logout`;\n    return this.http.post(authUrl, {});\n\n  }\n\n  /*\n    User\n  */\n\n  public listUsers(filter: GetUsersParams): Observable<UserList> {\n    const params = HttpUtil.objectToParams(filter);\n    const url = `${this.endpoint}/users`;\n    return this.http.get<UserList>(url, {params});\n  }\n\n  public getUser(id: number): Observable<User> {\n    const url = `${this.endpoint}/users/${id}`;\n    return this.http.get<User>(url);\n  }\n\n  public getUserByPerson(id: number): Observable<User> {\n    const url = `${this.endpoint}/users/person/${id}`;\n    return this.http.get<User>(url);\n  }\n\n  /*\n    User Roles\n  */\n\n  public addRole(userId: number, roleId: number): Observable<any> {\n    const url = `${this.endpoint}/users/${userId}/roles`;\n    const data = { role_id: roleId };\n    return this.http.post(url, data);\n  }\n  public addRoleWithEntity(userId: number, roleId: number, entityId: number): Observable<any> {\n    const url = `${this.endpoint}/users/${userId}/roles`;\n    const data = { role_id: roleId, ws_entity_id: entityId };\n    return this.http.post(url, data);\n  }\n\n  public deleteRole(userId: number, roleId: number): Observable<any> {\n    const url = `${this.endpoint}/users/${userId}/roles/${roleId}`;\n    return this.http.delete(url);\n  }\n  public deleteRoleWithEntity(userId: number, roleId: number, entityId: number): Observable<any> {\n    const url = `${this.endpoint}/users/${userId}/roles/${roleId}?ws_entity_id=${entityId}`;\n    return this.http.delete(url);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { OAuthService } from 'angular-oauth2-oidc';\nimport { Router } from '@angular/router';\nimport { User } from './models/user';\nimport { WorldskillsAngularLibService } from '../worldskills-angular-lib.service';\nimport { WsiAuthService } from './wsi-auth.service';\n\n// TODO: This class can be cleanup up and optimized\n// TODO: Generate auth state\n@Injectable({\n  providedIn: 'root'\n})\nexport class WsiNgAuthService {\n  private currentUserSubject: BehaviorSubject<User>;\n  public currentUser: Observable<User>;\n\n  constructor(private wsi: WorldskillsAngularLibService, private oAuthService: OAuthService, private router: Router,\n              public service: WsiAuthService) {\n    this.wsi.authConfigSubject.subscribe(\n      next => {\n        this.oAuthService.configure(next);\n        this.currentUserSubject = new BehaviorSubject<User>(JSON.parse(sessionStorage.getItem('user.current')));\n        this.currentUser = this.currentUserSubject.asObservable();\n        this.oAuthService.setStorage(sessionStorage);\n        this.oAuthService.tryLogin();\n      }\n    );\n  }\n\n  public keepAlive(): void {\n    this.service.ping().subscribe(\n      error => {\n        console.log(error);\n        this.logout();\n      }\n    );\n  }\n\n  public get currentUserValue(): User {\n    return this.currentUserSubject.value;\n  }\n\n  public isLoggedIn(): boolean {\n    return this.oAuthService.hasValidAccessToken();\n  }\n\n  public async loadUserProfile(success: (user: User) => void, failure: (error: any) => void): Promise<void> {\n    this.service.getLoggedInUser().subscribe(\n      next => {\n        if (next != null) {\n          sessionStorage.setItem('user.current', JSON.stringify(next));\n          this.currentUserSubject.next(next);\n        }\n      },\n      error => {\n        this.currentUser = null;\n        failure(error);\n      },\n      () => success(this.currentUserSubject.value)\n    );\n  }\n\n  public login(): void {\n    this.oAuthService.initImplicitFlow();\n  }\n\n  public logout(): void {\n    this.service.logout().subscribe(\n      result => this.clearSession(),\n      error => this.clearSession(),\n      () => {}\n    );\n  }\n\n  protected clearSession(): void {\n    sessionStorage.removeItem('nonce');\n    sessionStorage.removeItem('user.current');\n    sessionStorage.removeItem('access_token_stored_at');\n    sessionStorage.removeItem('access_token');\n    sessionStorage.removeItem('token');\n    this.oAuthService.logOut();\n    this.currentUserSubject.next(null);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Route, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { WorldskillsAngularLibService } from '../worldskills-angular-lib.service';\nimport { WsiNgAuthService } from './wsi-ng-auth.service';\nimport { Observable } from 'rxjs';\nimport { AuthGuardAccess } from './models/auth-guard-access';\nimport { User } from './models/user';\nimport { GenericUtil } from '../common/util/generic.util';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppAuthGuard implements CanActivate {\n  constructor(protected auth: WsiNgAuthService, protected wsi: WorldskillsAngularLibService, protected router: Route) { }\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot)\n      : boolean | UrlTree | Observable<boolean | UrlTree> | Promise<boolean | UrlTree> {\n      const user = sessionStorage.getItem('user.current');\n\n      // ensure the user session exists\n      if (GenericUtil.isNullOrUndefined(user)) {\n          return this.login(state);\n      }\n\n      const userModel = JSON.parse(user) as User;\n\n      // ensure the user model is valid\n      if (GenericUtil.isNullOrUndefined(userModel)) {\n          return this.login(state);\n      }\n\n      const roles = route.data.roles as AuthGuardAccess[];\n\n      if (GenericUtil.isNullOrUndefined(roles)) {\n        return false;\n      }\n\n      const userRoles = userModel.roles\n        .filter( x =>\n          roles.findIndex(y => y.appCode === x.role_application.application_code && y.name === x.name) !== -1\n        );\n\n      return userRoles.length > 0;\n  }\n\n  login(state: RouterStateSnapshot): boolean {\n    sessionStorage.setItem('returnUrl', state.url);\n    this.auth.login();\n    return false;\n  }\n}\n","import {\n  Directive,\n  EventEmitter,\n  Host,\n  Input,\n  OnChanges,\n  OnInit,\n  Optional,\n  Output,\n  Self,\n  SimpleChange,\n  SimpleChanges\n} from '@angular/core';\nimport {NgSelectComponent} from '@ng-select/ng-select';\nimport { WsSelectChangeEvent } from '../models/ws-select-change-event';\n\n\nexport type EntryReader<T = any, U = any> = string | Array<string> | ((obj: T) => U);\n\n@Directive({\n  selector: '[wsSelect]'\n})\nexport class SelectDirective implements OnInit, OnChanges {\n\n  @Input('wsSelect') entryReader: [\n    EntryReader,\n    EntryReader,\n    EntryReader | undefined\n  ] | [\n    EntryReader,\n    EntryReader\n  ] | {\n    labelReader: EntryReader,\n    valueReader: EntryReader,\n    groupReader?: EntryReader\n  };\n  @Input() items: any;\n  @Output() wsChange: EventEmitter<WsSelectChangeEvent> = new EventEmitter<WsSelectChangeEvent>();\n  @Input() labelReader: EntryReader;\n  @Input() valueReader: EntryReader;\n  @Input() groupReader: EntryReader;\n  private originalItems: Array<any>;\n\n  constructor(\n    @Host() @Optional() @Self() private ngSelectComponent: NgSelectComponent\n  ) {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.ngSelectComponent && changes.items) {\n      this.updateItems(changes.items.currentValue, changes.items.isFirstChange());\n    }\n  }\n\n  ngOnInit(): void {\n    if (this.ngSelectComponent) {\n      let labelReaderFromMainSelector;\n      let valueReaderFromMainSelector;\n      let groupReaderFromMainSelector;\n      if (this.entryReader) {\n        if (Array.isArray(this.entryReader)) {\n          const [valueReaderFromMainArray, labelReaderFromMainArray, groupReaderFromMainArray] = this.entryReader;\n          labelReaderFromMainSelector = labelReaderFromMainArray;\n          valueReaderFromMainSelector = valueReaderFromMainArray;\n          groupReaderFromMainSelector = groupReaderFromMainArray;\n        } else {\n          const {\n            labelReader: labelReaderFromMainObject,\n            valueReader: valueReaderFromMainObject,\n            groupReader: groupReaderFromMainObject\n          } = this.entryReader;\n          labelReaderFromMainSelector = labelReaderFromMainObject;\n          valueReaderFromMainSelector = valueReaderFromMainObject;\n          groupReaderFromMainSelector = groupReaderFromMainObject;\n        }\n        if (!this.labelReader) {\n          this.labelReader = labelReaderFromMainSelector;\n        }\n        if (!this.valueReader) {\n          this.valueReader = valueReaderFromMainSelector;\n        }\n        if (!this.groupReader) {\n          this.groupReader = groupReaderFromMainSelector;\n        }\n      }\n      if (!this.labelReader || !this.valueReader) {\n        throw new Error('Provide both a means to read the label and the value');\n      }\n\n      if (typeof this.labelReader === 'string') {\n        this.labelReader = this.labelReader.split('.');\n      }\n      if (typeof this.valueReader === 'string') {\n        this.valueReader = this.valueReader.split('.');\n      }\n\n      this.ngSelectComponent.bindLabel = 'label';\n      this.ngSelectComponent.bindValue = 'value';\n\n      if (this.groupReader) {\n        this.ngSelectComponent.groupBy = 'group';\n      }\n\n      if (this.wsChange) {\n        const currentChangeEvent = this.ngSelectComponent.changeEvent;\n        const newEventEmitter = new EventEmitter<any>();\n        newEventEmitter.subscribe(original => {\n          if (original) {\n            this.wsChange.emit({\n              item: this.originalItems.find(i => this.readObjectValue(i) === original.value),\n              original,\n              value: original.value\n            });\n          } else {\n            this.wsChange.emit(null);\n          }\n        });\n        if (currentChangeEvent) {\n          const overrideEventEmitter = new EventEmitter<any>();\n          overrideEventEmitter.subscribe(obj => {\n            currentChangeEvent.emit(obj);\n            newEventEmitter.emit(obj);\n          });\n          this.ngSelectComponent.changeEvent = overrideEventEmitter;\n        } else {\n          this.ngSelectComponent.changeEvent = newEventEmitter;\n        }\n      }\n\n      this.updateItems(this.items);\n    }\n  }\n\n  private updateItems(items: Array<any>, firstChange = false): void {\n    if (items) {\n      this.originalItems = [...items];\n      this.ngSelectComponent.items = items.map(obj => ({\n        label: this.readObjectLabel(obj),\n        value: this.readObjectValue(obj),\n        group: this.groupReader ? this.readObjectGroup(obj) : undefined\n      }));\n      this.ngSelectComponent.ngOnChanges({items: new SimpleChange(null, this.ngSelectComponent.items, firstChange)});\n    }\n  }\n\n  private readObjectLabel(obj: any): any {\n    let label;\n    if (Array.isArray(this.labelReader)) {\n      if (this.labelReader.length === 1) {\n        label = obj[this.labelReader[0]];\n      } else {\n        label = obj;\n        for (const entry of this.labelReader) {\n          label = label[entry];\n          if (label === undefined) {\n            break;\n          }\n        }\n      }\n    } else if (typeof this.labelReader === 'function') {\n      label = this.labelReader(obj);\n    }\n    return label;\n  }\n\n  private readObjectValue(obj: any): any {\n    let value;\n    if (Array.isArray(this.valueReader)) {\n      if (this.valueReader.length === 1) {\n        value = obj[this.valueReader[0]];\n      } else {\n        value = obj;\n        for (const entry of this.valueReader) {\n          value = value[entry];\n          if (value === undefined) {\n            break;\n          }\n        }\n      }\n    } else if (typeof this.valueReader === 'function') {\n      value = this.valueReader(obj);\n    }\n    return value;\n  }\n\n  private readObjectGroup(obj: any): any {\n    let group;\n    if (Array.isArray(this.groupReader)) {\n      if (this.groupReader.length === 1) {\n        group = obj[this.groupReader[0]];\n      } else {\n        group = obj;\n        for (const entry of this.groupReader) {\n          group = group[entry];\n          if (group === undefined) {\n            break;\n          }\n        }\n      }\n    } else if (typeof this.groupReader === 'function') {\n      group = this.groupReader(obj);\n    }\n    return group;\n  }\n\n}\n","\nimport { HttpParameterCodec } from '@angular/common/http';\n\n// this incoder handles reserved characters such as the '+' symbol for special cases\nexport class WsHttpEncoder implements HttpParameterCodec {\n  encodeKey(key: string): string {\n    return encodeURIComponent(key);\n  }\n\n  encodeValue(value: string): string {\n    return encodeURIComponent(value);\n  }\n\n  decodeKey(key: string): string {\n    return decodeURIComponent(key);\n  }\n\n  decodeValue(value: string): string {\n    return decodeURIComponent(value);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { OAuthService } from 'angular-oauth2-oidc';\nimport { Observable } from 'rxjs';\nimport { WorldskillsAngularLibService } from '../worldskills-angular-lib.service';\nimport { WsHttpEncoder } from '../common/encoders/ws-http.encoder';\nimport { GenericUtil } from '../common/util/generic.util';\n\n@Injectable()\nexport class WsHttpInterceptor implements HttpInterceptor {\n\n  constructor(private wsi: WorldskillsAngularLibService, private oAuthService: OAuthService) { }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const config = this.wsi.httpConfigSubject.getValue();\n    const uriPatterns = GenericUtil.getValueOrDefault(config.authUriPatterns, []);\n    const encoderPatterns = GenericUtil.getValueOrDefault(config.encoderUriPatterns, []);\n    const authorize = uriPatterns.filter(s => req.url.match(s)).length > 0;\n    const rewrite = encoderPatterns.filter(s => req.url.match(s)).length > 0;\n\n    // append auth header\n    if (authorize) {\n      req = req.clone({\n        headers: new HttpHeaders({\n          Authorization: this.oAuthService.authorizationHeader(),\n        })\n      });\n    }\n\n    // rewrite parameters with encoder\n    if (rewrite) {\n      const params = new HttpParams({ encoder: new WsHttpEncoder(), fromString: req.params.toString() });\n      req = req.clone({ params });\n    }\n\n    return next.handle(req);\n  }\n}\n","import { I18nText } from '../../common/models/i18n-text';\nimport { Resource } from './resource';\nimport { VersionCreate } from './version-create';\nimport { ResourceMetadataUpdate } from './resource-metadata-update';\n\nexport class ResourceUpload {\n  name: I18nText;\n  // tslint:disable-next-line:variable-name\n  ws_entity: number;\n  types: number[];\n  version: VersionCreate;\n  metadata: ResourceMetadataUpdate[];\n  tags: string[];\n\n  constructor(obj?: Partial<ResourceUpload>) {\n    this.tags = []; // do not create tags\n    this.name = obj && obj.name || { lang_code: 'en', text: null };\n    this.ws_entity = obj && obj.ws_entity;\n    this.types = obj && obj.types || [];\n    this.version = obj && obj.version || {name: '1.0', };\n    this.metadata = obj && obj.metadata || [];\n  }\n\n  public static fromResource(resource: Resource): ResourceUpload {\n    const version = resource.versions[resource.versions.length - 1];\n    const translation = version.translations[version.translations.length - 1];\n    return new ResourceUpload(\n      {\n        name: resource.name,\n        ws_entity: resource.ws_entity.id,\n        tags: resource.tags,\n        types: resource.resource_types.map(x => x.id),\n        metadata: resource.metadata.map(x => {\n          return { metadata: x.metadata.id, value: x.value };\n        }),\n        version: {\n          name: version.name,\n          date: version.date,\n          tags: version.tags,\n          translation: {\n            version: version.id,\n            lang_code: translation.lang_code,\n            storage_data: translation.storage_data,\n            storage_type: translation.storage_type.id\n          }\n        }\n      }\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams, HttpEvent, HttpRequest, HttpProgressEvent, HttpResponse, HttpEventType } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UploadService {\n\n  constructor(private http: HttpClient) { }\n\n  public prepareUpload(url: string, data: FormData, params: HttpParams, method = 'POST'): HttpRequest<FormData> {\n    const options = {\n      params,\n      reportProgress: true,\n    };\n\n    return new HttpRequest(method, url, data, options);\n  }\n\n  // Full list of events: https://angular.io/api/common/http/HttpEventType\n  // event specific classes: https://angular.io/api/common/http/HttpEvent#description\n  public listen<T>(\n    request: HttpRequest<FormData>,\n    progress: (progress: HttpProgressEvent) => void,\n    complete: (response: HttpResponse<T>) => void): void {\n\n    this.http.request(request).subscribe((event: HttpEvent<T>) => {\n      switch (event.type) {\n        case HttpEventType.UploadProgress:\n          progress(event as HttpProgressEvent);\n          break;\n        case HttpEventType.Response:\n          complete(event as HttpResponse<T>);\n          break;\n      }\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { WorldskillsAngularLibService } from '../worldskills-angular-lib.service';\nimport { HttpClient, HttpRequest, HttpParams } from '@angular/common/http';\nimport { UploadService } from '../common/services/upload.service';\nimport { Resource } from './models/resource';\nimport { ResourceSearch } from './models/resource-search';\nimport { HttpUtil } from '../common/util/http.util';\nimport { ResourceType } from './models/resource-type';\nimport { Observable } from 'rxjs';\nimport { ResourceMetadataInfo } from './models/resource-metadata-info';\nimport { ResourceContainer } from './models/resource-container';\nimport { ResourceUpload } from './models/resourcec-upload';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ResourceService {\n  private url: string;\n\n  constructor(private wsi: WorldskillsAngularLibService, private http: HttpClient, public uploader: UploadService) {\n    this.wsi.serviceConfigSubject.subscribe(\n      next => {\n        this.url = next.apiEndpoint + '/resources';\n      }\n    );\n  }\n\n  /*\n    ResourceResource\n  */\n\n  // allow a client to user submit an object directly or use a managed object\n  public search(filter: ResourceSearch): Observable<ResourceContainer> {\n    const params = HttpUtil.objectToParams(filter);\n    return this.http.get<ResourceContainer>(this.url, { params });\n  }\n\n  public get(id: number): Observable<Resource> {\n    const url = `${this.url}/${id}`;\n    return this.http.get<Resource>(url);\n  }\n\n  public delete(id: number): Observable<any> {\n    const url = `${this.url}/${id}`;\n    return this.http.delete(url);\n  }\n\n  public update(id: number, model: ResourceUpload): Observable<Resource> {\n    const url = `${this.url}/${id}`;\n    return this.http.put<Resource>(url, model);\n  }\n\n  // this more or less saves the resource to the api\n  // the client has control over weather it's a POST or a PUT\n  public upload(data: ResourceUpload, file: any, method = 'POST', id = 0): HttpRequest<FormData> {\n    const url = method === 'POST' ? this.url : `${this.url}/${id}`;\n    const formData = new FormData();\n    formData.append('key', 'value');\n    formData.append('requestData', JSON.stringify(data));\n    formData.append('file', file);\n\n    return this.uploader.prepareUpload(url, formData, new HttpParams(), method);\n  }\n\n  /* /types\n    ResourceTypeResource\n  */\n\n  public listTypes(): Observable<ResourceType[]> {\n    const url = `${this.url}/types`;\n    return this.http.get<ResourceType[]>(url);\n  }\n\n  public getType(id: number): Observable<ResourceType> {\n    const url = `${this.url}/types/${id}`;\n    return this.http.get<ResourceType>(url);\n  }\n\n  /* /metadata\n    MetadataResource\n  */\n  public listMetadata(): Observable<ResourceMetadataInfo[]> {\n    const url = `${this.url}/metadata`;\n    return this.http.get<ResourceMetadataInfo[]>(url);\n  }\n\n  public getMetadata(id: number): Observable<ResourceMetadataInfo> {\n    const url = `${this.url}/metadata/${id}`;\n    return this.http.get<ResourceMetadataInfo>(url);\n  }\n\n  public createMetadata(model: ResourceMetadataInfo): Observable<ResourceMetadataInfo> {\n    const url = `${this.url}/metadata`;\n    return this.http.post<ResourceMetadataInfo>(url, model);\n  }\n\n  public updateMetadata(id: number, model: ResourceMetadataInfo): Observable<ResourceMetadataInfo> {\n    const url = `${this.url}/metadata/${id}`;\n    return this.http.put<ResourceMetadataInfo>(url, model);\n  }\n\n  public deleteMetadata(id: number): Observable<any> {\n    const url = `${this.url}/metadata/${id}`;\n    return this.http.delete(url);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { WorldskillsAngularLibService } from '../worldskills-angular-lib.service';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Poll } from './models/poll';\nimport { Option } from './models/option';\nimport { Page } from './models/page';\nimport { Result } from './models/result';\nimport { Vote } from './models/vote';\nimport { VoteEntry } from './models/vote-entry';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PollService {\n  public endpoint: string;\n\n  constructor(protected wsi: WorldskillsAngularLibService, protected http: HttpClient) {\n    this.wsi.serviceConfigSubject.subscribe(\n      next => {\n        this.endpoint = next.apiEndpoint + '/votes';\n      }\n    );\n  }\n\n  public list(params: any): Observable<Page<Poll>> {\n    return this.http.get<Page<Poll>>(this.endpoint, {params});\n  }\n\n  public select(params: any): Observable<Poll[]> {\n    const url = `${this.endpoint}/select`;\n    return this.http.get<Poll[]>(url, {params});\n  }\n\n  public get(id: number): Observable<Poll> {\n    const url = `${this.endpoint}/${id}`;\n    return this.http.get<Poll>(url);\n  }\n\n  public getResults(id: number): Observable<Result[]> {\n    const url = `${this.endpoint}/${id}/results`;\n    return this.http.get<Result[]>(url);\n  }\n\n  public hasVoted(id: number): Observable<Vote> {\n    const url = `${this.endpoint}/${id}/has_voted`;\n    return this.http.get<Vote>(url);\n  }\n\n  public create(model: Poll): Observable<Poll> {\n    return this.http.post<Poll>(this.endpoint, model);\n  }\n\n  public update(id: number, model: Poll): Observable<Poll> {\n    const url = `${this.endpoint}/${id}`;\n    return this.http.put<Poll>(url, model);\n  }\n\n  public delete(id: number): Observable<any> {\n    const url = `${this.endpoint}/${id}`;\n    return this.http.delete(url);\n  }\n\n  public undelete(id: number): Observable<any> {\n    const url = `${this.endpoint}/${id}/undelete`;\n    return this.http.put(url, {});\n  }\n\n  public reset(id: number, start: Date, expiry: Date): Observable<any> {\n    const model = { start, expiry };\n    const url = `${this.endpoint}/${id}/reset`;\n    return this.http.put(url, model);\n  }\n\n  public extend(id: number, expiry: Date): Observable<any> {\n    const model = { expiry };\n    const url = `${this.endpoint}/${id}/extend`;\n    return this.http.put(url, model);\n  }\n\n  public addVote(pollId: number, votes: VoteEntry): Observable<Option> {\n    const model =  { votes };\n    const url = `${this.endpoint}/${pollId}/addVote`;\n    return this.http.post<Option>(url, model);\n  }\n\n  public unvote(pollId: number): Observable<any> {\n    const url = `${this.endpoint}/${pollId}/removeVote`;\n    return this.http.delete(url);\n  }\n}\n","/*\n * Public API Surface of worldskills-angular-lib\n */\nexport * from './lib/worldskills-angular-lib.service';\nexport * from './lib/worldskills-angular-lib.component';\nexport * from './lib/worldskills-angular-lib.module';\n\n/*\n  Shared Models\n*/\nexport * from './lib/common/models/i18n-text';\nexport * from './lib/common/models/link';\nexport * from './lib/common/models/pair';\n\n/*\n  Config\n*/\nexport * from './lib/config/app.config';\nexport * from './lib/config/http.config';\nexport * from './lib/config/service.config';\n\n/*\n  Date\n*/\nexport * from './lib/date/date-range';\nexport * from './lib/date/date-range/date-range.component';\nexport * from './lib/date/datetime';\nexport * from './lib/date/datetime-picker/datetime-picker.component';\n\n/*\n  Util\n*/\nexport * from './lib/common/util/array.util';\nexport * from './lib/common/util/date.util';\nexport * from './lib/common/util/generic.util';\nexport * from './lib/common/util/http.util';\nexport * from './lib/common/util/ws.component';\nexport * from './lib/common/util/ws.service';\n\n/*\n  Helpers\n*/\nexport * from './lib/common/helpers/date.helper';\n\n/*\n  Pipes\n*/\nexport * from './lib/common/pipes/date-sort.pipe';\n\n/*\n  Alerts\n*/\nexport * from './lib/alerts/alert-type';\nexport * from './lib/alerts/alert';\nexport * from './lib/alerts/alerts/alerts.component';\nexport * from './lib/worldskills-angular-lib.service';\nexport * from './lib/alerts/alert/alert.component';\n\n/*\n  Auth\n*/\nexport * from './lib/auth/handlers/redirect.handler';\nexport * from './lib/auth/models/auth-guard-access';\nexport * from './lib/auth/models/entity-tree-view';\nexport * from './lib/auth/models/entity-tree-view';\nexport * from './lib/auth/models/get-user-params';\nexport * from './lib/auth/models/role-application';\nexport * from './lib/auth/models/role';\nexport * from './lib/auth/models/user-list';\nexport * from './lib/auth/models/user';\nexport * from './lib/auth/models/ws-entity';\nexport * from './lib/auth/app-auth.guard';\nexport * from './lib/auth/wsi-auth.service';\nexport * from './lib/auth/wsi-ng-auth.service';\n\n/*\n  entity-tree\n*/\n// TODO: perhaps look at refactoring entity-tree as there's a lot of overlap with auth\nexport * from './lib/entity-tree/consts/default-labels';\nexport * from './lib/entity-tree/directives/select.directive';\nexport * from './lib/entity-tree/entity-tree-select/entity-tree-select.component';\nexport * from './lib/entity-tree/entity-tree.service';\nexport * from './lib/entity-tree/models/entity-tree-fetch-params';\nexport * from './lib/entity-tree/models/entity-tree-select-controls';\nexport * from './lib/entity-tree/models/entity-tree-select-labels';\nexport * from './lib/entity-tree/models/ws-select-change-event';\nexport * from './lib/entity-tree/types/tree-entity';\n\n\n/*\n  Banners\n*/\nexport * from './lib/banners/puppeteer-banner/puppeteer-banner.component';\nexport * from './lib/banners/staging-banner/staging-banner.component';\n\n/*\n  Breadcrumbs\n*/\nexport * from './lib/breadcrumbs/breadcrumbs/breadcrumbs.component';\nexport * from './lib/breadcrumbs/breadcrumb';\nexport * from './lib/breadcrumbs/breadcrumbs.service';\n\n/*\n  Encoders\n*/\nexport * from './lib/common/encoders/ws-http.encoder';\n\n/*\n  Footer\n*/\nexport * from './lib/footer/footer/footer.component';\n\n/*\n  Header\n*/\nexport * from './lib/headers/header/header.component';\nexport * from './lib/headers/menu-item';\nexport * from './lib/headers/menu-access.pipe';\n\n/*\n  i18n\n*/\nexport * from './lib/i18n/language';\n\n/*\n  Interceptors\n*/\nexport * from './lib/interceptors/ws-http.interceptor';\n\n/*\n  Logos\n*/\nexport * from './lib/logos/logo/logo.component';\nexport * from './lib/logos/wordmark/wordmark.component';\n\n/*\n  Resource\n*/\nexport * from './lib/resources/models/resource';\nexport * from './lib/resources/models/resource-container';\nexport * from './lib/resources/models/resource-metadata';\nexport * from './lib/resources/models/resource-metadata-info';\nexport * from './lib/resources/models/resource-search';\nexport * from './lib/resources/models/resource-type';\nexport * from './lib/resources/models/resource-type-metadata';\nexport * from './lib/resources/models/resourcec-upload';\nexport * from './lib/resources/models/sotrage-type';\nexport * from './lib/resources/models/translation';\nexport * from './lib/resources/models/translation-create';\nexport * from './lib/resources/models/version';\nexport * from './lib/resources/models/version-create';\nexport * from './lib/resources/resource.service';\n\n\n/*\n  Polls\n*/\nexport * from './lib/polls/models/created-by';\nexport * from './lib/polls/models/entity-path';\nexport * from './lib/polls/models/entity-path-item';\nexport * from './lib/polls/models/option';\nexport * from './lib/polls/models/page';\nexport * from './lib/polls/models/poll';\nexport * from './lib/polls/models/result';\nexport * from './lib/polls/models/vote-entry';\nexport * from './lib/polls/models/vote';\nexport * from './lib/polls/poll-result/poll-result.component';\nexport * from './lib/polls/standard-poll/standard-poll.component';\nexport * from './lib/polls/vote-control/vote-control.component';\nexport * from './lib/polls/weighted-poll/weighted-poll.component';\nexport * from './lib/polls/poll.service';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["rxjs_1","core_1","generic_util_1","array_util_1","router_1","common_1","ng_bootstrap_1","date_helper_1","forms_1","datetime_1","http_1","uuid_1","default_labels_1","platform_browser_1","angular_oauth2_oidc_1","ng_select_1","worldskills_angular_lib_component_1","alert_component_1","alerts_component_1","breadcrumbs_component_1","date_range_component_1","datetime_picker_component_1","entity_tree_select_component_1","footer_component_1","header_component_1","logo_component_1","menu_access_pipe_1","poll_result_component_1","puppeteer_banner_component_1","date_sort_pipe_1","staging_banner_component_1","standard_poll_component_1","vote_control_component_1","wordmark_component_1","weighted_poll_component_1","operators_1","http_util_1","ws_http_encoder_1","tslib_1"],"mappings":"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"}